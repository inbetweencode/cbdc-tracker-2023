var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function l(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,e,n){t.$$.on_destroy.push(s(e,n))}function c(t,e,n,r){if(t){const o=f(t,e,n,r);return t[0](o)}}function f(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function h(t,e,n,r,o,i,l){const a=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,i);if(a){const o=f(e,n,r,l);t.p(o,a)}}function p(e){return e&&l(e.destroy)?e.destroy:t}const d="undefined"!=typeof window;let m=d?()=>window.performance.now():()=>Date.now(),g=d?t=>requestAnimationFrame(t):t;const v=new Set;function y(t){v.forEach((e=>{e.c(t)||(v.delete(e),e.f())})),0!==v.size&&g(y)}function w(t){let e;return 0===v.size&&g(y),{promise:new Promise((n=>{v.add(e={c:t,f:n})})),abort(){v.delete(e)}}}let $,_=!1;function b(t,e,n,r){for(;t<e;){const o=t+(e-t>>1);n(o)<=r?t=o+1:e=o}return t}function x(t,e){_?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let o=0;for(let t=0;t<e.length;t++){const i=b(1,o+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;r[t]=n[i]+1;const l=i+1;n[l]=t,o=Math.max(l,o)}const i=[],l=[];let a=e.length-1;for(let t=n[o]+1;0!=t;t=r[t-1]){for(i.push(e[t-1]);a>=t;a--)l.push(e[a]);a--}for(;a>=0;a--)l.push(e[a]);i.reverse(),l.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<l.length;e++){for(;n<i.length&&l[e].claim_order>=i[n].claim_order;)n++;const r=n<i.length?i[n]:null;t.insertBefore(l[e],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function k(t,e,n){_&&!n?x(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function M(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function j(){return A(" ")}function N(){return A("")}function R(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function O(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){for(const n in e)z(t,n,e[n])}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function P(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function F(){if(void 0===$){$=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){$=!0}}return $}function H(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=S("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=F();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=R(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{o=R(n.contentWindow,"resize",e)}),x(t,n),()=>{(r||o&&n.contentWindow)&&o(),C(n)}}function D(t,e,n){t.classList[n?"add":"remove"](e)}function I(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const q=new Set;let U,W=0;function Y(t,e,n,r,o,i,l,a=0){const s=16.666/r;let u="{\n";for(let t=0;t<=1;t+=s){const r=e+(n-e)*i(t);u+=100*t+`%{${l(r,1-r)}}\n`}const c=u+`100% {${l(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${a}`,h=t.ownerDocument;q.add(h);const p=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(S("style")).sheet),d=h.__svelte_rules||(h.__svelte_rules={});d[f]||(d[f]=!0,p.insertRule(`@keyframes ${f} ${c}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${o}ms 1 both`,W+=1,f}function G(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),W-=o,W||g((()=>{W||(q.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),q.clear())})))}function X(t){U=t}function V(){if(!U)throw new Error("Function called outside component initialization");return U}function K(t){V().$$.on_mount.push(t)}function Z(t){V().$$.on_destroy.push(t)}function Q(){const t=V();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=I(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}function J(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const tt=[],et=[],nt=[],rt=[],ot=Promise.resolve();let it=!1;function lt(t){nt.push(t)}function at(t){rt.push(t)}let st=!1;const ut=new Set;function ct(){if(!st){st=!0;do{for(let t=0;t<tt.length;t+=1){const e=tt[t];X(e),ft(e.$$)}for(X(null),tt.length=0;et.length;)et.pop()();for(let t=0;t<nt.length;t+=1){const e=nt[t];ut.has(e)||(ut.add(e),e())}nt.length=0}while(tt.length);for(;rt.length;)rt.pop()();it=!1,st=!1,ut.clear()}}function ft(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}let ht;function pt(){return ht||(ht=Promise.resolve(),ht.then((()=>{ht=null}))),ht}function dt(t,e,n){t.dispatchEvent(I(`${e?"intro":"outro"}${n}`))}const mt=new Set;let gt;function vt(){gt={r:0,c:[],p:gt}}function yt(){gt.r||i(gt.c),gt=gt.p}function wt(t,e){t&&t.i&&(mt.delete(t),t.i(e))}function $t(t,e,n,r){if(t&&t.o){if(mt.has(t))return;mt.add(t),gt.c.push((()=>{mt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const _t={duration:0};function bt(n,r,o){let i,a,s=r(n,o),u=!1,c=0;function f(){i&&G(n,i)}function h(){const{delay:r=0,duration:o=300,easing:l=e,tick:h=t,css:p}=s||_t;p&&(i=Y(n,0,1,o,r,l,p,c++)),h(0,1);const d=m()+r,g=d+o;a&&a.abort(),u=!0,lt((()=>dt(n,!0,"start"))),a=w((t=>{if(u){if(t>=g)return h(1,0),dt(n,!0,"end"),f(),u=!1;if(t>=d){const e=l((t-d)/o);h(e,1-e)}}return u}))}let p=!1;return{start(){p||(G(n),l(s)?(s=s(),pt().then(h)):h())},invalidate(){p=!1},end(){u&&(f(),u=!1)}}}function xt(n,r,o){let a,s=r(n,o),u=!0;const c=gt;function f(){const{delay:r=0,duration:o=300,easing:l=e,tick:f=t,css:h}=s||_t;h&&(a=Y(n,1,0,o,r,l,h));const p=m()+r,d=p+o;lt((()=>dt(n,!1,"start"))),w((t=>{if(u){if(t>=d)return f(0,1),dt(n,!1,"end"),--c.r||i(c.c),!1;if(t>=p){const e=l((t-p)/o);f(1-e,e)}}return u}))}return c.r+=1,l(s)?pt().then((()=>{s=s(),f()})):f(),{end(t){t&&s.tick&&s.tick(1,0),u&&(a&&G(n,a),u=!1)}}}function kt(n,r,o,a){let s=r(n,o),u=a?0:1,c=null,f=null,h=null;function p(){h&&G(n,h)}function d(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(r){const{delay:o=0,duration:l=300,easing:a=e,tick:g=t,css:v}=s||_t,y={start:m()+o,b:r};r||(y.group=gt,gt.r+=1),c||f?f=y:(v&&(p(),h=Y(n,u,r,l,o,a,v)),r&&g(0,1),c=d(y,l),lt((()=>dt(n,r,"start"))),w((t=>{if(f&&t>f.start&&(c=d(f,l),f=null,dt(n,c.b,"start"),v&&(p(),h=Y(n,u,c.b,c.duration,0,a,s.css))),c)if(t>=c.end)g(u=c.b,1-u),dt(n,c.b,"end"),f||(c.b?p():--c.group.r||i(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;u=c.a+c.d*a(e/c.duration),g(u,1-u)}return!(!c&&!f)})))}return{run(t){l(s)?pt().then((()=>{s=s(),g(t)})):g(t)},end(){p(),c=f=null}}}const Ct="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Mt(t,e){t.d(1),e.delete(t.key)}function St(t,e){$t(t,1,1,(()=>{e.delete(t.key)}))}function Et(t,e,n,r,o,i,l,a,s,u,c,f){let h=t.length,p=i.length,d=h;const m={};for(;d--;)m[t[d].key]=d;const g=[],v=new Map,y=new Map;for(d=p;d--;){const t=f(o,i,d),a=n(t);let s=l.get(a);s?r&&s.p(t,e):(s=u(a,t),s.c()),v.set(a,g[d]=s),a in m&&y.set(a,Math.abs(d-m[a]))}const w=new Set,$=new Set;function _(t){wt(t,1),t.m(a,c),l.set(t.key,t),c=t.first,p--}for(;h&&p;){const e=g[p-1],n=t[h-1],r=e.key,o=n.key;e===n?(c=e.first,h--,p--):v.has(o)?!l.has(r)||w.has(r)?_(e):$.has(o)?h--:y.get(r)>y.get(o)?($.add(r),_(e)):(w.add(o),h--):(s(n,l),h--)}for(;h--;){const e=t[h];v.has(e.key)||s(e,l)}for(;p;)_(g[p-1]);return g}function At(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const l=t[i],a=e[i];if(a){for(const t in l)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[i]=a}else for(const t in l)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}function jt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Nt(t){t&&t.c()}function Rt(t,e,n,o){const{fragment:a,on_mount:s,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,n),o||lt((()=>{const e=s.map(r).filter(l);u?u.push(...e):i(e),t.$$.on_mount=[]})),c.forEach(lt)}function Ot(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zt(t,e){-1===t.$$.dirty[0]&&(tt.push(t),it||(it=!0,ot.then(ct)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Tt(e,n,r,l,a,s,u=[-1]){const c=U;X(e);const f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:n.context||[]),callbacks:o(),dirty:u,skip_bound:!1};let h=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),h&&zt(e,t)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){_=!0;const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(C)}else f.fragment&&f.fragment.c();n.intro&&wt(e.$$.fragment),Rt(e,n.target,n.anchor,n.customElement),_=!1,ct()}X(c)}class Bt{$destroy(){Ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Lt={primFont:"proxima-nova, sans-serif",secFont:'"Roboto Slab", sans-serif',primOrange:"#F2783E",primBlack:"#000000",primBlue:"#005596",secBlue:"#000478",secWhite:"#F2F2F2",secYellow:"#FFC02E",tertMintGreen:"#2FBEA3",tertGreen:"#6F9A1A",tertBlue:"#234C6A",darkgray:"#7D7D7D",gray:"#DBDBDB",lightgray:"#F7F7F7",background:"#FFFFFF",faintBlue:"#0055962F"};const Pt=(t,e)=>{for(const n in e)t.style.setProperty(`--${n}`,e[n])},Ft=(t,e)=>(Pt(t,e),{update(e){Pt(t,e)}}),Ht=[];function Dt(t,e){return{subscribe:It(t,e).subscribe}}function It(e,n=t){let r;const o=[];function i(t){if(a(e,t)&&(e=t,r)){const t=!Ht.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Ht.push(n,e)}if(t){for(let t=0;t<Ht.length;t+=2)Ht[t][0](Ht[t+1]);Ht.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(l,a=t){const s=[l,a];return o.push(s),1===o.length&&(r=n(i)||t),l(e),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function qt(e,n,r){const o=!Array.isArray(e),a=o?[e]:e,u=n.length<2;return Dt(r,(e=>{let r=!1;const c=[];let f=0,h=t;const p=()=>{if(f)return;h();const r=n(o?c[0]:c,e);u?e(r):h=l(r)?r:t},d=a.map(((t,e)=>s(t,(t=>{c[e]=t,f&=~(1<<e),r&&p()}),(()=>{f|=1<<e}))));return r=!0,p(),function(){i(d),h()}}))}const Ut=It(!1);class Wt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],i=t+o,l=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);l&&(e[n++]=l),t=i}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,o=this._n,i=0;if(o>0){for(i=t[--o];o>0&&(e=i,n=t[--o],i=e+n,r=n-(i-e),!r););o>0&&(r<0&&t[o-1]<0||r>0&&t[o-1]>0)&&(n=2*r,e=i+n,n==e-i&&(i=e))}return i}}class Yt extends Map{constructor(t,e=Xt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Gt(this,t))}has(t){return super.has(Gt(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function Gt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Xt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Vt(t,e,...n){return function(t,e,n,r){return function t(o,i){if(i>=r.length)return n(o);const l=new Yt,a=r[i++];let s=-1;for(const t of o){const e=a(t,++s,o),n=l.get(e);n?n.push(t):l.set(e,[t])}for(const[e,n]of l)l.set(e,t(n,i));return e(l)}(t,0)}(t,Array.from,e,n)}function Kt(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var Zt={value:()=>{}};function Qt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Jt(r)}function Jt(t){this._=t}function te(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ee(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function ne(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Zt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Jt.prototype=Qt.prototype={constructor:Jt,on:function(t,e){var n,r=this._,o=te(t+"",r),i=-1,l=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<l;)if(n=(t=o[i]).type)r[n]=ne(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ne(r[n],t.name,null);return this}for(;++i<l;)if((n=(t=o[i]).type)&&(n=ee(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Jt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var re="http://www.w3.org/1999/xhtml",oe={svg:"http://www.w3.org/2000/svg",xhtml:re,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ie(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),oe.hasOwnProperty(e)?{space:oe[e],local:t}:t}function le(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===re&&e.documentElement.namespaceURI===re?e.createElement(t):e.createElementNS(n,t)}}function ae(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function se(t){var e=ie(t);return(e.local?ae:le)(e)}function ue(){}function ce(t){return null==t?ue:function(){return this.querySelector(t)}}function fe(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function he(){return[]}function pe(t){return null==t?he:function(){return this.querySelectorAll(t)}}function de(t){return function(){return this.matches(t)}}function me(t){return function(e){return e.matches(t)}}var ge=Array.prototype.find;function ve(){return this.firstElementChild}var ye=Array.prototype.filter;function we(){return this.children}function $e(t){return new Array(t.length)}function _e(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function be(t){return function(){return t}}function xe(t,e,n,r,o,i){for(var l,a=0,s=e.length,u=i.length;a<u;++a)(l=e[a])?(l.__data__=i[a],r[a]=l):n[a]=new _e(t,i[a]);for(;a<s;++a)(l=e[a])&&(o[a]=l)}function ke(t,e,n,r,o,i,l){var a,s,u,c=new Map,f=e.length,h=i.length,p=new Array(f);for(a=0;a<f;++a)(s=e[a])&&(p[a]=u=l.call(s,s.__data__,a,e)+"",c.has(u)?o[a]=s:c.set(u,s));for(a=0;a<h;++a)u=l.call(t,i[a],a,i)+"",(s=c.get(u))?(r[a]=s,s.__data__=i[a],c.delete(u)):n[a]=new _e(t,i[a]);for(a=0;a<f;++a)(s=e[a])&&c.get(p[a])===s&&(o[a]=s)}function Ce(t){return t.__data__}function Me(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Se(t){return function(){this.removeAttribute(t)}}function Ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ae(t,e){return function(){this.setAttribute(t,e)}}function je(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ne(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Re(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Oe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ze(t){return function(){this.style.removeProperty(t)}}function Te(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Be(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Le(t,e){return t.style.getPropertyValue(e)||Oe(t).getComputedStyle(t,null).getPropertyValue(e)}function Pe(t){return function(){delete this[t]}}function Fe(t,e){return function(){this[t]=e}}function He(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function De(t){return t.trim().split(/^|\s+/)}function Ie(t){return t.classList||new qe(t)}function qe(t){this._node=t,this._names=De(t.getAttribute("class")||"")}function Ue(t,e){for(var n=Ie(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function We(t,e){for(var n=Ie(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Ye(t){return function(){Ue(this,t)}}function Ge(t){return function(){We(this,t)}}function Xe(t,e){return function(){(e.apply(this,arguments)?Ue:We)(this,t)}}function Ve(){this.textContent=""}function Ke(t){return function(){this.textContent=t}}function Ze(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Qe(){this.innerHTML=""}function Je(t){return function(){this.innerHTML=t}}function tn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function en(){this.nextSibling&&this.parentNode.appendChild(this)}function nn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rn(){return null}function on(){var t=this.parentNode;t&&t.removeChild(this)}function ln(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function an(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function un(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function cn(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var l=0,a=o.length;l<a;++l)if((r=o[l]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function fn(t,e,n){var r=Oe(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function hn(t,e){return function(){return fn(this,t,e)}}function pn(t,e){return function(){return fn(this,t,e.apply(this,arguments))}}_e.prototype={constructor:_e,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},qe.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var dn=[null];function mn(t,e){this._groups=t,this._parents=e}function gn(){return new mn([[document.documentElement]],dn)}function vn(t){return"string"==typeof t?new mn([[document.querySelector(t)]],[document.documentElement]):new mn([[t]],dn)}function yn(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function wn(t){t.preventDefault(),t.stopImmediatePropagation()}function $n(t){var e=t.document.documentElement,n=vn(t).on("dragstart.drag",wn,!0);"onselectstart"in e?n.on("selectstart.drag",wn,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _n(t,e){var n=t.document.documentElement,r=vn(t).on("dragstart.drag",null);e&&(r.on("click.drag",wn,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function kn(){}mn.prototype=gn.prototype={constructor:mn,select:function(t){"function"!=typeof t&&(t=ce(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,l,a=e[o],s=a.length,u=r[o]=new Array(s),c=0;c<s;++c)(i=a[c])&&(l=t.call(i,i.__data__,c,a))&&("__data__"in i&&(l.__data__=i.__data__),u[c]=l);return new mn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:fe(e)}}(t):pe(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var l,a=e[i],s=a.length,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),o.push(l));return new mn(r,o)},selectChild:function(t){return this.select(null==t?ve:function(t){return function(){return ge.call(this.children,t)}}("function"==typeof t?t:me(t)))},selectChildren:function(t){return this.selectAll(null==t?we:function(t){return function(){return ye.call(this.children,t)}}("function"==typeof t?t:me(t)))},filter:function(t){"function"!=typeof t&&(t=de(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,l=e[o],a=l.length,s=r[o]=[],u=0;u<a;++u)(i=l[u])&&t.call(i,i.__data__,u,l)&&s.push(i);return new mn(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ce);var n=e?ke:xe,r=this._parents,o=this._groups;"function"!=typeof t&&(t=be(t));for(var i=o.length,l=new Array(i),a=new Array(i),s=new Array(i),u=0;u<i;++u){var c=r[u],f=o[u],h=f.length,p=fe(t.call(c,c&&c.__data__,u,r)),d=p.length,m=a[u]=new Array(d),g=l[u]=new Array(d),v=s[u]=new Array(h);n(c,f,m,g,v,p,e);for(var y,w,$=0,_=0;$<d;++$)if(y=m[$]){for($>=_&&(_=$+1);!(w=g[_])&&++_<d;);y._next=w||null}}return(l=new mn(l,r))._enter=a,l._exit=s,l},enter:function(){return new mn(this._enter||this._groups.map($e),this._parents)},exit:function(){return new mn(this._exit||this._groups.map($e),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){if(!(t instanceof mn))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),l=new Array(r),a=0;a<i;++a)for(var s,u=e[a],c=n[a],f=u.length,h=l[a]=new Array(f),p=0;p<f;++p)(s=u[p]||c[p])&&(h[p]=s);for(;a<r;++a)l[a]=e[a];return new mn(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,l=o[i];--i>=0;)(r=o[i])&&(l&&4^r.compareDocumentPosition(l)&&l.parentNode.insertBefore(r,l),l=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Me);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var l,a=n[i],s=a.length,u=o[i]=new Array(s),c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new mn(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var l=r[o];if(l)return l}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],l=0,a=i.length;l<a;++l)(o=i[l])&&t.call(o,o.__data__,l,i);return this},attr:function(t,e){var n=ie(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ee:Se:"function"==typeof e?n.local?Re:Ne:n.local?je:Ae)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ze:"function"==typeof e?Be:Te)(t,e,null==n?"":n)):Le(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Pe:"function"==typeof e?He:Fe)(t,e)):this.node()[t]},classed:function(t,e){var n=De(t+"");if(arguments.length<2){for(var r=Ie(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Xe:e?Ye:Ge)(n,e))},text:function(t){return arguments.length?this.each(null==t?Ve:("function"==typeof t?Ze:Ke)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Qe:("function"==typeof t?tn:Je)(t)):this.node().innerHTML},raise:function(){return this.each(en)},lower:function(){return this.each(nn)},append:function(t){var e="function"==typeof t?t:se(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:se(t),r=null==e?rn:"function"==typeof e?e:ce(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(on)},clone:function(t){return this.select(t?an:ln)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=sn(t+""),l=i.length;if(!(arguments.length<2)){for(a=e?cn:un,r=0;r<l;++r)this.each(a(i[r],e,n));return this}var a=this.node().__on;if(a)for(var s,u=0,c=a.length;u<c;++u)for(r=0,s=a[u];r<l;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?pn:hn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,l=o.length;i<l;++i)(r=o[i])&&(yield r)}};var Cn=.7,Mn=1/Cn,Sn="\\s*([+-]?\\d+)\\s*",En="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",An="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jn=/^#([0-9a-f]{3,8})$/,Nn=new RegExp("^rgb\\("+[Sn,Sn,Sn]+"\\)$"),Rn=new RegExp("^rgb\\("+[An,An,An]+"\\)$"),On=new RegExp("^rgba\\("+[Sn,Sn,Sn,En]+"\\)$"),zn=new RegExp("^rgba\\("+[An,An,An,En]+"\\)$"),Tn=new RegExp("^hsl\\("+[En,An,An]+"\\)$"),Bn=new RegExp("^hsla\\("+[En,An,An,En]+"\\)$"),Ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pn(){return this.rgb().formatHex()}function Fn(){return this.rgb().formatRgb()}function Hn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Dn(e):3===n?new Wn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?In(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?In(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Nn.exec(t))?new Wn(e[1],e[2],e[3],1):(e=Rn.exec(t))?new Wn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=On.exec(t))?In(e[1],e[2],e[3],e[4]):(e=zn.exec(t))?In(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Tn.exec(t))?Vn(e[1],e[2]/100,e[3]/100,1):(e=Bn.exec(t))?Vn(e[1],e[2]/100,e[3]/100,e[4]):Ln.hasOwnProperty(t)?Dn(Ln[t]):"transparent"===t?new Wn(NaN,NaN,NaN,0):null}function Dn(t){return new Wn(t>>16&255,t>>8&255,255&t,1)}function In(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wn(t,e,n,r)}function qn(t){return t instanceof kn||(t=Hn(t)),t?new Wn((t=t.rgb()).r,t.g,t.b,t.opacity):new Wn}function Un(t,e,n,r){return 1===arguments.length?qn(t):new Wn(t,e,n,null==r?1:r)}function Wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Yn(){return"#"+Xn(this.r)+Xn(this.g)+Xn(this.b)}function Gn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Xn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Vn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zn(t,e,n,r)}function Kn(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof kn||(t=Hn(t)),!t)return new Zn;if(t instanceof Zn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),l=NaN,a=i-o,s=(i+o)/2;return a?(l=e===i?(n-r)/a+6*(n<r):n===i?(r-e)/a+2:(e-n)/a+4,a/=s<.5?i+o:2-i-o,l*=60):a=s>0&&s<1?0:l,new Zn(l,a,s,t.opacity)}function Zn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Qn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}bn(kn,Hn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Pn,formatHex:Pn,formatHsl:function(){return Kn(this).formatHsl()},formatRgb:Fn,toString:Fn}),bn(Wn,Un,xn(kn,{brighter:function(t){return t=null==t?Mn:Math.pow(Mn,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Cn:Math.pow(Cn,t),new Wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yn,formatHex:Yn,formatRgb:Gn,toString:Gn})),bn(Zn,(function(t,e,n,r){return 1===arguments.length?Kn(t):new Zn(t,e,n,null==r?1:r)}),xn(kn,{brighter:function(t){return t=null==t?Mn:Math.pow(Mn,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Cn:Math.pow(Cn,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Wn(Qn(t>=240?t-240:t+120,o,r),Qn(t,o,r),Qn(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Jn=Math.PI/180,tr=180/Math.PI,er=.96422,nr=.82521,rr=4/29,or=6/29,ir=3*or*or;function lr(t){if(t instanceof ar)return new ar(t.l,t.a,t.b,t.opacity);if(t instanceof dr)return mr(t);t instanceof Wn||(t=qn(t));var e,n,r=fr(t.r),o=fr(t.g),i=fr(t.b),l=sr((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?e=n=l:(e=sr((.4360747*r+.3850649*o+.1430804*i)/er),n=sr((.0139322*r+.0971045*o+.7141733*i)/nr)),new ar(116*l-16,500*(e-l),200*(l-n),t.opacity)}function ar(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function sr(t){return t>.008856451679035631?Math.pow(t,1/3):t/ir+rr}function ur(t){return t>or?t*t*t:ir*(t-rr)}function cr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hr(t){if(t instanceof dr)return new dr(t.h,t.c,t.l,t.opacity);if(t instanceof ar||(t=lr(t)),0===t.a&&0===t.b)return new dr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*tr;return new dr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function pr(t,e,n,r){return 1===arguments.length?hr(t):new dr(t,e,n,null==r?1:r)}function dr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function mr(t){if(isNaN(t.h))return new ar(t.l,0,0,t.opacity);var e=t.h*Jn;return new ar(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}bn(ar,(function(t,e,n,r){return 1===arguments.length?lr(t):new ar(t,e,n,null==r?1:r)}),xn(kn,{brighter:function(t){return new ar(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ar(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Wn(cr(3.1338561*(e=er*ur(e))-1.6168667*(t=1*ur(t))-.4906146*(n=nr*ur(n))),cr(-.9787684*e+1.9161415*t+.033454*n),cr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),bn(dr,pr,xn(kn,{brighter:function(t){return new dr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new dr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return mr(this).rgb()}}));var gr=t=>()=>t;function vr(t){return 1==(t=+t)?yr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):gr(isNaN(e)?n:e)}}function yr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):gr(isNaN(t)?e:t)}var wr=function t(e){var n=vr(e);function r(t,e){var r=n((t=Un(t)).r,(e=Un(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),l=yr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=l(e),t+""}}return r.gamma=t,r}(1);function $r(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var _r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,br=new RegExp(_r.source,"g");function xr(t,e){var n,r,o,i=_r.lastIndex=br.lastIndex=0,l=-1,a=[],s=[];for(t+="",e+="";(n=_r.exec(t))&&(r=br.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),a[l]?a[l]+=o:a[++l]=o),(n=n[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,s.push({i:l,x:$r(n,r)})),i=br.lastIndex;return i<e.length&&(o=e.slice(i),a[l]?a[l]+=o:a[++l]=o),a.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)a[(n=s[r]).i]=n.x(t);return a.join("")})}var kr,Cr=180/Math.PI,Mr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sr(t,e,n,r,o,i){var l,a,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,s/=a),t*r<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Cr,skewX:Math.atan(s)*Cr,scaleX:l,scaleY:a}}function Er(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,l){var a=[],s=[];return i=t(i),l=t(l),function(t,r,o,i,l,a){if(t!==o||r!==i){var s=l.push("translate(",null,e,null,n);a.push({i:s-4,x:$r(t,o)},{i:s-2,x:$r(r,i)})}else(o||i)&&l.push("translate("+o+e+i+n)}(i.translateX,i.translateY,l.translateX,l.translateY,a,s),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:$r(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,l.rotate,a,s),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:$r(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,l.skewX,a,s),function(t,e,n,r,i,l){if(t!==n||e!==r){var a=i.push(o(i)+"scale(",null,",",null,")");l.push({i:a-4,x:$r(t,n)},{i:a-2,x:$r(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,l.scaleX,l.scaleY,a,s),i=l=null,function(t){for(var e,n=-1,r=s.length;++n<r;)a[(e=s[n]).i]=e.x(t);return a.join("")}}}var Ar=Er((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Mr:Sr(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),jr=Er((function(t){return null==t?Mr:(kr||(kr=document.createElementNS("http://www.w3.org/2000/svg","g")),kr.setAttribute("transform",t),(t=kr.transform.baseVal.consolidate())?Sr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Mr)}),", ",")",")");function Nr(t){return((t=Math.exp(t))+1/t)/2}var Rr,Or,zr=function t(e,n,r){function o(t,o){var i,l,a=t[0],s=t[1],u=t[2],c=o[0],f=o[1],h=o[2],p=c-a,d=f-s,m=p*p+d*d;if(m<1e-12)l=Math.log(h/u)/e,i=function(t){return[a+t*p,s+t*d,u*Math.exp(e*t*l)]};else{var g=Math.sqrt(m),v=(h*h-u*u+r*m)/(2*u*n*g),y=(h*h-u*u-r*m)/(2*h*n*g),w=Math.log(Math.sqrt(v*v+1)-v),$=Math.log(Math.sqrt(y*y+1)-y);l=($-w)/e,i=function(t){var r,o=t*l,i=Nr(w),c=u/(n*g)*(i*(r=e*o+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[a+c*p,s+c*d,u*i/Nr(e*o+w)]}}return i.duration=1e3*l*e/Math.SQRT2,i}return o.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},o}(Math.SQRT2,2,4),Tr=0,Br=0,Lr=0,Pr=0,Fr=0,Hr=0,Dr="object"==typeof performance&&performance.now?performance:Date,Ir="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qr(){return Fr||(Ir(Ur),Fr=Dr.now()+Hr)}function Ur(){Fr=0}function Wr(){this._call=this._time=this._next=null}function Yr(t,e,n){var r=new Wr;return r.restart(t,e,n),r}function Gr(){Fr=(Pr=Dr.now())+Hr,Tr=Br=0;try{!function(){qr(),++Tr;for(var t,e=Rr;e;)(t=Fr-e._time)>=0&&e._call.call(null,t),e=e._next;--Tr}()}finally{Tr=0,function(){var t,e,n=Rr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Rr=e);Or=t,Vr(r)}(),Fr=0}}function Xr(){var t=Dr.now(),e=t-Pr;e>1e3&&(Hr-=e,Pr=t)}function Vr(t){Tr||(Br&&(Br=clearTimeout(Br)),t-Fr>24?(t<1/0&&(Br=setTimeout(Gr,t-Dr.now()-Hr)),Lr&&(Lr=clearInterval(Lr))):(Lr||(Pr=Dr.now(),Lr=setInterval(Xr,1e3)),Tr=1,Ir(Gr)))}function Kr(t,e,n){var r=new Wr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Wr.prototype=Yr.prototype={constructor:Wr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?qr():+n)+(null==e?0:+e),this._next||Or===this||(Or?Or._next=this:Rr=this,Or=this),this._call=t,this._time=n,Vr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vr())}};var Zr=Qt("start","end","cancel","interrupt"),Qr=[];function Jr(t,e,n,r,o,i){var l=t.__transition;if(l){if(n in l)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(l,n.delay,n.time),n.delay<=t&&l(t-n.delay)}function l(i){var u,c,f,h;if(1!==n.state)return s();for(u in o)if((h=o[u]).name===n.name){if(3===h.state)return Kr(l);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[u]):+u<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[u])}if(Kr((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,l=r.length;++i<l;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Yr(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:Zr,tween:Qr,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function to(t,e){var n=no(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function eo(t,e){var n=no(t,e);if(n.state>3)throw new Error("too late; already running");return n}function no(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ro(t,e){var n,r,o,i=t.__transition,l=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):l=!1;l&&delete t.__transition}}function oo(t,e){var n,r;return function(){var o=eo(this,t),i=o.tween;if(i!==n)for(var l=0,a=(r=n=i).length;l<a;++l)if(r[l].name===e){(r=r.slice()).splice(l,1);break}o.tween=r}}function io(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=eo(this,t),l=i.tween;if(l!==r){o=(r=l).slice();for(var a={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=a;break}s===u&&o.push(a)}i.tween=o}}function lo(t,e,n){var r=t._id;return t.each((function(){var t=eo(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return no(t,r).value[e]}}function ao(t,e){var n;return("number"==typeof e?$r:e instanceof Hn?wr:(n=Hn(e))?(e=n,wr):xr)(t,e)}function so(t){return function(){this.removeAttribute(t)}}function uo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function co(t,e,n){var r,o,i=n+"";return function(){var l=this.getAttribute(t);return l===i?null:l===r?o:o=e(r=l,n)}}function fo(t,e,n){var r,o,i=n+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===i?null:l===r?o:o=e(r=l,n)}}function ho(t,e,n){var r,o,i;return function(){var l,a,s=n(this);if(null!=s)return(l=this.getAttribute(t))===(a=s+"")?null:l===r&&a===o?i:(o=a,i=e(r=l,s));this.removeAttribute(t)}}function po(t,e,n){var r,o,i;return function(){var l,a,s=n(this);if(null!=s)return(l=this.getAttributeNS(t.space,t.local))===(a=s+"")?null:l===r&&a===o?i:(o=a,i=e(r=l,s));this.removeAttributeNS(t.space,t.local)}}function mo(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function go(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function vo(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&go(t,o)),n}return o._value=e,o}function yo(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&mo(t,o)),n}return o._value=e,o}function wo(t,e){return function(){to(this,t).delay=+e.apply(this,arguments)}}function $o(t,e){return e=+e,function(){to(this,t).delay=e}}function _o(t,e){return function(){eo(this,t).duration=+e.apply(this,arguments)}}function bo(t,e){return e=+e,function(){eo(this,t).duration=e}}function xo(t,e){if("function"!=typeof e)throw new Error;return function(){eo(this,t).ease=e}}function ko(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?to:eo;return function(){var l=i(this,t),a=l.on;a!==r&&(o=(r=a).copy()).on(e,n),l.on=o}}var Co=gn.prototype.constructor;function Mo(t){return function(){this.style.removeProperty(t)}}function So(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Eo(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&So(t,i,n)),r}return i._value=e,i}function Ao(t){return function(e){this.textContent=t.call(this,e)}}function jo(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Ao(r)),e}return r._value=t,r}var No=0;function Ro(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Oo(){return++No}var zo=gn.prototype;Ro.prototype={constructor:Ro,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ce(t));for(var r=this._groups,o=r.length,i=new Array(o),l=0;l<o;++l)for(var a,s,u=r[l],c=u.length,f=i[l]=new Array(c),h=0;h<c;++h)(a=u[h])&&(s=t.call(a,a.__data__,h,u))&&("__data__"in a&&(s.__data__=a.__data__),f[h]=s,Jr(f[h],e,n,h,f,no(a,n)));return new Ro(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pe(t));for(var r=this._groups,o=r.length,i=[],l=[],a=0;a<o;++a)for(var s,u=r[a],c=u.length,f=0;f<c;++f)if(s=u[f]){for(var h,p=t.call(s,s.__data__,f,u),d=no(s,n),m=0,g=p.length;m<g;++m)(h=p[m])&&Jr(h,e,n,m,p,d);i.push(p),l.push(s)}return new Ro(i,l,e,n)},filter:function(t){"function"!=typeof t&&(t=de(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,l=e[o],a=l.length,s=r[o]=[],u=0;u<a;++u)(i=l[u])&&t.call(i,i.__data__,u,l)&&s.push(i);return new Ro(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),l=new Array(r),a=0;a<i;++a)for(var s,u=e[a],c=n[a],f=u.length,h=l[a]=new Array(f),p=0;p<f;++p)(s=u[p]||c[p])&&(h[p]=s);for(;a<r;++a)l[a]=e[a];return new Ro(l,this._parents,this._name,this._id)},selection:function(){return new Co(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Oo(),r=this._groups,o=r.length,i=0;i<o;++i)for(var l,a=r[i],s=a.length,u=0;u<s;++u)if(l=a[u]){var c=no(l,e);Jr(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ro(r,this._parents,t,n)},call:zo.call,nodes:zo.nodes,node:zo.node,size:zo.size,empty:zo.empty,each:zo.each,on:function(t,e){var n=this._id;return arguments.length<2?no(this.node(),n).on.on(t):this.each(ko(n,t,e))},attr:function(t,e){var n=ie(t),r="transform"===n?jr:ao;return this.attrTween(t,"function"==typeof e?(n.local?po:ho)(n,r,lo(this,"attr."+t,e)):null==e?(n.local?uo:so)(n):(n.local?fo:co)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ie(t);return this.tween(n,(r.local?vo:yo)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Ar:ao;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=Le(this,t),l=(this.style.removeProperty(t),Le(this,t));return i===l?null:i===n&&l===r?o:o=e(n=i,r=l)}}(t,r)).on("end.style."+t,Mo(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var l=Le(this,t),a=n(this),s=a+"";return null==a&&(this.style.removeProperty(t),s=a=Le(this,t)),l===s?null:l===r&&s===o?i:(o=s,i=e(r=l,a))}}(t,r,lo(this,"style."+t,e))).each(function(t,e){var n,r,o,i,l="style."+e,a="end."+l;return function(){var s=eo(this,t),u=s.on,c=null==s.value[l]?i||(i=Mo(e)):void 0;u===n&&o===c||(r=(n=u).copy()).on(a,o=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var l=Le(this,t);return l===i?null:l===r?o:o=e(r=l,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Eo(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(lo(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,jo(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=no(this.node(),n).tween,i=0,l=o.length;i<l;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?oo:io)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?wo:$o)(e,t)):no(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_o:bo)(e,t)):no(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(xo(e,t)):no(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;eo(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,l){var a={value:l},s={value:function(){0==--o&&i()}};n.each((function(){var n=eo(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:zo[Symbol.iterator]};var To={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Bo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}gn.prototype.interrupt=function(t){return this.each((function(){ro(this,t)}))},gn.prototype.transition=function(t){var e,n;t instanceof Ro?(e=t._id,t=t._name):(e=Oo(),(n=To).time=qr(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var l,a=r[i],s=a.length,u=0;u<s;++u)(l=a[u])&&Jr(l,t,e,u,a,n||Bo(l,e));return new Ro(r,this._parents,t,e)};var Lo={},Po={};function Fo(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Ho(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Do(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Io(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Do(-e,6):e>9999?"+"+Do(e,6):Do(e,4))+"-"+Do(t.getUTCMonth()+1,2)+"-"+Do(t.getUTCDate(),2)+(i?"T"+Do(n,2)+":"+Do(r,2)+":"+Do(o,2)+"."+Do(i,3)+"Z":o?"T"+Do(n,2)+":"+Do(r,2)+":"+Do(o,2)+"Z":r||n?"T"+Do(n,2)+":"+Do(r,2)+"Z":"")}var qo=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,o=[],i=t.length,l=0,a=0,s=i<=0,u=!1;function c(){if(s)return Po;if(u)return u=!1,Lo;var e,r,o=l;if(34===t.charCodeAt(o)){for(;l++<i&&34!==t.charCodeAt(l)||34===t.charCodeAt(++l););return(e=l)>=i?s=!0:10===(r=t.charCodeAt(l++))?u=!0:13===r&&(u=!0,10===t.charCodeAt(l)&&++l),t.slice(o+1,e-1).replace(/""/g,'"')}for(;l<i;){if(10===(r=t.charCodeAt(e=l++)))u=!0;else if(13===r)u=!0,10===t.charCodeAt(l)&&++l;else if(r!==n)continue;return t.slice(o,e)}return s=!0,t.slice(o,i)}for(10===t.charCodeAt(i-1)&&--i,13===t.charCodeAt(i-1)&&--i;(r=c())!==Po;){for(var f=[];r!==Lo&&r!==Po;)f.push(r),r=c();e&&null==(f=e(f,a++))||o.push(f)}return o}function o(e,n){return e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))}function i(e){return e.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?Io(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,o,i=r(t,(function(t,r){if(n)return n(t,r-1);o=t,n=e?function(t,e){var n=Fo(t);return function(r,o){return e(n(r),o,t)}}(t,e):Fo(t)}));return i.columns=o||[],i},parseRows:r,format:function(e,n){return null==n&&(n=Ho(e)),[n.map(l).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Ho(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:l}}(",").parse;function Uo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Wo(t,e){return fetch(t,e).then(Uo)}var Yo,Go=(Yo=qo,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),Wo(t,e).then((function(t){return Yo(t,n)}))});function Xo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var Vo=1e-6,Ko=Math.PI,Zo=Ko/2,Qo=Ko/4,Jo=2*Ko,ti=180/Ko,ei=Ko/180,ni=Math.abs,ri=Math.atan,oi=Math.atan2,ii=Math.cos,li=Math.sin,ai=Math.sign||function(t){return t>0?1:t<0?-1:0},si=Math.sqrt;function ui(t){return t>1?Zo:t<-1?-Zo:Math.asin(t)}function ci(){}function fi(t,e){t&&pi.hasOwnProperty(t.type)&&pi[t.type](t,e)}var hi={Feature:function(t,e){fi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)fi(n[r].geometry,e)}},pi={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){di(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)di(n[r],e,0)},Polygon:function(t,e){mi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)mi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)fi(n[r],e)}};function di(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function mi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)di(t[n],e,1);e.polygonEnd()}function gi(t,e){t&&hi.hasOwnProperty(t.type)?hi[t.type](t,e):fi(t,e)}function vi(t){return[oi(t[1],t[0]),ui(t[2])]}function yi(t){var e=t[0],n=t[1],r=ii(n);return[r*ii(e),r*li(e),li(n)]}function wi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $i(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function _i(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function bi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xi(t){var e=si(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ki(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Ci(t,e){return[ni(t)>Ko?t+Math.round(-t/Jo)*Jo:t,e]}function Mi(t){return function(e,n){return[(e+=t)>Ko?e-Jo:e<-Ko?e+Jo:e,n]}}function Si(t){var e=Mi(t);return e.invert=Mi(-t),e}function Ei(t,e){var n=ii(t),r=li(t),o=ii(e),i=li(e);function l(t,e){var l=ii(e),a=ii(t)*l,s=li(t)*l,u=li(e),c=u*n+a*r;return[oi(s*o-c*i,a*n-u*r),ui(c*o+s*i)]}return l.invert=function(t,e){var l=ii(e),a=ii(t)*l,s=li(t)*l,u=li(e),c=u*o-s*i;return[oi(s*o+u*i,a*n+c*r),ui(c*n-a*r)]},l}function Ai(t,e){(e=yi(e))[0]-=t,xi(e);var n,r=(n=-e[1])>1?0:n<-1?Ko:Math.acos(n);return((-e[2]<0?-r:r)+Jo-Vo)%Jo}function ji(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:ci,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ni(t,e){return ni(t[0]-e[0])<Vo&&ni(t[1]-e[1])<Vo}function Ri(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Oi(t,e,n,r,o){var i,l,a=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],l=t[e];if(Ni(r,l)){if(!r[2]&&!l[2]){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}l[0]+=2e-6}a.push(n=new Ri(r,t,null,!0)),s.push(n.o=new Ri(r,null,n,!1)),a.push(n=new Ri(l,t,null,!1)),s.push(n.o=new Ri(l,null,n,!0))}})),a.length){for(s.sort(e),zi(a),zi(s),i=0,l=s.length;i<l;++i)s[i].e=n=!n;for(var u,c,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;u=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,l=u.length;i<l;++i)o.point((c=u[i])[0],c[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(u=h.p.z,i=u.length-1;i>=0;--i)o.point((c=u[i])[0],c[1]);else r(h.x,h.p.x,-1,o);h=h.p}u=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function zi(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Ti(t){return ni(t[0])<=Ko?t[0]:ai(t[0])*((ni(t[0])+Ko)%Jo-Ko)}function Bi(t,e,n,r){return function(o){var i,l,a,s=e(o),u=ji(),c=e(u),f=!1,h={point:p,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=w,l=[],i=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=g,l=Kt(l);var t=function(t,e){var n=Ti(e),r=e[1],o=li(r),i=[li(n),-ii(n),0],l=0,a=0,s=new Wt;1===o?r=Zo+Vo:-1===o&&(r=-Zo-Vo);for(var u=0,c=t.length;u<c;++u)if(h=(f=t[u]).length)for(var f,h,p=f[h-1],d=Ti(p),m=p[1]/2+Qo,g=li(m),v=ii(m),y=0;y<h;++y,d=$,g=b,v=x,p=w){var w=f[y],$=Ti(w),_=w[1]/2+Qo,b=li(_),x=ii(_),k=$-d,C=k>=0?1:-1,M=C*k,S=M>Ko,E=g*b;if(s.add(oi(E*C*li(M),v*x+E*ii(M))),l+=S?k+C*Jo:k,S^d>=n^$>=n){var A=$i(yi(p),yi(w));xi(A);var j=$i(i,A);xi(j);var N=(S^k>=0?-1:1)*ui(j[2]);(r>N||r===N&&(A[0]||A[1]))&&(a+=S^k>=0?1:-1)}}return(l<-Vo||l<Vo&&s<-1e-12)^1&a}(i,r);l.length?(f||(o.polygonStart(),f=!0),Oi(l,Pi,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),l=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function p(e,n){t(e,n)&&o.point(e,n)}function d(t,e){s.point(t,e)}function m(){h.point=d,s.lineStart()}function g(){h.point=p,s.lineEnd()}function v(t,e){a.push([t,e]),c.point(t,e)}function y(){c.lineStart(),a=[]}function w(){v(a[0][0],a[0][1]),c.lineEnd();var t,e,n,r,s=c.clean(),h=u.result(),p=h.length;if(a.pop(),i.push(a),a=null,p)if(1&s){if((e=(n=h[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else p>1&&2&s&&h.push(h.pop().concat(h.shift())),l.push(h.filter(Li))}return h}}function Li(t){return t.length>1}function Pi(t,e){return((t=t.x)[0]<0?t[1]-Zo-Vo:Zo-t[1])-((e=e.x)[0]<0?e[1]-Zo-Vo:Zo-e[1])}Ci.invert=Ci;var Fi=Bi((function(){return!0}),(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,l){var a=i>0?Ko:-Ko,s=ni(i-n);ni(s-Ko)<Vo?(t.point(n,r=(r+l)/2>0?Zo:-Zo),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(i,r),e=0):o!==a&&s>=Ko&&(ni(n-o)<Vo&&(n-=o*Vo),ni(i-a)<Vo&&(i-=a*Vo),r=function(t,e,n,r){var o,i,l=li(t-n);return ni(l)>Vo?ri((li(e)*(i=ii(r))*li(n)-li(r)*(o=ii(e))*li(t))/(o*i*l)):(e+r)/2}(n,r,i,l),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=i,r=l),o=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*Zo,r.point(-Ko,o),r.point(0,o),r.point(Ko,o),r.point(Ko,0),r.point(Ko,-o),r.point(0,-o),r.point(-Ko,-o),r.point(-Ko,0),r.point(-Ko,o);else if(ni(t[0]-e[0])>Vo){var i=t[0]<e[0]?Ko:-Ko;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}),[-Ko,-Zo]);function Hi(t){var e=ii(t),n=6*ei,r=e>0,o=ni(e)>Vo;function i(t,n){return ii(t)*ii(n)>e}function l(t,n,r){var o=[1,0,0],i=$i(yi(t),yi(n)),l=wi(i,i),a=i[0],s=l-a*a;if(!s)return!r&&t;var u=e*l/s,c=-e*a/s,f=$i(o,i),h=bi(o,u);_i(h,bi(i,c));var p=f,d=wi(h,p),m=wi(p,p),g=d*d-m*(wi(h,h)-1);if(!(g<0)){var v=si(g),y=bi(p,(-d-v)/m);if(_i(y,h),y=vi(y),!r)return y;var w,$=t[0],_=n[0],b=t[1],x=n[1];_<$&&(w=$,$=_,_=w);var k=_-$,C=ni(k-Ko)<Vo;if(!C&&x<b&&(w=b,b=x,x=w),C||k<Vo?C?b+x>0^y[1]<(ni(y[0]-$)<Vo?b:x):b<=y[1]&&y[1]<=x:k>Ko^($<=y[0]&&y[0]<=_)){var M=bi(p,(-d+v)/m);return _i(M,h),[y,vi(M)]}}}function a(e,n){var o=r?t:Ko-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return Bi(i,(function(t){var e,n,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(f,h){var p,d=[f,h],m=i(f,h),g=r?m?0:a(f,h):m?a(f+(f<0?Ko:-Ko),h):0;if(!e&&(u=s=m)&&t.lineStart(),m!==s&&(!(p=l(e,d))||Ni(e,p)||Ni(d,p))&&(d[2]=1),m!==s)c=0,m?(t.lineStart(),p=l(d,e),t.point(p[0],p[1])):(p=l(e,d),t.point(p[0],p[1],2),t.lineEnd()),e=p;else if(o&&e&&r^m){var v;g&n||!(v=l(d,e,!0))||(c=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!m||e&&Ni(e,d)||t.point(d[0],d[1]),e=d,s=m,n=g},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(u&&s)<<1}}}),(function(e,r,o,i){!function(t,e,n,r,o,i){if(n){var l=ii(e),a=li(e),s=r*n;null==o?(o=e+r*Jo,i=e-s/2):(o=Ai(l,o),i=Ai(l,i),(r>0?o<i:o>i)&&(o+=r*Jo));for(var u,c=o;r>0?c>i:c<i;c-=s)u=vi([l,-a*ii(c),-a*li(c)]),t.point(u[0],u[1])}}(i,t,n,o,e,r)}),r?[0,-t]:[-Ko,t-Ko])}var Di=1e9,Ii=-Di;function qi(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,a,u){var c=0,f=0;if(null==o||(c=l(o,a))!==(f=l(i,a))||s(o,i)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+a+4)%4)!==f);else u.point(i[0],i[1])}function l(r,o){return ni(r[0]-t)<Vo?o>0?0:3:ni(r[0]-n)<Vo?o>0?2:1:ni(r[1]-e)<Vo?o>0?1:0:o>0?3:2}function a(t,e){return s(t.x,e.x)}function s(t,e){var n=l(t,1),r=l(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(l){var s,u,c,f,h,p,d,m,g,v,y,w=l,$=ji(),_={point:b,lineStart:function(){_.point=x,u&&u.push(c=[]);v=!0,g=!1,d=m=NaN},lineEnd:function(){s&&(x(f,h),p&&g&&$.rejoin(),s.push($.result()));_.point=b,g&&w.lineEnd()},polygonStart:function(){w=$,s=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=u.length;n<o;++n)for(var i,l,a=u[n],s=1,c=a.length,f=a[0],h=f[0],p=f[1];s<c;++s)i=h,l=p,h=(f=a[s])[0],p=f[1],l<=r?p>r&&(h-i)*(r-l)>(p-l)*(t-i)&&++e:p<=r&&(h-i)*(r-l)<(p-l)*(t-i)&&--e;return e}(),n=y&&e,o=(s=Kt(s)).length;(n||o)&&(l.polygonStart(),n&&(l.lineStart(),i(null,null,1,l),l.lineEnd()),o&&Oi(s,a,e,i,l),l.polygonEnd());w=l,s=u=c=null}};function b(t,e){o(t,e)&&w.point(t,e)}function x(i,l){var a=o(i,l);if(u&&c.push([i,l]),v)f=i,h=l,p=a,v=!1,a&&(w.lineStart(),w.point(i,l));else if(a&&g)w.point(i,l);else{var s=[d=Math.max(Ii,Math.min(Di,d)),m=Math.max(Ii,Math.min(Di,m))],$=[i=Math.max(Ii,Math.min(Di,i)),l=Math.max(Ii,Math.min(Di,l))];!function(t,e,n,r,o,i){var l,a=t[0],s=t[1],u=0,c=1,f=e[0]-a,h=e[1]-s;if(l=n-a,f||!(l>0)){if(l/=f,f<0){if(l<u)return;l<c&&(c=l)}else if(f>0){if(l>c)return;l>u&&(u=l)}if(l=o-a,f||!(l<0)){if(l/=f,f<0){if(l>c)return;l>u&&(u=l)}else if(f>0){if(l<u)return;l<c&&(c=l)}if(l=r-s,h||!(l>0)){if(l/=h,h<0){if(l<u)return;l<c&&(c=l)}else if(h>0){if(l>c)return;l>u&&(u=l)}if(l=i-s,h||!(l<0)){if(l/=h,h<0){if(l>c)return;l>u&&(u=l)}else if(h>0){if(l<u)return;l<c&&(c=l)}return u>0&&(t[0]=a+u*f,t[1]=s+u*h),c<1&&(e[0]=a+c*f,e[1]=s+c*h),!0}}}}}(s,$,t,e,n,r)?a&&(w.lineStart(),w.point(i,l),y=!1):(g||(w.lineStart(),w.point(s[0],s[1])),w.point($[0],$[1]),a||w.lineEnd(),y=!1)}d=i,m=l,g=a}return _}}var Ui,Wi,Yi,Gi,Xi=t=>t,Vi=new Wt,Ki=new Wt,Zi={point:ci,lineStart:ci,lineEnd:ci,polygonStart:function(){Zi.lineStart=Qi,Zi.lineEnd=el},polygonEnd:function(){Zi.lineStart=Zi.lineEnd=Zi.point=ci,Vi.add(ni(Ki)),Ki=new Wt},result:function(){var t=Vi/2;return Vi=new Wt,t}};function Qi(){Zi.point=Ji}function Ji(t,e){Zi.point=tl,Ui=Yi=t,Wi=Gi=e}function tl(t,e){Ki.add(Gi*t-Yi*e),Yi=t,Gi=e}function el(){tl(Ui,Wi)}var nl=1/0,rl=nl,ol=-nl,il=ol,ll={point:function(t,e){t<nl&&(nl=t);t>ol&&(ol=t);e<rl&&(rl=e);e>il&&(il=e)},lineStart:ci,lineEnd:ci,polygonStart:ci,polygonEnd:ci,result:function(){var t=[[nl,rl],[ol,il]];return ol=il=-(rl=nl=1/0),t}};var al,sl,ul,cl,fl=0,hl=0,pl=0,dl=0,ml=0,gl=0,vl=0,yl=0,wl=0,$l={point:_l,lineStart:bl,lineEnd:Cl,polygonStart:function(){$l.lineStart=Ml,$l.lineEnd=Sl},polygonEnd:function(){$l.point=_l,$l.lineStart=bl,$l.lineEnd=Cl},result:function(){var t=wl?[vl/wl,yl/wl]:gl?[dl/gl,ml/gl]:pl?[fl/pl,hl/pl]:[NaN,NaN];return fl=hl=pl=dl=ml=gl=vl=yl=wl=0,t}};function _l(t,e){fl+=t,hl+=e,++pl}function bl(){$l.point=xl}function xl(t,e){$l.point=kl,_l(ul=t,cl=e)}function kl(t,e){var n=t-ul,r=e-cl,o=si(n*n+r*r);dl+=o*(ul+t)/2,ml+=o*(cl+e)/2,gl+=o,_l(ul=t,cl=e)}function Cl(){$l.point=_l}function Ml(){$l.point=El}function Sl(){Al(al,sl)}function El(t,e){$l.point=Al,_l(al=ul=t,sl=cl=e)}function Al(t,e){var n=t-ul,r=e-cl,o=si(n*n+r*r);dl+=o*(ul+t)/2,ml+=o*(cl+e)/2,gl+=o,vl+=(o=cl*t-ul*e)*(ul+t),yl+=o*(cl+e),wl+=3*o,_l(ul=t,cl=e)}function jl(t){this._context=t}jl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Jo)}},result:ci};var Nl,Rl,Ol,zl,Tl,Bl=new Wt,Ll={point:ci,lineStart:function(){Ll.point=Pl},lineEnd:function(){Nl&&Fl(Rl,Ol),Ll.point=ci},polygonStart:function(){Nl=!0},polygonEnd:function(){Nl=null},result:function(){var t=+Bl;return Bl=new Wt,t}};function Pl(t,e){Ll.point=Fl,Rl=zl=t,Ol=Tl=e}function Fl(t,e){zl-=t,Tl-=e,Bl.add(si(zl*zl+Tl*Tl)),zl=t,Tl=e}function Hl(){this._string=[]}function Dl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Il(t){return function(e){var n=new ql;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ql(){}function Ul(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),gi(n,t.stream(ll)),e(ll.result()),null!=r&&t.clipExtent(r),t}function Wl(t,e,n){return Ul(t,(function(n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),l=+e[0][0]+(r-i*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([l,a])}),n)}Hl.prototype={_radius:4.5,_circle:Dl(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Dl(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},ql.prototype={constructor:ql,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yl=ii(30*ei);function Gl(t,e){return+e?function(t,e){function n(r,o,i,l,a,s,u,c,f,h,p,d,m,g){var v=u-r,y=c-o,w=v*v+y*y;if(w>4*e&&m--){var $=l+h,_=a+p,b=s+d,x=si($*$+_*_+b*b),k=ui(b/=x),C=ni(ni(b)-1)<Vo||ni(i-f)<Vo?(i+f)/2:oi(_,$),M=t(C,k),S=M[0],E=M[1],A=S-r,j=E-o,N=y*A-v*j;(N*N/w>e||ni((v*A+y*j)/w-.5)>.3||l*h+a*p+s*d<Yl)&&(n(r,o,i,l,a,s,S,E,C,$/=x,_/=x,b,m,g),g.point(S,E),n(S,E,C,$,_,b,u,c,f,h,p,d,m,g))}}return function(e){var r,o,i,l,a,s,u,c,f,h,p,d,m={point:g,lineStart:v,lineEnd:w,polygonStart:function(){e.polygonStart(),m.lineStart=$},polygonEnd:function(){e.polygonEnd(),m.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){c=NaN,m.point=y,e.lineStart()}function y(r,o){var i=yi([r,o]),l=t(r,o);n(c,f,u,h,p,d,c=l[0],f=l[1],u=r,h=i[0],p=i[1],d=i[2],16,e),e.point(c,f)}function w(){m.point=g,e.lineEnd()}function $(){v(),m.point=_,m.lineEnd=b}function _(t,e){y(r=t,e),o=c,i=f,l=h,a=p,s=d,m.point=y}function b(){n(c,f,u,h,p,d,o,i,r,l,a,s,16,e),m.lineEnd=w,w()}return m}}(t,e):function(t){return Il({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Xl=Il({point:function(t,e){this.stream.point(t*ei,e*ei)}});function Vl(t,e,n,r,o,i){if(!i)return function(t,e,n,r,o){function i(i,l){return[e+t*(i*=r),n-t*(l*=o)]}return i.invert=function(i,l){return[(i-e)/t*r,(n-l)/t*o]},i}(t,e,n,r,o);var l=ii(i),a=li(i),s=l*t,u=a*t,c=l/t,f=a/t,h=(a*n-l*e)/t,p=(a*e+l*n)/t;function d(t,i){return[s*(t*=r)-u*(i*=o)+e,n-u*t-s*i]}return d.invert=function(t,e){return[r*(c*t-f*e+h),o*(p-f*t-c*e)]},d}function Kl(t){return function(t){var e,n,r,o,i,l,a,s,u,c,f=150,h=480,p=250,d=0,m=0,g=0,v=0,y=0,w=0,$=1,_=1,b=null,x=Fi,k=null,C=Xi,M=.5;function S(t){return s(t[0]*ei,t[1]*ei)}function E(t){return(t=s.invert(t[0],t[1]))&&[t[0]*ti,t[1]*ti]}function A(){var t=Vl(f,0,0,$,_,w).apply(null,e(d,m)),r=Vl(f,h-t[0],p-t[1],$,_,w);return n=function(t,e,n){return(t%=Jo)?e||n?ki(Si(t),Ei(e,n)):Si(t):e||n?Ei(e,n):Ci}(g,v,y),a=ki(e,r),s=ki(n,a),l=Gl(a,M),j()}function j(){return u=c=null,S}return S.stream=function(t){return u&&c===t?u:u=Xl(function(t){return Il({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(x(l(C(c=t)))))},S.preclip=function(t){return arguments.length?(x=t,b=void 0,j()):x},S.postclip=function(t){return arguments.length?(C=t,k=r=o=i=null,j()):C},S.clipAngle=function(t){return arguments.length?(x=+t?Hi(b=t*ei):(b=null,Fi),j()):b*ti},S.clipExtent=function(t){return arguments.length?(C=null==t?(k=r=o=i=null,Xi):qi(k=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),j()):null==k?null:[[k,r],[o,i]]},S.scale=function(t){return arguments.length?(f=+t,A()):f},S.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],A()):[h,p]},S.center=function(t){return arguments.length?(d=t[0]%360*ei,m=t[1]%360*ei,A()):[d*ti,m*ti]},S.rotate=function(t){return arguments.length?(g=t[0]%360*ei,v=t[1]%360*ei,y=t.length>2?t[2]%360*ei:0,A()):[g*ti,v*ti,y*ti]},S.angle=function(t){return arguments.length?(w=t%360*ei,A()):w*ti},S.reflectX=function(t){return arguments.length?($=t?-1:1,A()):$<0},S.reflectY=function(t){return arguments.length?(_=t?-1:1,A()):_<0},S.precision=function(t){return arguments.length?(l=Gl(a,M=t*t),j()):si(M)},S.fitExtent=function(t,e){return Wl(S,t,e)},S.fitSize=function(t,e){return function(t,e,n){return Wl(t,[[0,0],e],n)}(S,t,e)},S.fitWidth=function(t,e){return function(t,e,n){return Ul(t,(function(n){var r=+e,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,l=-o*n[0][1];t.scale(150*o).translate([i,l])}),n)}(S,t,e)},S.fitHeight=function(t,e){return function(t,e,n){return Ul(t,(function(n){var r=+e,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],l=(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([i,l])}),n)}(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&E,A()}}((function(){return t}))()}var Zl=1.340264,Ql=-.081106,Jl=893e-6,ta=.003796,ea=si(3)/2;function na(t,e){var n=ui(ea*li(e)),r=n*n,o=r*r*r;return[t*ii(n)/(ea*(Zl+3*Ql*r+o*(7*Jl+9*ta*r))),n*(Zl+Ql*r+o*(Jl+ta*r))]}function ra(){return Kl(na).scale(177.158)}na.invert=function(t,e){for(var n,r=e,o=r*r,i=o*o*o,l=0;l<12&&(i=(o=(r-=n=(r*(Zl+Ql*o+i*(Jl+ta*o))-e)/(Zl+3*Ql*o+i*(7*Jl+9*ta*o)))*r)*o*o,!(ni(n)<1e-12));++l);return[ea*t*(Zl+3*Ql*o+i*(7*Jl+9*ta*o))/ii(r),ui(li(r)/ea)]};var oa=t=>()=>t;function ia(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function la(t,e,n){this.k=t,this.x=e,this.y=n}la.prototype={constructor:la,scale:function(t){return 1===t?this:new la(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new la(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var aa=new la(1,0,0);function sa(t){t.stopImmediatePropagation()}function ua(t){t.preventDefault(),t.stopImmediatePropagation()}function ca(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function fa(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ha(){return this.__zoom||aa}function pa(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function da(){return navigator.maxTouchPoints||"ontouchstart"in this}function ma(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],l=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}var ga="object"==typeof global&&global&&global.Object===Object&&global,va="object"==typeof self&&self&&self.Object===Object&&self,ya=ga||va||Function("return this")(),wa=ya.Symbol,$a=Object.prototype,_a=$a.hasOwnProperty,ba=$a.toString,xa=wa?wa.toStringTag:void 0;var ka=Object.prototype.toString;var Ca=wa?wa.toStringTag:void 0;function Ma(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ca&&Ca in Object(t)?function(t){var e=_a.call(t,xa),n=t[xa];try{t[xa]=void 0;var r=!0}catch(t){}var o=ba.call(t);return r&&(e?t[xa]=n:delete t[xa]),o}(t):function(t){return ka.call(t)}(t)}function Sa(t){return null!=t&&"object"==typeof t}function Ea(t){return"symbol"==typeof t||Sa(t)&&"[object Symbol]"==Ma(t)}function Aa(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var ja=Array.isArray,Na=wa?wa.prototype:void 0,Ra=Na?Na.toString:void 0;function Oa(t){if("string"==typeof t)return t;if(ja(t))return Aa(t,Oa)+"";if(Ea(t))return Ra?Ra.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function za(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ta(t){return t}function Ba(t){if(!za(t))return!1;var e=Ma(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var La,Pa=ya["__core-js_shared__"],Fa=(La=/[^.]+$/.exec(Pa&&Pa.keys&&Pa.keys.IE_PROTO||""))?"Symbol(src)_1."+La:"";var Ha=Function.prototype.toString;function Da(t){if(null!=t){try{return Ha.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Ia=/^\[object .+?Constructor\]$/,qa=Function.prototype,Ua=Object.prototype,Wa=qa.toString,Ya=Ua.hasOwnProperty,Ga=RegExp("^"+Wa.call(Ya).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xa(t){return!(!za(t)||(e=t,Fa&&Fa in e))&&(Ba(t)?Ga:Ia).test(Da(t));var e}function Va(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Xa(n)?n:void 0}var Ka=Va(ya,"WeakMap");function Za(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Qa=Date.now;var Ja,ts,es,ns=function(){try{var t=Va(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),rs=(Ja=ns?function(t,e){return ns(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Ta,ts=0,es=0,function(){var t=Qa(),e=16-(t-es);if(es=t,e>0){if(++ts>=800)return arguments[0]}else ts=0;return Ja.apply(void 0,arguments)}),os=/^(?:0|[1-9]\d*)$/;function is(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&os.test(t))&&t>-1&&t%1==0&&t<e}function ls(t,e){return t===e||t!=t&&e!=e}var as=Math.max;function ss(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function us(t){return null!=t&&ss(t.length)&&!Ba(t)}function cs(t,e,n){if(!za(n))return!1;var r=typeof e;return!!("number"==r?us(n)&&is(e,n.length):"string"==r&&e in n)&&ls(n[e],t)}var fs=Object.prototype;function hs(t){return Sa(t)&&"[object Arguments]"==Ma(t)}var ps=Object.prototype,ds=ps.hasOwnProperty,ms=ps.propertyIsEnumerable,gs=hs(function(){return arguments}())?hs:function(t){return Sa(t)&&ds.call(t,"callee")&&!ms.call(t,"callee")};var vs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ys=vs&&"object"==typeof module&&module&&!module.nodeType&&module,ws=ys&&ys.exports===vs?ya.Buffer:void 0,$s=(ws?ws.isBuffer:void 0)||function(){return!1},_s={};function bs(t){return function(e){return t(e)}}_s["[object Float32Array]"]=_s["[object Float64Array]"]=_s["[object Int8Array]"]=_s["[object Int16Array]"]=_s["[object Int32Array]"]=_s["[object Uint8Array]"]=_s["[object Uint8ClampedArray]"]=_s["[object Uint16Array]"]=_s["[object Uint32Array]"]=!0,_s["[object Arguments]"]=_s["[object Array]"]=_s["[object ArrayBuffer]"]=_s["[object Boolean]"]=_s["[object DataView]"]=_s["[object Date]"]=_s["[object Error]"]=_s["[object Function]"]=_s["[object Map]"]=_s["[object Number]"]=_s["[object Object]"]=_s["[object RegExp]"]=_s["[object Set]"]=_s["[object String]"]=_s["[object WeakMap]"]=!1;var xs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ks=xs&&"object"==typeof module&&module&&!module.nodeType&&module,Cs=ks&&ks.exports===xs&&ga.process,Ms=function(){try{var t=ks&&ks.require&&ks.require("util").types;return t||Cs&&Cs.binding&&Cs.binding("util")}catch(t){}}(),Ss=Ms&&Ms.isTypedArray,Es=Ss?bs(Ss):function(t){return Sa(t)&&ss(t.length)&&!!_s[Ma(t)]},As=Object.prototype.hasOwnProperty;function js(t,e){var n=ja(t),r=!n&&gs(t),o=!n&&!r&&$s(t),i=!n&&!r&&!o&&Es(t),l=n||r||o||i,a=l?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],s=a.length;for(var u in t)!e&&!As.call(t,u)||l&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||is(u,s))||a.push(u);return a}var Ns=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),Rs=Object.prototype.hasOwnProperty;function Os(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||fs))return Ns(t);var e,n,r=[];for(var o in Object(t))Rs.call(t,o)&&"constructor"!=o&&r.push(o);return r}function zs(t){return us(t)?js(t):Os(t)}var Ts=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bs=/^\w*$/;function Ls(t,e){if(ja(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ea(t))||(Bs.test(t)||!Ts.test(t)||null!=e&&t in Object(e))}var Ps=Va(Object,"create");var Fs=Object.prototype.hasOwnProperty;var Hs=Object.prototype.hasOwnProperty;function Ds(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Is(t,e){for(var n=t.length;n--;)if(ls(t[n][0],e))return n;return-1}Ds.prototype.clear=function(){this.__data__=Ps?Ps(null):{},this.size=0},Ds.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ds.prototype.get=function(t){var e=this.__data__;if(Ps){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Fs.call(e,t)?e[t]:void 0},Ds.prototype.has=function(t){var e=this.__data__;return Ps?void 0!==e[t]:Hs.call(e,t)},Ds.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ps&&void 0===e?"__lodash_hash_undefined__":e,this};var qs=Array.prototype.splice;function Us(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Us.prototype.clear=function(){this.__data__=[],this.size=0},Us.prototype.delete=function(t){var e=this.__data__,n=Is(e,t);return!(n<0)&&(n==e.length-1?e.pop():qs.call(e,n,1),--this.size,!0)},Us.prototype.get=function(t){var e=this.__data__,n=Is(e,t);return n<0?void 0:e[n][1]},Us.prototype.has=function(t){return Is(this.__data__,t)>-1},Us.prototype.set=function(t,e){var n=this.__data__,r=Is(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Ws=Va(ya,"Map");function Ys(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Gs(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gs.prototype.clear=function(){this.size=0,this.__data__={hash:new Ds,map:new(Ws||Us),string:new Ds}},Gs.prototype.delete=function(t){var e=Ys(this,t).delete(t);return this.size-=e?1:0,e},Gs.prototype.get=function(t){return Ys(this,t).get(t)},Gs.prototype.has=function(t){return Ys(this,t).has(t)},Gs.prototype.set=function(t,e){var n=Ys(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Xs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var l=t.apply(this,r);return n.cache=i.set(o,l)||i,l};return n.cache=new(Xs.Cache||Gs),n}Xs.Cache=Gs;var Vs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ks=/\\(\\)?/g,Zs=function(t){var e=Xs(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Vs,(function(t,n,r,o){e.push(r?o.replace(Ks,"$1"):n||t)})),e}));function Qs(t,e){return ja(t)?t:Ls(t,e)?[t]:Zs(function(t){return null==t?"":Oa(t)}(t))}function Js(t){if("string"==typeof t||Ea(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function tu(t,e){for(var n=0,r=(e=Qs(e,t)).length;null!=t&&n<r;)t=t[Js(e[n++])];return n&&n==r?t:void 0}function eu(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var nu=wa?wa.isConcatSpreadable:void 0;function ru(t){return ja(t)||gs(t)||!!(nu&&t&&t[nu])}function ou(t,e,n,r,o){var i=-1,l=t.length;for(n||(n=ru),o||(o=[]);++i<l;){var a=t[i];e>0&&n(a)?e>1?ou(a,e-1,n,r,o):eu(o,a):r||(o[o.length]=a)}return o}function iu(t){var e=this.__data__=new Us(t);this.size=e.size}iu.prototype.clear=function(){this.__data__=new Us,this.size=0},iu.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},iu.prototype.get=function(t){return this.__data__.get(t)},iu.prototype.has=function(t){return this.__data__.has(t)},iu.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Us){var r=n.__data__;if(!Ws||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gs(r)}return n.set(t,e),this.size=n.size,this};var lu=Object.prototype.propertyIsEnumerable,au=Object.getOwnPropertySymbols,su=au?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var l=t[n];e(l,n,t)&&(i[o++]=l)}return i}(au(t),(function(e){return lu.call(t,e)})))}:function(){return[]};function uu(t){return function(t,e,n){var r=e(t);return ja(t)?r:eu(r,n(t))}(t,zs,su)}var cu=Va(ya,"DataView"),fu=Va(ya,"Promise"),hu=Va(ya,"Set"),pu="[object Map]",du="[object Promise]",mu="[object Set]",gu="[object WeakMap]",vu="[object DataView]",yu=Da(cu),wu=Da(Ws),$u=Da(fu),_u=Da(hu),bu=Da(Ka),xu=Ma;(cu&&xu(new cu(new ArrayBuffer(1)))!=vu||Ws&&xu(new Ws)!=pu||fu&&xu(fu.resolve())!=du||hu&&xu(new hu)!=mu||Ka&&xu(new Ka)!=gu)&&(xu=function(t){var e=Ma(t),n="[object Object]"==e?t.constructor:void 0,r=n?Da(n):"";if(r)switch(r){case yu:return vu;case wu:return pu;case $u:return du;case _u:return mu;case bu:return gu}return e});var ku=xu,Cu=ya.Uint8Array;function Mu(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gs;++e<n;)this.add(t[e])}function Su(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}Mu.prototype.add=Mu.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mu.prototype.has=function(t){return this.__data__.has(t)};function Eu(t,e,n,r,o,i){var l=1&n,a=t.length,s=e.length;if(a!=s&&!(l&&s>a))return!1;var u=i.get(t),c=i.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=2&n?new Mu:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var d=t[f],m=e[f];if(r)var g=l?r(m,d,f,e,t,i):r(d,m,f,t,e,i);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!Su(e,(function(t,e){if(l=e,!p.has(l)&&(d===t||o(d,t,n,r,i)))return p.push(e);var l}))){h=!1;break}}else if(d!==m&&!o(d,m,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Au(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ju(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Nu=wa?wa.prototype:void 0,Ru=Nu?Nu.valueOf:void 0;var Ou=Object.prototype.hasOwnProperty;var zu="[object Arguments]",Tu="[object Array]",Bu="[object Object]",Lu=Object.prototype.hasOwnProperty;function Pu(t,e,n,r,o,i){var l=ja(t),a=ja(e),s=l?Tu:ku(t),u=a?Tu:ku(e),c=(s=s==zu?Bu:s)==Bu,f=(u=u==zu?Bu:u)==Bu,h=s==u;if(h&&$s(t)){if(!$s(e))return!1;l=!0,c=!1}if(h&&!c)return i||(i=new iu),l||Es(t)?Eu(t,e,n,r,o,i):function(t,e,n,r,o,i,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Cu(t),new Cu(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ls(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Au;case"[object Set]":var s=1&r;if(a||(a=ju),t.size!=e.size&&!s)return!1;var u=l.get(t);if(u)return u==e;r|=2,l.set(t,e);var c=Eu(a(t),a(e),r,o,i,l);return l.delete(t),c;case"[object Symbol]":if(Ru)return Ru.call(t)==Ru.call(e)}return!1}(t,e,s,n,r,o,i);if(!(1&n)){var p=c&&Lu.call(t,"__wrapped__"),d=f&&Lu.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,g=d?e.value():e;return i||(i=new iu),o(m,g,n,r,i)}}return!!h&&(i||(i=new iu),function(t,e,n,r,o,i){var l=1&n,a=uu(t),s=a.length;if(s!=uu(e).length&&!l)return!1;for(var u=s;u--;){var c=a[u];if(!(l?c in e:Ou.call(e,c)))return!1}var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=l;++u<s;){var m=t[c=a[u]],g=e[c];if(r)var v=l?r(g,m,c,e,t,i):r(m,g,c,t,e,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var y=t.constructor,w=e.constructor;y==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,i))}function Fu(t,e,n,r,o){return t===e||(null==t||null==e||!Sa(t)&&!Sa(e)?t!=t&&e!=e:Pu(t,e,n,r,Fu,o))}function Hu(t){return t==t&&!za(t)}function Du(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Iu(t){var e=function(t){for(var e=zs(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Hu(o)]}return e}(t);return 1==e.length&&e[0][2]?Du(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,l=!r;if(null==t)return!i;for(t=Object(t);o--;){var a=n[o];if(l&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var s=(a=n[o])[0],u=t[s],c=a[1];if(l&&a[2]){if(void 0===u&&!(s in t))return!1}else{var f=new iu;if(r)var h=r(u,c,s,t,e,f);if(!(void 0===h?Fu(c,u,3,r,f):h))return!1}}return!0}(n,t,e)}}function qu(t,e){return null!=t&&e in Object(t)}function Uu(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=Qs(e,t)).length,i=!1;++r<o;){var l=Js(e[r]);if(!(i=null!=t&&n(t,l)))break;t=t[l]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&ss(o)&&is(l,o)&&(ja(t)||gs(t))}(t,e,qu)}function Wu(t,e){return Ls(t)&&Hu(e)?Du(Js(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:tu(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?Uu(n,t):Fu(e,r,3)}}function Yu(t){return Ls(t)?(e=Js(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return tu(e,t)}}(t);var e}function Gu(t){return"function"==typeof t?t:null==t?Ta:"object"==typeof t?ja(t)?Wu(t[0],t[1]):Iu(t):Yu(t)}var Xu,Vu=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),l=i.length;l--;){var a=i[Xu?l:++r];if(!1===e(o[a],a,o))break}return t};var Ku=function(t,e){return function(n,r){if(null==n)return n;if(!us(n))return t(n,r);for(var o=n.length,i=e?o:-1,l=Object(n);(e?i--:++i<o)&&!1!==r(l[i],i,l););return n}}((function(t,e){return t&&Vu(t,e,zs)}));function Zu(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,i=Ea(t),l=void 0!==e,a=null===e,s=e==e,u=Ea(e);if(!a&&!u&&!i&&t>e||i&&l&&s&&!a&&!u||r&&l&&s||!n&&s||!o)return 1;if(!r&&!i&&!u&&t<e||u&&n&&o&&!r&&!i||a&&n&&o||!l&&o||!s)return-1}return 0}function Qu(t,e,n){e=e.length?Aa(e,(function(t){return ja(t)?function(e){return tu(e,1===t.length?t[0]:t)}:t})):[Ta];var r=-1;return e=Aa(e,bs(Gu)),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(function(t,e){var n=-1,r=us(t)?Array(t.length):[];return Ku(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}(t,(function(t,n,o){return{criteria:Aa(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,l=o.length,a=n.length;++r<l;){var s=Zu(o[r],i[r]);if(s)return r>=a?s:s*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Ju(t,e,n,r){return null==t?[]:(ja(e)||(e=null==e?[]:[e]),ja(n=r?void 0:n)||(n=null==n?[]:[n]),Qu(t,e,n))}var tc=function(t,e){return rs(function(t,e,n){return e=as(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=as(r.length-e,0),l=Array(i);++o<i;)l[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(l),Za(t,this,a)}}(t,e,Ta),t+"")}((function(t,e){if(null==t)return[];var n=e.length;return n>1&&cs(t,e[0],e[1])?e=[]:n>2&&cs(e[0],e[1],e[2])&&(e=[e[0]]),Qu(t,ou(e,1),[])}));const ec=(t,e)=>e.filter((t=>t.selected)).map((t=>t.id)).some((e=>t.includes(e))),nc=(t,e="selected")=>t.every((t=>t[e])),rc=["#F1B2EE","#95D69A","#61D8D6","#AAC8FC","#DAC584","#FFB3B5","#C8B8F5"],oc=[{id:0,name:"Launched"},{id:1,name:"Pilot"},{id:2,name:"Development"},{id:3,name:"Research"},{id:4,name:"Inactive"},{id:5,name:"Canceled"},{id:6,name:"Other"}],ic=[{id:0,name:"Retail"},{id:1,name:"Wholesale"},{id:2,name:"Both"},{id:3,name:"Undecided"}],lc=[{id:0,name:"Account"},{id:1,name:"Token"},{id:2,name:"Both"},{id:3,name:"Undecided"}],ac=[{id:0,name:"Conventional"},{id:1,name:"DLT"},{id:2,name:"Both"},{id:3,name:"Undecided"}],sc=[{id:0,name:"Direct"},{id:1,name:"Hybrid"},{id:2,name:"Undecided"}],uc=(t,e="name",n="Undecided")=>{const r=t.find((t=>t[e]===n));return r?[...t.filter((t=>t[e]!==n)),r]:t},cc=t=>{let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e=e.replace(/^www\./i,""),e};function fc(){const{subscribe:t,set:e,update:n}=It([]),r=()=>n((t=>t.map((t=>({...t,selected:!1}))))),o=t=>n((e=>e.map((e=>({...e,selected:!![t].flat().includes(e.id)||e.selected})))));return{subscribe:t,set:e,init:(t,n=null)=>{let r=t;null!==n&&(r=[...new Set(t.map((t=>n.split(".").reduce(((t,e)=>t[e]),t))).flat())],r=tc(r,(t=>t.toLowerCase()))),e(uc(r.map((t=>({id:t,name:t,selected:!0}))),"name","Undecided"))},select:o,selectOne:t=>{r(),o(t)},selectAll:()=>n((t=>t.map((t=>({...t,selected:!0}))))),unselect:t=>n((e=>e.map((e=>({...e,selected:![t].flat().includes(e.id)&&e.selected}))))),unselectAll:r,click:t=>n((e=>{let n=[];return n=nc(e)?e.map((e=>({...e,selected:[t].flat().includes(e.id)}))):e.map((e=>({...e,selected:[t].flat().includes(e.id)?!e.selected:e.selected}))),((t,e="selected")=>t.every((t=>!t[e])))(n)&&(n=n.map((t=>({...t,selected:!0})))),n})),applyBoolArray:t=>{const e=[...t].reverse();n((t=>t.reverse().map(((t,n)=>({...t,selected:void 0!==e[n]&&e[n]}))).reverse()))}}}const hc=fc(),pc=fc(),dc=fc(),mc=fc(),gc=fc(),vc=fc(),yc=fc(),wc=fc(),$c=fc(),_c=(t,e)=>{switch(t){case"name":pc.click(e);break;case"new_status":hc.click(e);break;case"use_case":dc.click(e);break;case"technology":mc.click(e);break;case"architecture":gc.click(e);break;case"infrastructure":vc.click(e);break;case"access":yc.click(e);break;case"corporate_partnership":wc.click(e);break;case"crossborder_partnerships":$c.click(e)}},bc=()=>{hc.selectAll(),pc.selectAll(),dc.selectAll(),mc.selectAll(),gc.selectAll(),vc.selectAll(),yc.selectAll(),wc.selectAll(),$c.selectAll()},xc=qt([hc,pc,dc,mc,gc,vc,yc,wc,$c],(([t,e,n,r,o,i,l,a,s])=>!(nc(t)&&nc(e)&&nc(n)&&nc(r)&&nc(o)&&nc(i)&&nc(l)&&nc(a)&&nc(s))),!1),kc=t=>t?t.replace("n/a","Undecided"):"Undecided",Cc=async t=>{const e=(await Go(t,(t=>(void 0!==t["Media Sources"]&&t["Media Sources"].split(";").filter((t=>t)),{owner:t.Owner,name:t.Name,currency_name:t["Name of CBDC"],overview:t.Overview,overview_spotlight:t["Overview Spotlight"],key_developments:t["Key Developments"],key_developments_spotlight:t["Key Developments Spotlight"],categories:{new_status:kc(t["October Status"]),use_case:kc(t["Use case"]),technology:kc(t["Underlying technology"]),architecture:kc(t["Architecture: direct CBDC or hybrid"]),infrastructure:kc(t["Infrastructure: DLT or conventional"]),access:kc(t["Access: token or account"]),corporate_partnership:kc(t["Technology partnership"]),crossborder_partnerships:kc(t["Cross-border projects"])},sources:{central_bank_name:t["Central Bank Name"],central_bank_url:t["Central Bank Source to Hyperlink"],media_urls:t["Media Sources"].split(";").filter((t=>t))},notes:t.Notes})))).filter((t=>"not available"!==t.categories.new_status)).filter((t=>"Undecided"!==t.categories.new_status)).filter((t=>"No development yet"!==t.categories.new_status));return(t=>{hc.init(oc.map((t=>t.name)).filter((t=>"Other"!=t))),pc.init(t,"name"),dc.init(ic.map((t=>t.name))),mc.init(t,"categories.technology"),gc.init(sc.map((t=>t.name))),vc.init(ac.map((t=>t.name))),yc.init(lc.map((t=>t.name))),wc.init(t,"categories.corporate_partnership"),$c.init(t,"categories.crossborder_partnerships")})(e),e},Mc=async t=>await function(t,e){return fetch(t,e).then(Xo)}(t),Sc=Dt([],(async t=>{t(await Mc("data/definitions.json"))})),Ec=It(null),Ac=(t=8,e=50,n=80)=>function(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}(t).map((r=>pr(360*r/(1+t),e,n).formatHex())),jc=(t,e="not available",n="Undecided",r=Lt.gray)=>{const o=Ac(t.length);return t.reduce(((t,i,l)=>({...t,[i]:i===e||i===n?r:o[l]})),{})},Nc=It({name:"Country",new_status:"CBDC Status",use_case:"Purpose",technology:"Technology",architecture:"Architecture",infrastructure:"Infrastructure",access:"Access",corporate_partnership:"Technology Partnerships",crossborder_partnerships:"Crossborder Projects"}),Rc=It(oc.reduce(((t,e,n)=>({...t,[e.name]:rc[n]})),{})),Oc=qt(pc,(t=>jc(t.map((t=>t.name))))),zc=qt(dc,(t=>jc(t.map((t=>t.name))))),Tc=qt(mc,(t=>jc(t.map((t=>t.name))))),Bc=qt(gc,(t=>jc(t.map((t=>t.name))))),Lc=qt(vc,(t=>jc(t.map((t=>t.name))))),Pc=qt(yc,(t=>jc(t.map((t=>t.name)))));qt(wc,(t=>jc(t.map((t=>t.name))))),qt($c,(t=>jc(t.map((t=>t.name)))));const Fc=qt([Dt([],(async t=>{t(await Cc("https://docs.google.com/spreadsheets/d/e/2PACX-1vQh27kpYjCRmNoWa4FEpWqLSxLLaqK_hlgqP6wGQLp8Pum7guAYS6i0qt6wIRAPvb5Up6-6wvmTN05s/pub?gid=0&single=true&output=csv"))})),Nc,Rc,Oc,zc,Tc,Bc,Lc,Pc],(([t,e,n,r,o,i,l,a,s])=>t.map((t=>({...t,name:{name:t.name,title:e.name,color:r[t.name],filterable:!0},categories:{...t.categories,new_status:{name:t.categories.new_status,title:e.new_status,color:n[t.categories.new_status],filterable:!0},use_case:{name:t.categories.use_case,title:e.use_case,color:o[t.categories.use_case],filterable:!0},technology:{name:t.categories.technology,title:e.technology,color:i[t.categories.technology],filterable:!1},architecture:{name:t.categories.architecture,title:e.architecture,color:l[t.categories.architecture],filterable:!0},infrastructure:{name:t.categories.infrastructure,title:e.infrastructure,color:a[t.categories.infrastructure],filterable:!0},access:{name:t.categories.access,title:e.access,color:s[t.categories.access],filterable:!0},corporate_partnership:{name:t.categories.corporate_partnership,title:e.corporate_partnership,color:Lt.gray,filterable:!1},crossborder_partnerships:{name:t.categories.crossborder_partnerships,title:e.crossborder_partnerships,color:Lt.gray,filterable:!1}}})))),[]),Hc=qt([Fc,hc,pc,dc,mc,gc,vc,yc,wc,$c],(([t,e,n,r,o,i,l,a,s,u])=>t.map((t=>({...t,show:ec([t.categories.new_status.name],e)&&ec([t.name.name],n)&&ec([t.categories.use_case.name],r)&&ec([t.categories.technology.name],o)&&ec([t.categories.architecture.name],i)&&ec([t.categories.infrastructure.name],l)&&ec([t.categories.access.name],a)&&ec([t.categories.corporate_partnership.name],s)&&ec([t.categories.crossborder_partnerships.name],u)})))),[]);function Dc(t){return t}function Ic(t,e){var n=e.id,r=e.bbox,o=null==e.properties?{}:e.properties,i=qc(t,e);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function qc(t,e){var n=function(t){if(null==t)return Dc;var e,n,r=t.scale[0],o=t.scale[1],i=t.translate[0],l=t.translate[1];return function(t,a){a||(e=n=0);var s=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*r+i,c[1]=(n+=t[1])*o+l;s<u;)c[s]=t[s],++s;return c}}(t.transform),r=t.arcs;function o(t,e){e.length&&e.pop();for(var o=r[t<0?~t:t],i=0,l=o.length;i<l;++i)e.push(n(o[i],i));t<0&&function(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n}(e,l)}function i(t){return n(t)}function l(t){for(var e=[],n=0,r=t.length;n<r;++n)o(t[n],e);return e.length<2&&e.push(e[0]),e}function a(t){for(var e=l(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(a)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=l(e.arcs);break;case"MultiLineString":n=e.arcs.map(l);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(e)}function Uc(t,e){var n={},r={},o={},i=[],l=-1;function a(t,e){for(var r in t){var o=t[r];delete e[o.start],delete o.start,delete o.end,o.forEach((function(t){n[t<0?~t:t]=1})),i.push(o)}}return e.forEach((function(n,r){var o,i=t.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++l],e[l]=n,e[r]=o)})),e.forEach((function(e){var n,i,l=function(e){var n,r=t.arcs[e<0?~e:e],o=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,o]:[o,n]}(e),a=l[0],s=l[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=s,i=r[s]){delete r[i.start];var u=i===n?n:n.concat(i);r[u.start=n.start]=o[u.end=i.end]=u}else r[n.start]=o[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(e),n.start=a,i=o[a]){delete o[i.end];var c=i===n?n:i.concat(n);r[c.start=i.start]=o[c.end=n.end]=c}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=a]=o[n.end=s]=n})),a(o,r),a(r,o),e.forEach((function(t){n[t<0?~t:t]||i.push([t])})),i}function Wc(t){return qc(t,Yc.apply(this,arguments))}function Yc(t,e){var n={},r=[],o=[];function i(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function l(e){return function(t){for(var e,n=-1,r=t.length,o=t[r-1],i=0;++n<r;)e=o,o=t[n],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}(qc(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":i(e.arcs);break;case"MultiPolygon":e.arcs.forEach(i)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,o.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:o.map((function(e){var r,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&o.push(t)}))}))})),(r=(o=Uc(t,o)).length)>1)for(var i,a,s=1,u=l(o[0]);s<r;++s)(i=l(o[s]))>u&&(a=o[0],o[0]=o[s],o[s]=a,u=i);return o})).filter((function(t){return t.length>0}))}}var Gc=function t(e,n){var r,o=e&&e.type;if("FeatureCollection"===o)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===o)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===o)t(e.geometry,n);else if("Polygon"===o)Xc(e.coordinates,n);else if("MultiPolygon"===o)for(r=0;r<e.coordinates.length;r++)Xc(e.coordinates[r],n);return e};function Xc(t,e){if(0!==t.length){Vc(t[0],e);for(var n=1;n<t.length;n++)Vc(t[n],!e)}}function Vc(t,e){for(var n=0,r=0,o=0,i=t.length,l=i-1;o<i;l=o++){var a=(t[o][0]-t[l][0])*(t[l][1]+t[o][1]),s=n+a;r+=Math.abs(n)>=Math.abs(a)?n-s+a:a-s+n,n=s}n+r>=0!=!!e&&t.reverse()}function Kc(t,e,n){return{r:255*n(t.r/255,e.r/255),g:255*n(t.g/255,e.g/255),b:255*n(t.b/255,e.b/255)}}function Zc(t,e){return t*e}function Qc(t,e,n){return Math.min(Math.max(t||0,e),n)}function Jc(t){return{r:Qc(t.r,0,255),g:Qc(t.g,0,255),b:Qc(t.b,0,255),a:Qc(t.a,0,1)}}function tf(t){return{r:255*t.r,g:255*t.g,b:255*t.b,a:t.a}}function ef(t,e){void 0===e&&(e=0);var n=Math.pow(10,e);return{r:Math.round(t.r*n)/n,g:Math.round(t.g*n)/n,b:Math.round(t.b*n)/n,a:t.a}}function nf(t,e,n,r,o,i){return(1-e/n)*r+e/n*Math.round((1-t)*o+t*i)}function rf(t,e){return function(t,e,n,r,o){void 0===o&&(o={unitInput:!1,unitOutput:!1,roundOutput:!0}),o.unitInput&&(t=tf(t),e=tf(e)),t=Jc(t);var i=(e=Jc(e)).a+t.a-e.a*t.a,l=n(t,e,r),a=Jc({r:nf(t.a,e.a,i,t.r,e.r,l.r),g:nf(t.a,e.a,i,t.g,e.g,l.g),b:nf(t.a,e.a,i,t.b,e.b,l.b),a:i});return o.unitOutput?function(t){return{r:t.r/255,g:t.g/255,b:t.b/255,a:t.a}}(a):o.roundOutput?ef(a):function(t){return ef(t,9)}(a)}(t,e,Kc,Zc)}const of=["Belgium","Germany","Ireland","Spain","France","Italy","Luxembourg","Netherlands","Austria","Portugal","Finland","Greece","Slovenia","Cyprus","Malta","Slovakia","Estonia","Latvia","Lithuania","Euro Area"],lf=["United States of America","Israel","Palestine","Lebanon","Canada","Euro Area","Germany"],af=[{id:0,name:"Eastern Carribean (Launched)",countries:["Saint Kitts and Nevis","Antigua and Barbuda","Saint Lucia","Grenada","Montserrat","Dominica","Saint Vincent and the Grenadines"],centroid:[-64,15]},{id:1,name:"Eastern Mediterranean",countries:["Israel","Lebanon","Palestine"],centroid:[35,33]},{id:2,name:"Europe",countries:["France","Italy","Spain","Belgium","Switzerland","Netherlands","Germany","Ireland","Luxembourg","Netherlands","Austria","Portugal","Finland","Greece","Slovenia","Cyprus","Malta","Slovakia","Estonia","Latvia","Lithuania","Euro Area"],centroid:[3,46]}],sf=(t,e)=>{if(!t.length)return Lt.darkgray;const n=[...new Set(t.map((t=>t.categories[e].color)))];if(1===n.length)return n[0];const r=rf(...n.map((t=>Un(t))).map((t=>({r:t.r,g:t.g,b:t.b,a:t.opacity}))));return Un(r.r,r.g,r.b,r.a).formatHex()},uf=[{id:"G7",name:"G7",items:["Canada","Euro Area","France","Germany","Italy","Japan","United Kingdom","United States of America"]},{id:"G20",name:"G20",items:["Argentina","Australia","Brazil","Canada","China","France","Germany","India","Indonesia","Italy","Japan","South Korea","Mexico","Russia","Saudi Arabia","South Africa","Turkey","United Kingdom","United States of America","Euro Area"]},{id:"OECD",name:"OECD",items:["Austria","Belgium","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Latvia","Lithuania","Luxembourg","Netherlands","Norway","Poland","Portugal","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Euro Area","Canada","Chile","Colombia","Mexico","United States of America","Australia","Japan","South Korea","New Zealand","Israel","Turkey"]}],cf={type:"Sphere"},ff=Dt([],(async t=>{const e=await Mc("data/countries-topo.json"),{features:n}=(r=e,"string"==typeof(o=e.objects.countries1)&&(o=r.objects[o]),"GeometryCollection"===o.type?{type:"FeatureCollection",features:o.geometries.map((function(t){return Ic(r,t)}))}:Ic(r,o));var r,o;const i=[...n,...(await Mc("data/countries-special.json")).map((t=>({...t,geometry:Gc(t.geometry,!0)})))].map((t=>({...t,status:"country"}))).filter((t=>!["Antarctica"].includes(t.properties.name))),l={type:"Feature",geometry:Wc(e,e.objects.countries1.geometries.filter((t=>of.includes(t.properties.name)))),properties:{name:"Euro Area"},status:"region"},a=await(async t=>await Go(t))("data/capitals.csv");t([...i,l].map(((t,e)=>{const{lat:n,lon:r,name:o}=a.find((e=>e.country===t.properties.name))||{};return{...t,id:e,capital:{name:o,coordinates:[+r,+n]},isClusterMember:af.map((t=>t.countries)).flat().includes(t.properties.name)}})))})),hf=It(0),pf=It(0),df=qt([hf,pf],(([t,e])=>ra().fitSize([t,e],cf).translate([0,0]).rotate([-6,0]))),mf=qt([Ut,hf,pf],(([t,e,n])=>{const r=ra().fitSize([e,n],cf).translate([0,0]).rotate([-6,0]),[o,i]=r.translate();return t?aa.translate(o+e/4.5,i+n/1.9).scale(3*r.scale()):aa.translate(o+e/2,i+n/1.8).scale(r.scale())}),aa),gf=It(aa),vf=qt([df,gf],(([t,e])=>t.translate([e.x,e.y]).scale(e.k))),yf=qt(vf,(t=>function(t,e){var n,r,o=4.5;function i(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),gi(t,n(r))),r.result()}return i.area=function(t){return gi(t,n(Zi)),Zi.result()},i.measure=function(t){return gi(t,n(Ll)),Ll.result()},i.bounds=function(t){return gi(t,n(ll)),ll.result()},i.centroid=function(t){return gi(t,n($l)),$l.result()},i.projection=function(e){return arguments.length?(n=null==e?(t=null,Xi):(t=e).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(e=null,new Hl):new jl(e=t),"function"!=typeof o&&r.pointRadius(o),i):e},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),i):o},i.projection(t).context(e)}(t))),wf=qt([ff,yf],(([t,e])=>t.map(((t,n)=>{let r=e.centroid(t);lf.includes(t.properties.name)&&(r=t.capital.name?e.projection()(t.capital.coordinates):e.centroid(t));return{id:n,name:t.properties.name,status:t.status,path:e(t),centroid:r,isClusterMember:t.isClusterMember}})))),$f=qt(yf,(t=>af.map((e=>({...e,centroid:t.projection()(e.centroid)})))),[]),_f=It("new_status"),bf=qt([Hc,wf,hf,pf,$f],(([t,e,n,r,o])=>{const i=t.map((t=>t.name.name));return tc(e.flat().filter((t=>null!=t.path)).filter((t=>i.includes(t.name))).map((e=>{const n=t.find((t=>t.name.name===e.name));return{...e,...n,cluster:o.find((t=>t.countries.includes(n.name.name)))}})),[t=>t.status]).map(((t,e)=>{return{...t,lineVisible:t.show&&t.centroid[0]>0&&t.centroid[0]<n&&t.centroid[1]>0&&t.centroid[1]<r,orderId:e+.5,offset:t.isClusterMember?(o=t.cluster.centroid,i=t.centroid,[o[0]-i[0],o[1]-i[1]]):[0,0]};var o,i}))}),[]),xf=qt([$f,bf,_f],(([t,e,n])=>t.map((t=>{const r=e.filter((e=>t.countries.includes(e.name.name)));return{...t,show:r.some((t=>t.show)),color:sf(r,n)}})))),kf=(()=>{const{set:t,update:e,subscribe:n}=It([]);let r={};return{set:t,subscribe:n,add:t=>{e((e=>e.includes(t)?e:[...e,t])),clearTimeout(r[`id_${t}`])},remove:t=>{const n=setTimeout((()=>{e((e=>e.filter((e=>e!==t))))}),400);r={...r,[`id_${t}`]:n}}}})(),Cf=It(),Mf=qt([bf,Cf],(([t,e])=>{if(null===e)return null;const n=t.find((t=>t.id===e));return n||null}),null),Sf=(t,e=null)=>{let n=Vt(t,(t=>t.length),(t=>t.name)).map((e=>({name:e[0],color:t.find((t=>t.name===e[0])).color,n:e[1],percent:100*e[1]/t.length})));return n=tc(n,null!==e?t=>e.indexOf(t.name):t=>t.name.toLowerCase()),n=uc(n,"name","Undecided"),n},Ef=qt(Fc,(t=>Sf(t.map((t=>t.categories.new_status)),oc.map((t=>t.name)))));qt(Fc,(t=>Sf(t.map((t=>t.name)))));const Af=qt(Fc,(t=>Sf(t.map((t=>t.categories.use_case)),ic.map((t=>t.name)))));qt(Fc,(t=>Sf(t.map((t=>t.categories.technology)))));const jf=qt(Fc,(t=>Sf(t.filter((t=>["Retail","Both"].includes(t.categories.use_case.name))).map((t=>t.categories.architecture)),sc.map((t=>t.name))))),Nf=qt(Fc,(t=>Sf(t.map((t=>t.categories.infrastructure)),ac.map((t=>t.name))))),Rf=qt(Fc,(t=>Sf(t.filter((t=>["Retail","Both"].includes(t.categories.use_case.name))).map((t=>t.categories.access)),lc.map((t=>t.name))))),Of=qt(Fc,(t=>Sf(t.map((t=>t.categories.corporate_partnership))))),zf=qt(Fc,(t=>Sf(t.map((t=>t.categories.crossborder_partnerships))))),Tf=qt(Hc,(t=>t.filter((t=>t.show)))),Bf=qt(Tf,(t=>Sf(t.map((t=>t.categories.new_status)),oc.map((t=>t.name)))));qt(Tf,(t=>Sf(t.map((t=>t.name)))));const Lf=qt(Tf,(t=>Sf(t.map((t=>t.categories.use_case)))));qt(Tf,(t=>Sf(t.map((t=>t.categories.technology)))));const Pf=qt(Tf,(t=>Sf(t.filter((t=>["Retail","Both"].includes(t.categories.use_case.name))).map((t=>t.categories.architecture))))),Ff=qt(Tf,(t=>Sf(t.map((t=>t.categories.infrastructure))))),Hf=qt(Tf,(t=>Sf(t.filter((t=>["Retail","Both"].includes(t.categories.use_case.name))).map((t=>t.categories.access))))),Df=qt(Tf,(t=>Sf(t.map((t=>t.categories.corporate_partnership))))),If=qt(Tf,(t=>Sf(t.map((t=>t.categories.crossborder_partnerships))))),qf=qt(Fc,(t=>[...new Set(t.map((t=>t.name)))].length)),Uf=t=>parseInt(t,2).toString(16).toLowerCase(),Wf=t=>parseInt(t,16).toString(2),Yf=t=>t.split("").map((t=>"0"!==t)),Gf=qt([hc,dc,gc,vc,yc,pc,Cf],(([t,e,n,r,o,i,l])=>`https://www.atlanticcouncil.org/cbdctracker/?params=${[t,e,n,r,o].map((t=>Uf(t.map((t=>+t.selected)).join("")))).join(";")}&country=${(t=>{if(!nc(t))return t.filter((t=>t.selected)).map((t=>t.id)).join(";")})(i)||""}&selected=${l||""}`.replace("#","%23")));function Xf(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Vf(t){const e=t-1;return e*e*e+1}function Kf(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}function Zf(t,{delay:e=0,duration:n=400,easing:r=Vf}={}){const o=getComputedStyle(t),i=+o.opacity,l=parseFloat(o.height),a=parseFloat(o.paddingTop),s=parseFloat(o.paddingBottom),u=parseFloat(o.marginTop),c=parseFloat(o.marginBottom),f=parseFloat(o.borderTopWidth),h=parseFloat(o.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*i};height: ${t*l}px;padding-top: ${t*a}px;padding-bottom: ${t*s}px;margin-top: ${t*u}px;margin-bottom: ${t*c}px;border-top-width: ${t*f}px;border-bottom-width: ${t*h}px;`}}function Qf(t,{delay:e=0,speed:n,duration:r,easing:o=Xf}={}){const i=t.getTotalLength();return void 0===r?r=void 0===n?800:i/n:"function"==typeof r&&(r=r(i)),{delay:e,duration:r,easing:o,css:(t,e)=>`stroke-dasharray: ${t*i} ${e*i}`}}function Jf(e){let r,o,i=[{key:o="path-"+e[0]},e[1]],l={};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return{c(){r=E("path"),T(r,l)},m(t,e){k(t,r,e)},p(t,[e]){T(r,l=At(i,[1&e&&o!==(o="path-"+t[0])&&{key:o},2&e&&t[1]]))},i:t,o:t,d(t){t&&C(r)}}}function th(t,e,n){let{id:r=""}=e,{data:o={}}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"data"in t&&n(1,o=t.data)},[r,o]}class eh extends Bt{constructor(t){super(),Tt(this,t,th,Jf,a,{id:0,data:1})}}function nh(e){let r,o,i=[{key:o="polygon-"+e[0]},e[1]],l={};for(let t=0;t<i.length;t+=1)l=n(l,i[t]);return{c(){r=E("polygon"),T(r,l)},m(t,e){k(t,r,e)},p(t,[e]){T(r,l=At(i,[1&e&&o!==(o="polygon-"+t[0])&&{key:o},2&e&&t[1]]))},i:t,o:t,d(t){t&&C(r)}}}function rh(t,e,n){let{id:r=""}=e,{data:o={}}=e;return t.$$set=t=>{"id"in t&&n(0,r=t.id),"data"in t&&n(1,o=t.data)},[r,o]}class oh extends Bt{constructor(t){super(),Tt(this,t,rh,nh,a,{id:0,data:1})}}function ih(e){let n;return{c(){n=E("g")},m(t,r){k(t,n,r),n.innerHTML=e[0]},p(t,[e]){1&e&&(n.innerHTML=t[0])},i:t,o:t,d(t){t&&C(n)}}}function lh(t,e,n){let r,o=870711;let{data:i}=e;function l(t){if(!t||!t.raw)return null;let e=t.raw;const n={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,((t,e)=>{const r=(o+=1,`fa-${o.toString(16)}`);return n[e]=r,` id="${r}"`})),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((t,e,r,o)=>{const i=e||o;return i&&n[i]?`#${n[i]}`:t})),e}return t.$$set=t=>{"data"in t&&n(1,i=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,r=l(i))},[r,i]}class ah extends Bt{constructor(t){super(),Tt(this,t,lh,ih,a,{data:1})}}function sh(t){let e,n,r,o;const i=t[13].default,l=c(i,t,t[12],null);return{c(){e=E("svg"),l&&l.c(),z(e,"version","1.1"),z(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),z(e,"x",t[8]),z(e,"y",t[9]),z(e,"width",t[1]),z(e,"height",t[2]),z(e,"aria-label",t[11]),z(e,"role",r=t[11]?"img":"presentation"),z(e,"viewBox",t[3]),z(e,"style",t[10]),D(e,"fa-spin",t[4]),D(e,"fa-pulse",t[6]),D(e,"fa-inverse",t[5]),D(e,"fa-flip-horizontal","horizontal"===t[7]),D(e,"fa-flip-vertical","vertical"===t[7])},m(t,n){k(t,e,n),l&&l.m(e,null),o=!0},p(t,[a]){l&&l.p&&(!o||4096&a)&&h(l,i,t,t[12],o?a:-1,null,null),(!o||1&a&&n!==(n="fa-icon "+t[0]+" svelte-1dof0an"))&&z(e,"class",n),(!o||256&a)&&z(e,"x",t[8]),(!o||512&a)&&z(e,"y",t[9]),(!o||2&a)&&z(e,"width",t[1]),(!o||4&a)&&z(e,"height",t[2]),(!o||2048&a)&&z(e,"aria-label",t[11]),(!o||2048&a&&r!==(r=t[11]?"img":"presentation"))&&z(e,"role",r),(!o||8&a)&&z(e,"viewBox",t[3]),(!o||1024&a)&&z(e,"style",t[10]),17&a&&D(e,"fa-spin",t[4]),65&a&&D(e,"fa-pulse",t[6]),33&a&&D(e,"fa-inverse",t[5]),129&a&&D(e,"fa-flip-horizontal","horizontal"===t[7]),129&a&&D(e,"fa-flip-vertical","vertical"===t[7])},i(t){o||(wt(l,t),o=!0)},o(t){$t(l,t),o=!1},d(t){t&&C(e),l&&l.d(t)}}}function uh(t,e,n){let{$$slots:r={},$$scope:o}=e,{class:i}=e,{width:l}=e,{height:a}=e,{box:s}=e,{spin:u=!1}=e,{inverse:c=!1}=e,{pulse:f=!1}=e,{flip:h=null}=e,{x:p}=e,{y:d}=e,{style:m}=e,{label:g}=e;return t.$$set=t=>{"class"in t&&n(0,i=t.class),"width"in t&&n(1,l=t.width),"height"in t&&n(2,a=t.height),"box"in t&&n(3,s=t.box),"spin"in t&&n(4,u=t.spin),"inverse"in t&&n(5,c=t.inverse),"pulse"in t&&n(6,f=t.pulse),"flip"in t&&n(7,h=t.flip),"x"in t&&n(8,p=t.x),"y"in t&&n(9,d=t.y),"style"in t&&n(10,m=t.style),"label"in t&&n(11,g=t.label),"$$scope"in t&&n(12,o=t.$$scope)},[i,l,a,s,u,c,f,h,p,d,m,g,o,r]}class ch extends Bt{constructor(t){super(),Tt(this,t,uh,sh,a,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function fh(t,e,n){const r=t.slice();return r[24]=e[n],r[26]=n,r}function hh(t,e,n){const r=t.slice();return r[27]=e[n],r[26]=n,r}function ph(t){let e,n,r,o,i=t[0].paths&&dh(t),l=t[0].polygons&&gh(t),a=t[0].raw&&yh(t);return{c(){i&&i.c(),e=j(),l&&l.c(),n=j(),a&&a.c(),r=N()},m(t,s){i&&i.m(t,s),k(t,e,s),l&&l.m(t,s),k(t,n,s),a&&a.m(t,s),k(t,r,s),o=!0},p(t,o){t[0].paths?i?(i.p(t,o),1&o&&wt(i,1)):(i=dh(t),i.c(),wt(i,1),i.m(e.parentNode,e)):i&&(vt(),$t(i,1,1,(()=>{i=null})),yt()),t[0].polygons?l?(l.p(t,o),1&o&&wt(l,1)):(l=gh(t),l.c(),wt(l,1),l.m(n.parentNode,n)):l&&(vt(),$t(l,1,1,(()=>{l=null})),yt()),t[0].raw?a?(a.p(t,o),1&o&&wt(a,1)):(a=yh(t),a.c(),wt(a,1),a.m(r.parentNode,r)):a&&(vt(),$t(a,1,1,(()=>{a=null})),yt())},i(t){o||(wt(i),wt(l),wt(a),o=!0)},o(t){$t(i),$t(l),$t(a),o=!1},d(t){i&&i.d(t),t&&C(e),l&&l.d(t),t&&C(n),a&&a.d(t),t&&C(r)}}}function dh(t){let e,n,r=t[0].paths,o=[];for(let e=0;e<r.length;e+=1)o[e]=mh(hh(t,r,e));const i=t=>$t(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=N()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);k(t,e,r),n=!0},p(t,n){if(1&n){let l;for(r=t[0].paths,l=0;l<r.length;l+=1){const i=hh(t,r,l);o[l]?(o[l].p(i,n),wt(o[l],1)):(o[l]=mh(i),o[l].c(),wt(o[l],1),o[l].m(e.parentNode,e))}for(vt(),l=r.length;l<o.length;l+=1)i(l);yt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)wt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)$t(o[t]);n=!1},d(t){M(o,t),t&&C(e)}}}function mh(t){let e,n;return e=new eh({props:{id:t[26],data:t[27]}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.data=t[27]),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function gh(t){let e,n,r=t[0].polygons,o=[];for(let e=0;e<r.length;e+=1)o[e]=vh(fh(t,r,e));const i=t=>$t(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=N()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);k(t,e,r),n=!0},p(t,n){if(1&n){let l;for(r=t[0].polygons,l=0;l<r.length;l+=1){const i=fh(t,r,l);o[l]?(o[l].p(i,n),wt(o[l],1)):(o[l]=vh(i),o[l].c(),wt(o[l],1),o[l].m(e.parentNode,e))}for(vt(),l=r.length;l<o.length;l+=1)i(l);yt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)wt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)$t(o[t]);n=!1},d(t){M(o,t),t&&C(e)}}}function vh(t){let e,n;return e=new oh({props:{id:t[26],data:t[24]}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.data=t[24]),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function yh(t){let e,n,r;function o(e){t[15](e)}let i={};return void 0!==t[0]&&(i.data=t[0]),e=new ah({props:i}),et.push((()=>jt(e,"data",o))),{c(){Nt(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const o={};!n&&1&r&&(n=!0,o.data=t[0],at((()=>n=!1))),e.$set(o)},i(t){r||(wt(e.$$.fragment,t),r=!0)},o(t){$t(e.$$.fragment,t),r=!1},d(t){Ot(e,t)}}}function wh(t){let e;const n=t[14].default,r=c(n,t,t[16],null),o=r||function(t){let e,n,r=t[0]&&ph(t);return{c(){r&&r.c(),e=N()},m(t,o){r&&r.m(t,o),k(t,e,o),n=!0},p(t,n){t[0]?r?(r.p(t,n),1&n&&wt(r,1)):(r=ph(t),r.c(),wt(r,1),r.m(e.parentNode,e)):r&&(vt(),$t(r,1,1,(()=>{r=null})),yt())},i(t){n||(wt(r),n=!0)},o(t){$t(r),n=!1},d(t){r&&r.d(t),t&&C(e)}}}(t);return{c(){o&&o.c()},m(t,n){o&&o.m(t,n),e=!0},p(t,i){r?r.p&&(!e||65536&i)&&h(r,n,t,t[16],e?i:-1,null,null):o&&o.p&&(!e||1&i)&&o.p(t,e?i:-1)},i(t){e||(wt(o,t),e=!0)},o(t){$t(o,t),e=!1},d(t){o&&o.d(t)}}}function $h(t){let e,n;return e=new ch({props:{label:t[6],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[2],flip:t[5],inverse:t[3],pulse:t[4],class:t[1],$$slots:{default:[wh]},$$scope:{ctx:t}}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,[n]){const r={};64&n&&(r.label=t[6]),128&n&&(r.width=t[7]),256&n&&(r.height=t[8]),1024&n&&(r.box=t[10]),512&n&&(r.style=t[9]),4&n&&(r.spin=t[2]),32&n&&(r.flip=t[5]),8&n&&(r.inverse=t[3]),16&n&&(r.pulse=t[4]),2&n&&(r.class=t[1]),65537&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function _h(t,e,n){let r,o,i,l,{$$slots:a={},$$scope:s}=e,{class:u=""}=e,{data:c}=e,{scale:f=1}=e,{spin:h=!1}=e,{inverse:p=!1}=e,{pulse:d=!1}=e,{flip:m=null}=e,{label:g=null}=e,{self:v=null}=e,{style:y=null}=e;function w(){let t=1;return void 0!==f&&(t=Number(f)),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*t}function $(){return v?Math.max(v.width,v.height)/16:1}return t.$$set=t=>{"class"in t&&n(1,u=t.class),"data"in t&&n(11,c=t.data),"scale"in t&&n(12,f=t.scale),"spin"in t&&n(2,h=t.spin),"inverse"in t&&n(3,p=t.inverse),"pulse"in t&&n(4,d=t.pulse),"flip"in t&&n(5,m=t.flip),"label"in t&&n(6,g=t.label),"self"in t&&n(0,v=t.self),"style"in t&&n(13,y=t.style),"$$scope"in t&&n(16,s=t.$$scope)},t.$$.update=()=>{14336&t.$$.dirty&&(!function(){if(void 0===c)return;const t=function(t){if("iconName"in t&&"icon"in t){let e={},n=t.icon,r=t.iconName,o={width:n[0],height:n[1],paths:[{d:n[4]}]};return e[r]=o,e}return t}(c),[e]=Object.keys(t),r=t[e];r.paths||(r.paths=[]),r.d&&r.paths.push({d:r.d}),r.polygons||(r.polygons=[]),r.points&&r.polygons.push({points:r.points}),n(0,v=r)}(),n(7,r=v?v.width/$()*w():0),n(8,o=v?v.height/$()*w():0),n(9,i=function(){let t="";null!==y&&(t+=y);let e=w();if(1===e){if(0===t.length)return;return t}return""===t||t.endsWith(";")||(t+="; "),`${t}font-size: ${e}em`}()),n(10,l=v?`0 0 ${v.width} ${v.height}`:`0 0 ${r} ${o}`))},[v,u,h,p,d,m,g,r,o,i,l,c,f,y,a,function(t){v=t,n(0,v)},s]}class bh extends Bt{constructor(t){super(),Tt(this,t,_h,$h,a,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}const xh={plus:{width:448,height:448,d:"M416,176L272,176L272,32C272,14.33 257.67,0 240,0L208,0C190.33,0 176,14.33 176,32L176,176L32,176C14.33,176 0,190.33 0,208L0,240C0,257.67 14.33,272 32,272L176,272L176,416C176,433.67 190.33,448 208,448L240,448C257.67,448 272,433.67 272,416L272,272L416,272C433.67,272 448,257.67 448,240L448,208C448,190.33 433.67,176 416,176Z"}},kh={minus:{width:448,height:448,d:"M416,176L32,176C14.33,176 0,190.33 0,208L0,240C0,257.67 14.33,272 32,272L416,272C433.67,272 448,257.67 448,240L448,208C448,190.33 433.67,176 416,176Z"}},Ch={expand:{width:448,height:448,d:"M0,148L0,24C0,10.7 10.7,0 24,0L148,0C154.6,0 160,5.4 160,12L160,52C160,58.6 154.6,64 148,64L64,64L64,148C64,154.6 58.6,160 52,160L12,160C5.4,160 0,154.6 0,148ZM288,12L288,52C288,58.6 293.4,64 300,64L384,64L384,148C384,154.6 389.4,160 396,160L436,160C442.6,160 448,154.6 448,148L448,24C448,10.7 437.3,0 424,0L300,0C293.4,0 288,5.4 288,12ZM436,288L396,288C389.4,288 384,293.4 384,300L384,384L300,384C293.4,384 288,389.4 288,396L288,436C288,442.6 293.4,448 300,448L424,448C437.3,448 448,437.3 448,424L448,300C448,293.4 442.6,288 436,288ZM160,436L160,396C160,389.4 154.6,384 148,384L64,384L64,300C64,293.4 58.6,288 52,288L12,288C5.4,288 0,293.4 0,300L0,424C0,437.3 10.7,448 24,448L148,448C154.6,448 160,442.6 160,436Z"}},Mh={questionMark:{width:16,height:16,d:"m 8.93,6.588 -2.29,0.287 -0.082,0.38 0.45,0.083 c 0.294,0.07 0.352,0.176 0.288,0.469 l -0.738,3.468 c -0.194,0.897 0.105,1.319 0.808,1.319 0.545,0 1.178,-0.252 1.465,-0.598 L 8.919,11.58 c -0.2,0.176 -0.492,0.246 -0.686,0.246 -0.275,0 -0.375,-0.193 -0.304,-0.533 z M 9,4.5 a 1,1 0 1 1 -2,0 1,1 0 0 1 2,0 z M 8,15 A 7,7 0 1 1 8,1 7,7 0 0 1 8,15 Z m 0,1 A 8,8 0 1 0 8,0 8,8 0 0 0 8,16 Z"}},Sh={shift:{width:512,height:512,d:"M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm292 116V256h70.9c10.7 0 16.1-13 8.5-20.5L264.5 121.2c-4.7-4.7-12.2-4.7-16.9 0l-115 114.3c-7.6 7.6-2.2 20.5 8.5 20.5H212v116c0 6.6 5.4 12 12 12h64c6.6 0 12-5.4 12-12z"}},Eh={twitter:{width:512,height:512,d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}},Ah={copy:{width:448,height:512,d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}};function jh(t){let e,n,r;return n=new bh({props:{data:t[0]?kh:xh,scale:"0.5"}}),{c(){e=S("span"),Nt(n.$$.fragment),z(e,"class","svelte-egxci5")},m(t,o){k(t,e,o),Rt(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.data=t[0]?kh:xh),n.$set(r)},i(t){r||(wt(n.$$.fragment,t),r=!0)},o(t){$t(n.$$.fragment,t),r=!1},d(t){t&&C(e),Ot(n)}}}function Nh(t){let e,n,r,o,i,l,a=t[2]&&jh(t);return{c(){e=S("button"),n=A(t[1]),r=j(),a&&a.c(),z(e,"class","filter-title pt-2 svelte-egxci5"),D(e,"expandable",t[2])},m(s,u){k(s,e,u),x(e,n),x(e,r),a&&a.m(e,null),o=!0,i||(l=R(e,"click",t[3]),i=!0)},p(t,[r]){(!o||2&r)&&B(n,t[1]),t[2]?a?(a.p(t,r),4&r&&wt(a,1)):(a=jh(t),a.c(),wt(a,1),a.m(e,null)):a&&(vt(),$t(a,1,1,(()=>{a=null})),yt()),4&r&&D(e,"expandable",t[2])},i(t){o||(wt(a),o=!0)},o(t){$t(a),o=!1},d(t){t&&C(e),a&&a.d(),i=!1,l()}}}function Rh(t,e,n){let{label:r=""}=e,{expandable:o=!1}=e,{expanded:i=!1}=e;return t.$$set=t=>{"label"in t&&n(1,r=t.label),"expandable"in t&&n(2,o=t.expandable),"expanded"in t&&n(0,i=t.expanded)},[i,r,o,()=>n(0,i=!i)]}class Oh extends Bt{constructor(t){super(),Tt(this,t,Rh,Nh,a,{label:1,expandable:2,expanded:0})}}function zh(t){let e;return{c(){e=S("div"),e.innerHTML='<img src="./img/logo-smaller.png" alt="Logo of the Atlantic Council GeoEconomics Center" class="svelte-bvvu63"/>',z(e,"class","logo svelte-bvvu63")},m(t,n){k(t,e,n)},d(t){t&&C(e)}}}function Th(e){let n,r=!e[0]&&zh();return{c(){r&&r.c(),n=N()},m(t,e){r&&r.m(t,e),k(t,n,e)},p(t,[e]){t[0]?r&&(r.d(1),r=null):r||(r=zh(),r.c(),r.m(n.parentNode,n))},i:t,o:t,d(t){r&&r.d(t),t&&C(n)}}}function Bh(t,e,n){let r;return u(t,Ut,(t=>n(0,r=t))),[r]}class Lh extends Bt{constructor(t){super(),Tt(this,t,Bh,Th,a,{})}}const Ph=(t,e)=>{function n(n){t.contains(n.target)||e()}return document.body.addEventListener("click",n),{update(t){e=t},destroy(){document.body.removeEventListener("click",n)}}},Fh=t=>{t.focus()};function Hh(e){let n,r,o;return{c(){n=S("button"),n.innerHTML='<span class="svelte-ke7hrq">+</span>',z(n,"class","chip-icon svelte-ke7hrq")},m(t,i){k(t,n,i),r||(o=R(n,"click",e[2]),r=!0)},p:t,d(t){t&&C(n),r=!1,o()}}}function Dh(e){let n,r,o,i,l=e[1]&&Hh(e);return{c(){n=S("span"),r=S("span"),o=A(e[0]),i=j(),l&&l.c(),z(r,"class","chip-name"),z(n,"class","chip-wrapper svelte-ke7hrq")},m(t,e){k(t,n,e),x(n,r),x(r,o),x(n,i),l&&l.m(n,null)},p(t,[e]){1&e&&B(o,t[0]),t[1]?l?l.p(t,e):(l=Hh(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&C(n),l&&l.d()}}}function Ih(t,e,n){let{id:r}=e,{name:o=""}=e,{hasCloseButton:i=!0}=e;const l=Q();return t.$$set=t=>{"id"in t&&n(3,r=t.id),"name"in t&&n(0,o=t.name),"hasCloseButton"in t&&n(1,i=t.hasCloseButton)},[o,i,function(){l("close",{id:r})},r]}class qh extends Bt{constructor(t){super(),Tt(this,t,Ih,Dh,a,{id:3,name:0,hasCloseButton:1})}}function Uh(t,e,n){const r=t.slice();return r[4]=e[n].name,r[5]=e[n].percent,r[6]=e[n].color,r}function Wh(t){let e,n=[],r=new Map,o=t[1];const i=t=>t[4];for(let e=0;e<o.length;e+=1){let l=Uh(t,o,e),a=i(l);r.set(a,n[e]=Yh(a,l))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=N()},m(t,r){for(let e=0;e<n.length;e+=1)n[e].m(t,r);k(t,e,r)},p(t,l){2&l&&(o=t[1],n=Et(n,l,i,1,t,o,r,e.parentNode,Mt,Yh,e,Uh))},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&C(e)}}}function Yh(t,e){let n;return{key:t,first:null,c(){n=S("span"),z(n,"class","bar svelte-1vz1jdp"),P(n,"width",e[5]+"%"),P(n,"background-color",e[6]),this.first=n},m(t,e){k(t,n,e)},p(t,r){e=t,2&r&&P(n,"width",e[5]+"%"),2&r&&P(n,"background-color",e[6])},d(t){t&&C(n)}}}function Gh(e){let n,r=!e[0]&&Wh(e);return{c(){n=S("div"),r&&r.c(),z(n,"class","bar-chart svelte-1vz1jdp")},m(t,e){k(t,n,e),r&&r.m(n,null)},p(t,[e]){t[0]?r&&(r.d(1),r=null):r?r.p(t,e):(r=Wh(t),r.c(),r.m(n,null))},i:t,o:t,d(t){t&&C(n),r&&r.d()}}}function Xh(t,e,n){let r,{rollup:o=[]}=e,{fullRollup:i=[]}=e,{dummy:l=!1}=e;return t.$$set=t=>{"rollup"in t&&n(2,o=t.rollup),"fullRollup"in t&&n(3,i=t.fullRollup),"dummy"in t&&n(0,l=t.dummy)},t.$$.update=()=>{12&t.$$.dirty&&n(1,r=i.map((t=>{const{percent:e=0}=o.find((e=>e.name===t.name))||{};return{...t,percent:e}})))},[l,r,o,i]}class Vh extends Bt{constructor(t){super(),Tt(this,t,Xh,Gh,a,{rollup:2,fullRollup:3,dummy:0})}}function Kh(t){let e,n,r=t[2].n+"";return{c(){e=S("span"),n=A(r),z(e,"class","number svelte-1t958y5")},m(t,r){k(t,e,r),x(e,n)},p(t,e){4&e&&r!==(r=t[2].n+"")&&B(n,r)},d(t){t&&C(e)}}}function Zh(e){let n,r,o,l,a,s,u,c,f=e[2]&&Kh(e);return{c(){n=S("li"),r=S("span"),o=j(),l=S("span"),a=A(e[0]),s=j(),f&&f.c(),z(r,"class","color svelte-1t958y5"),P(r,"background-color",e[1]?e[1].color:"transparent"),P(r,"width",e[6]?Qh:"0px"),z(l,"class","name svelte-1t958y5"),z(n,"class","svelte-1t958y5"),D(n,"active",e[4]),D(n,"selected",e[5]),D(n,"inactive",!e[2]),D(n,"bold",e[3])},m(t,i){k(t,n,i),x(n,r),x(n,o),x(n,l),x(l,a),x(n,s),f&&f.m(n,null),u||(c=[R(n,"mouseenter",e[7]),R(n,"mouseleave",e[8]),R(n,"click",e[9]),p(Ft.call(null,n,{colorBoxWidth:Qh}))],u=!0)},p(t,[e]){2&e&&P(r,"background-color",t[1]?t[1].color:"transparent"),64&e&&P(r,"width",t[6]?Qh:"0px"),1&e&&B(a,t[0]),t[2]?f?f.p(t,e):(f=Kh(t),f.c(),f.m(n,null)):f&&(f.d(1),f=null),16&e&&D(n,"active",t[4]),32&e&&D(n,"selected",t[5]),4&e&&D(n,"inactive",!t[2]),8&e&&D(n,"bold",t[3])},i:t,o:t,d(t){t&&C(n),f&&f.d(),u=!1,i(c)}}}const Qh="12px";function Jh(t,e,n){let{name:r=""}=e,{fullRollup:o}=e,{rollup:i}=e,{bold:l=!1}=e,{isActive:a=!1}=e,{isSelected:s=!1}=e,{showColorBox:u=!0}=e;return t.$$set=t=>{"name"in t&&n(0,r=t.name),"fullRollup"in t&&n(1,o=t.fullRollup),"rollup"in t&&n(2,i=t.rollup),"bold"in t&&n(3,l=t.bold),"isActive"in t&&n(4,a=t.isActive),"isSelected"in t&&n(5,s=t.isSelected),"showColorBox"in t&&n(6,u=t.showColorBox)},[r,o,i,l,a,s,u,function(e){J.call(this,t,e)},function(e){J.call(this,t,e)},function(e){J.call(this,t,e)}]}class tp extends Bt{constructor(t){super(),Tt(this,t,Jh,Zh,a,{name:0,fullRollup:1,rollup:2,bold:3,isActive:4,isSelected:5,showColorBox:6})}}function ep(t,e,n){const r=t.slice();return r[16]=e[n].id,r[37]=e[n].name,r[38]=e[n].type,r[40]=n,r}function np(t,e,n){const r=t.slice();return r[16]=e[n].id,r[37]=e[n].name,r}function rp(e){let n,r,o,l,a;return r=new bh({props:{data:Mh}}),{c(){n=S("button"),Nt(r.$$.fragment),z(n,"class","info svelte-5zrfl")},m(t,i){k(t,n,i),Rt(r,n,null),e[25](n),o=!0,l||(a=[R(n,"mouseenter",e[26]),R(n,"mouseleave",e[27])],l=!0)},p:t,i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r),e[25](null),l=!1,i(a)}}}function op(e){let n,r,o;return{c(){n=S("button"),n.innerHTML='<span>Reset</span> \n        <span class="reset svelte-5zrfl">+</span>',z(n,"class","svelte-5zrfl")},m(t,i){k(t,n,i),r||(o=R(n,"click",e[18]),r=!0)},p:t,d(t){t&&C(n),r=!1,o()}}}function ip(t){let e,n;return{c(){e=S("span"),n=A(t[8]),z(e,"class","click-hint svelte-5zrfl")},m(t,r){k(t,e,r),x(e,n)},p(t,e){256&e[0]&&B(n,t[8])},d(t){t&&C(e)}}}function lp(t,e){let n,r,o,i;return r=new qh({props:{id:e[16],name:e[37]}}),r.$on("close",(function(){return e[28](e[16])})),{key:t,first:null,c(){n=S("li"),Nt(r.$$.fragment),o=j(),z(n,"class","svelte-5zrfl"),this.first=n},m(t,e){k(t,n,e),Rt(r,n,null),x(n,o),i=!0},p(t,n){e=t;const o={};8192&n[0]&&(o.id=e[16]),8192&n[0]&&(o.name=e[37]),r.$set(o)},i(t){i||(wt(r.$$.fragment,t),i=!0)},o(t){$t(r.$$.fragment,t),i=!1},d(t){t&&C(n),Ot(r)}}}function ap(t){let e,n,r,o,l,a,s,u,c=[],f=new Map,h=t[15];const d=t=>t[16];for(let e=0;e<h.length;e+=1){let n=ep(t,h,e),r=d(n);f.set(r,c[e]=sp(r,n))}return{c(){e=S("div"),n=S("input"),o=j(),l=S("ul");for(let t=0;t<c.length;t+=1)c[t].c();z(n,"id",t[16]),z(n,"type","text"),z(n,"placeholder","Search..."),z(n,"autocomplete","off"),z(n,"spellcheck","off"),z(n,"class","svelte-5zrfl"),z(l,"class","suggestions svelte-5zrfl"),z(e,"class","suggestions svelte-5zrfl")},m(i,f){k(i,e,f),x(e,n),L(n,t[9]),x(e,o),x(e,l);for(let t=0;t<c.length;t+=1)c[t].m(l,null);a=!0,s||(u=[R(n,"input",t[30]),R(n,"focus",t[19]),R(n,"click",O(t[24])),p(r=Fh.call(null,n))],s=!0)},p(t,e){(!a||65536&e[0])&&z(n,"id",t[16]),512&e[0]&&n.value!==t[9]&&L(n,t[9]),4230284&e[0]&&(h=t[15],vt(),c=Et(c,e,d,1,t,h,f,l,St,sp,null,ep),yt())},i(t){if(!a){for(let t=0;t<h.length;t+=1)wt(c[t]);a=!0}},o(t){for(let t=0;t<c.length;t+=1)$t(c[t]);a=!1},d(t){t&&C(e);for(let t=0;t<c.length;t+=1)c[t].d();s=!1,i(u)}}}function sp(t,e){let n,r,o;function i(...t){return e[31](e[37],...t)}function l(...t){return e[32](e[37],...t)}return r=new tp({props:{name:e[37],fullRollup:e[2].find(i),rollup:e[3].find(l),bold:e[38]&&"shortcut"===e[38],isActive:e[11]===e[40],isSelected:!nc(e[10])&&ec([e[16]],e[10]),showColorBox:!e[7]}}),r.$on("mouseenter",(function(){return e[33](e[40])})),r.$on("mouseleave",e[34]),r.$on("click",(function(){return e[35](e[16],e[38])})),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};32768&n[0]&&(o.name=e[37]),32772&n[0]&&(o.fullRollup=e[2].find(i)),32776&n[0]&&(o.rollup=e[3].find(l)),32768&n[0]&&(o.bold=e[38]&&"shortcut"===e[38]),34816&n[0]&&(o.isActive=e[11]===e[40]),33792&n[0]&&(o.isSelected=!nc(e[10])&&ec([e[16]],e[10])),128&n[0]&&(o.showColorBox=!e[7]),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function up(t){let e,n,r,o,l,a,s,u,c,f,h,d,m,g,v,y,w=[],$=new Map,_=t[4]&&rp(t),b=t[6]&&t[13].length&&op(t),M=t[8]&&!t[13].length&&ip(t),E=t[13];const N=t=>t[16];for(let e=0;e<E.length;e+=1){let n=np(t,E,e),r=N(n);$.set(r,w[e]=lp(r,n))}d=new Vh({props:{rollup:t[3],fullRollup:t[2],dummy:!t[3].length||!t[2].length}});let O=t[12]&&ap(t);return{c(){e=S("div"),n=S("label"),r=S("span"),o=A(t[1]),l=j(),_&&_.c(),a=j(),b&&b.c(),s=j(),u=S("div"),M&&M.c(),c=j(),f=S("ul");for(let t=0;t<w.length;t+=1)w[t].c();h=j(),Nt(d.$$.fragment),m=j(),O&&O.c(),z(r,"class","title svelte-5zrfl"),z(n,"for",t[16]),z(n,"class","svelte-5zrfl"),D(n,"active",t[12]),z(f,"class","chips svelte-5zrfl"),z(u,"class","field svelte-5zrfl"),z(e,"class","dropdown svelte-5zrfl")},m(i,$){k(i,e,$),x(e,n),x(n,r),x(r,o),x(r,l),_&&_.m(r,null),x(n,a),b&&b.m(n,null),x(e,s),x(e,u),M&&M.m(u,null),x(u,c),x(u,f);for(let t=0;t<w.length;t+=1)w[t].m(f,null);x(e,h),Rt(d,e,null),x(e,m),O&&O.m(e,null),g=!0,v||(y=[R(window,"keydown",t[21]),R(u,"click",t[29]),p(Ph.call(null,u,t[20]))],v=!0)},p(t,i){(!g||2&i[0])&&B(o,t[1]),t[4]?_?(_.p(t,i),16&i[0]&&wt(_,1)):(_=rp(t),_.c(),wt(_,1),_.m(r,null)):_&&(vt(),$t(_,1,1,(()=>{_=null})),yt()),t[6]&&t[13].length?b?b.p(t,i):(b=op(t),b.c(),b.m(n,null)):b&&(b.d(1),b=null),(!g||65536&i[0])&&z(n,"for",t[16]),4096&i[0]&&D(n,"active",t[12]),t[8]&&!t[13].length?M?M.p(t,i):(M=ip(t),M.c(),M.m(u,c)):M&&(M.d(1),M=null),4202496&i[0]&&(E=t[13],vt(),w=Et(w,i,N,1,t,E,$,f,St,lp,null,np),yt());const l={};8&i[0]&&(l.rollup=t[3]),4&i[0]&&(l.fullRollup=t[2]),12&i[0]&&(l.dummy=!t[3].length||!t[2].length),d.$set(l),t[12]?O?(O.p(t,i),4096&i[0]&&wt(O,1)):(O=ap(t),O.c(),wt(O,1),O.m(e,null)):O&&(vt(),$t(O,1,1,(()=>{O=null})),yt())},i(t){if(!g){wt(_);for(let t=0;t<E.length;t+=1)wt(w[t]);wt(d.$$.fragment,t),wt(O),g=!0}},o(t){$t(_);for(let t=0;t<w.length;t+=1)$t(w[t]);$t(d.$$.fragment,t),$t(O),g=!1},d(t){t&&C(e),_&&_.d(),b&&b.d(),M&&M.d();for(let t=0;t<w.length;t+=1)w[t].d();Ot(d),O&&O.d(),v=!1,i(y)}}}function cp(e,n,r){let o,i,l,a,u=t,c=()=>(u(),u=s(w,(t=>r(36,l=t))),w),f=t,h=()=>(f(),f=s(p,(t=>r(10,a=t))),p);e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>f()));let{filter:p}=n;h();let{label:d=""}=n,{shortCuts:m=[]}=n,{fullRollup:g=[]}=n,{rollup:v=[]}=n,{info:y=null}=n,{tooltip:w=null}=n;c();let $,{showReset:_=!1}=n,{hideColorBoxes:b=!1}=n,{showClickHint:x=!1}=n,k="",C=null,M=!1,S=[];function E(t){if(y&&$)if(!t||l)w.set(null);else{const{x:t,y:e,width:n,height:r}=(t=>{const e=t.getBoundingClientRect(),{width:n,height:r}=e,o=document.body,i=document.documentElement,l=window.pageYOffset||i.scrollTop||o.scrollTop,a=window.pageXOffset||i.scrollLeft||o.scrollLeft,s=i.clientTop||o.clientTop||0,u=i.clientLeft||o.clientLeft||0,c=e.top+l-s,f=e.left+a-u;return{y:Math.round(c),x:Math.round(f),width:n,height:r}})($);w.set({info:y,x:t+n/2,y:e+r})}}function A(t,e){if("shortcut"===e){const{items:e}=m.find((e=>e.id===t))||{};p.unselectAll(),p.select(e)}else p.click(t);r(12,M=!1)}return e.$$set=t=>{"filter"in t&&h(r(0,p=t.filter)),"label"in t&&r(1,d=t.label),"shortCuts"in t&&r(23,m=t.shortCuts),"fullRollup"in t&&r(2,g=t.fullRollup),"rollup"in t&&r(3,v=t.rollup),"info"in t&&r(4,y=t.info),"tooltip"in t&&c(r(5,w=t.tooltip)),"showReset"in t&&r(6,_=t.showReset),"hideColorBoxes"in t&&r(7,b=t.hideColorBoxes),"showClickHint"in t&&r(8,x=t.showClickHint)},e.$$.update=()=>{if(2&e.$$.dirty[0]&&r(16,o=`dropdown_${d.toLowerCase()}`),1024&e.$$.dirty[0]){let t=a.filter((t=>t.selected));t.length===a.length&&(t=[]),r(13,S=t)}8390144&e.$$.dirty[0]&&r(15,i=[...m.map((t=>({...t,type:"shortcut"}))),...a].filter((t=>{if(!k)return!0;return new RegExp(k,"gi").test(t.name)})))},[p,d,g,v,y,w,_,b,x,k,a,C,M,S,$,i,o,E,function(){p.selectAll()},function(){r(11,C=0),r(12,M=!0)},function(){r(12,M=!1),r(9,k="")},function(t){if(27===t.keyCode&&(r(9,k=""),r(12,M=!1)),M){if(null!==C&&13===t.keyCode){const t=i[C];A(t.id,t.type)}38===t.keyCode?r(11,C=Math.max(C-1,0)):40===t.keyCode&&r(11,C=Math.min(C+1,i.length-1))}},A,m,function(t){J.call(this,e,t)},function(t){et[t?"unshift":"push"]((()=>{$=t,r(14,$)}))},()=>E(!0),()=>E(!1),t=>A(t),()=>r(12,M=!0),function(){k=this.value,r(9,k)},(t,e)=>e.name===t,(t,e)=>e.name===t,t=>r(11,C=t),()=>r(11,C=null),(t,e)=>A(t,e)]}class fp extends Bt{constructor(t){super(),Tt(this,t,cp,up,a,{filter:0,label:1,shortCuts:23,fullRollup:2,rollup:3,info:4,tooltip:5,showReset:6,hideColorBoxes:7,showClickHint:8},[-1,-1])}}function hp(t,e,n){const r=t.slice();return r[27]=e[n].id,r[28]=e[n].filter,r[29]=e[n].label,r[30]=e[n].fullRollup,r[31]=e[n].rollup,r[32]=e[n].info,r}function pp(t,e,n){const r=t.slice();return r[27]=e[n].id,r[28]=e[n].filter,r[29]=e[n].label,r[30]=e[n].fullRollup,r[31]=e[n].rollup,r[32]=e[n].info,r}function dp(t,e,n){const r=t.slice();return r[27]=e[n].id,r[28]=e[n].filter,r[29]=e[n].label,r[30]=e[n].fullRollup,r[31]=e[n].rollup,r[32]=e[n].info,r}function mp(t,e,n){const r=t.slice();return r[27]=e[n].id,r[28]=e[n].filter,r[29]=e[n].label,r[30]=e[n].fullRollup,r[31]=e[n].rollup,r[32]=e[n].info,r[39]=e[n].shortCuts,r}function gp(t,e){let n,r,o;return r=new fp({props:{filter:e[28],label:e[29],shortCuts:e[39],fullRollup:e[30],rollup:e[31],info:e[32],tooltip:Ec,showReset:!0,showClickHint:(e[0]?"Tap":"Click")+" to filter"}}),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};2&n[0]&&(o.filter=e[28]),2&n[0]&&(o.label=e[29]),2&n[0]&&(o.shortCuts=e[39]),2&n[0]&&(o.fullRollup=e[30]),2&n[0]&&(o.rollup=e[31]),2&n[0]&&(o.info=e[32]),1&n[0]&&(o.showClickHint=(e[0]?"Tap":"Click")+" to filter"),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function vp(t){let e,n,r,o=[],i=new Map,l=t[5];const a=t=>t[27];for(let e=0;e<l.length;e+=1){let n=dp(t,l,e),r=a(n);i.set(r,o[e]=yp(r,n))}return{c(){e=S("div");for(let t=0;t<o.length;t+=1)o[t].c();z(e,"class","extra grid-container svelte-528cf5")},m(t,n){k(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null);r=!0},p(t,n){33&n[0]&&(l=t[5],vt(),o=Et(o,n,a,1,t,l,i,e,St,yp,null,dp),yt())},i(t){if(!r){for(let t=0;t<l.length;t+=1)wt(o[t]);lt((()=>{n||(n=kt(e,Zf,{},!0)),n.run(1)})),r=!0}},o(t){for(let t=0;t<o.length;t+=1)$t(o[t]);n||(n=kt(e,Zf,{},!1)),n.run(0),r=!1},d(t){t&&C(e);for(let t=0;t<o.length;t+=1)o[t].d();t&&n&&n.end()}}}function yp(t,e){let n,r,o;return r=new fp({props:{filter:e[28],label:e[29],fullRollup:e[30],rollup:e[31],info:e[32],tooltip:Ec,showReset:!0,showClickHint:(e[0]?"Tap":"Click")+" to filter"}}),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};32&n[0]&&(o.filter=e[28]),32&n[0]&&(o.label=e[29]),32&n[0]&&(o.fullRollup=e[30]),32&n[0]&&(o.rollup=e[31]),32&n[0]&&(o.info=e[32]),1&n[0]&&(o.showClickHint=(e[0]?"Tap":"Click")+" to filter"),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function wp(t){let e,n,r;function o(e){t[25](e)}let i={label:"Additional filters",expandable:!0};return void 0!==t[3]&&(i.expanded=t[3]),e=new Oh({props:i}),et.push((()=>jt(e,"expanded",o))),{c(){Nt(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const o={};!n&&8&r[0]&&(n=!0,o.expanded=t[3],at((()=>n=!1))),e.$set(o)},i(t){r||(wt(e.$$.fragment,t),r=!0)},o(t){$t(e.$$.fragment,t),r=!1},d(t){Ot(e,t)}}}function $p(t){let e,n,r,o=[],i=new Map,l=t[6];const a=t=>t[27];for(let e=0;e<l.length;e+=1){let n=pp(t,l,e),r=a(n);i.set(r,o[e]=_p(r,n))}return{c(){e=S("div");for(let t=0;t<o.length;t+=1)o[t].c();z(e,"class","extra grid-container svelte-528cf5")},m(t,n){k(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null);r=!0},p(t,n){65&n[0]&&(l=t[6],vt(),o=Et(o,n,a,1,t,l,i,e,St,_p,null,pp),yt())},i(t){if(!r){for(let t=0;t<l.length;t+=1)wt(o[t]);lt((()=>{n||(n=kt(e,Zf,{},!0)),n.run(1)})),r=!0}},o(t){for(let t=0;t<o.length;t+=1)$t(o[t]);n||(n=kt(e,Zf,{},!1)),n.run(0),r=!1},d(t){t&&C(e);for(let t=0;t<o.length;t+=1)o[t].d();t&&n&&n.end()}}}function _p(t,e){let n,r,o;return r=new fp({props:{filter:e[28],label:e[29],fullRollup:e[30],rollup:e[31],info:e[32],tooltip:Ec,showReset:!0,showClickHint:(e[0]?"Tap":"Click")+" to filter"}}),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};64&n[0]&&(o.filter=e[28]),64&n[0]&&(o.label=e[29]),64&n[0]&&(o.fullRollup=e[30]),64&n[0]&&(o.rollup=e[31]),64&n[0]&&(o.info=e[32]),1&n[0]&&(o.showClickHint=(e[0]?"Tap":"Click")+" to filter"),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function bp(t){let e,n,r;function o(e){t[26](e)}let i={label:"Additional filters",expandable:!0};return void 0!==t[4]&&(i.expanded=t[4]),e=new Oh({props:i}),et.push((()=>jt(e,"expanded",o))),{c(){Nt(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const o={};!n&&16&r[0]&&(n=!0,o.expanded=t[4],at((()=>n=!1))),e.$set(o)},i(t){r||(wt(e.$$.fragment,t),r=!0)},o(t){$t(e.$$.fragment,t),r=!1},d(t){Ot(e,t)}}}function xp(t){let e,n,r,o=[],i=new Map,l=t[7];const a=t=>t[27];for(let e=0;e<l.length;e+=1){let n=hp(t,l,e),r=a(n);i.set(r,o[e]=kp(r,n))}return{c(){e=S("div");for(let t=0;t<o.length;t+=1)o[t].c();z(e,"class","extra grid-container svelte-528cf5")},m(t,n){k(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null);r=!0},p(t,n){129&n[0]&&(l=t[7],vt(),o=Et(o,n,a,1,t,l,i,e,St,kp,null,hp),yt())},i(t){if(!r){for(let t=0;t<l.length;t+=1)wt(o[t]);lt((()=>{n||(n=kt(e,Zf,{},!0)),n.run(1)})),r=!0}},o(t){for(let t=0;t<o.length;t+=1)$t(o[t]);n||(n=kt(e,Zf,{},!1)),n.run(0),r=!1},d(t){t&&C(e);for(let t=0;t<o.length;t+=1)o[t].d();t&&n&&n.end()}}}function kp(t,e){let n,r,o;return r=new fp({props:{filter:e[28],label:e[29],fullRollup:e[30],rollup:e[31],info:e[32],tooltip:Ec,showReset:!0,showClickHint:(e[0]?"Tap":"Click")+" to filter"}}),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};128&n[0]&&(o.filter=e[28]),128&n[0]&&(o.label=e[29]),128&n[0]&&(o.fullRollup=e[30]),128&n[0]&&(o.rollup=e[31]),128&n[0]&&(o.info=e[32]),1&n[0]&&(o.showClickHint=(e[0]?"Tap":"Click")+" to filter"),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function Cp(t){let e,n,r,o,i,a,s,u,c,f,h,d,m,g,v,y,w,$,_=[],b=new Map;n=new Oh({props:{label:"Filters"}});let M=t[1];const E=t=>t[27];for(let e=0;e<M.length;e+=1){let n=mp(t,M,e),r=E(n);b.set(r,_[e]=gp(r,n))}c=new Lh({});let A=t[2]&&vp(t),N=t[2]&&wp(t),R=t[3]&&$p(t),O=!t[2]&&bp(t),T=t[4]&&xp(t);return{c(){e=S("div"),Nt(n.$$.fragment),r=j(),o=S("div");for(let t=0;t<_.length;t+=1)_[t].c();i=j(),a=S("div"),s=j(),u=S("div"),Nt(c.$$.fragment),f=j(),A&&A.c(),h=j(),N&&N.c(),d=j(),R&&R.c(),m=j(),O&&O.c(),g=j(),T&&T.c(),z(a,"class","share-panel svelte-528cf5"),z(u,"class","logo svelte-528cf5"),z(o,"class","standard grid-container svelte-528cf5"),z(e,"class","filter-bar svelte-528cf5")},m(l,b){k(l,e,b),Rt(n,e,null),x(e,r),x(e,o);for(let t=0;t<_.length;t+=1)_[t].m(o,null);x(o,i),x(o,a),x(o,s),x(o,u),Rt(c,u,null),x(e,f),A&&A.m(e,null),x(e,h),N&&N.m(e,null),x(e,d),R&&R.m(e,null),x(e,m),O&&O.m(e,null),x(e,g),T&&T.m(e,null),y=!0,w||($=p(v=Ft.call(null,e,{maxColumns:t[8],halfMaxColumns:Math.ceil(t[8]/2)})),w=!0)},p(t,n){3&n[0]&&(M=t[1],vt(),_=Et(_,n,E,1,t,M,b,o,St,gp,i,mp),yt()),t[2]?A?(A.p(t,n),4&n[0]&&wt(A,1)):(A=vp(t),A.c(),wt(A,1),A.m(e,h)):A&&(vt(),$t(A,1,1,(()=>{A=null})),yt()),t[2]?N?(N.p(t,n),4&n[0]&&wt(N,1)):(N=wp(t),N.c(),wt(N,1),N.m(e,d)):N&&(vt(),$t(N,1,1,(()=>{N=null})),yt()),t[3]?R?(R.p(t,n),8&n[0]&&wt(R,1)):(R=$p(t),R.c(),wt(R,1),R.m(e,m)):R&&(vt(),$t(R,1,1,(()=>{R=null})),yt()),t[2]?O&&(vt(),$t(O,1,1,(()=>{O=null})),yt()):O?(O.p(t,n),4&n[0]&&wt(O,1)):(O=bp(t),O.c(),wt(O,1),O.m(e,g)),t[4]?T?(T.p(t,n),16&n[0]&&wt(T,1)):(T=xp(t),T.c(),wt(T,1),T.m(e,null)):T&&(vt(),$t(T,1,1,(()=>{T=null})),yt()),v&&l(v.update)&&256&n[0]&&v.update.call(null,{maxColumns:t[8],halfMaxColumns:Math.ceil(t[8]/2)})},i(t){if(!y){wt(n.$$.fragment,t);for(let t=0;t<M.length;t+=1)wt(_[t]);wt(c.$$.fragment,t),wt(A),wt(N),wt(R),wt(O),wt(T),y=!0}},o(t){$t(n.$$.fragment,t);for(let t=0;t<_.length;t+=1)$t(_[t]);$t(c.$$.fragment,t),$t(A),$t(N),$t(R),$t(O),$t(T),y=!1},d(t){t&&C(e),Ot(n);for(let t=0;t<_.length;t+=1)_[t].d();Ot(c),A&&A.d(),N&&N.d(),R&&R.d(),O&&O.d(),T&&T.d(),w=!1,$()}}}function Mp(t,e,n){let r,o,i,l,a,s,c,f,h,p,d,m,g,v,y,w,$,_,b,x,k,C,M,S,E;return u(t,Ut,(t=>n(0,h=t))),u(t,Nc,(t=>n(9,p=t))),u(t,Ef,(t=>n(10,d=t))),u(t,Bf,(t=>n(11,m=t))),u(t,Sc,(t=>n(12,g=t))),u(t,Af,(t=>n(13,v=t))),u(t,Lf,(t=>n(14,y=t))),u(t,jf,(t=>n(15,w=t))),u(t,Pf,(t=>n(16,$=t))),u(t,Nf,(t=>n(17,_=t))),u(t,Ff,(t=>n(18,b=t))),u(t,Rf,(t=>n(19,x=t))),u(t,Hf,(t=>n(20,k=t))),u(t,zf,(t=>n(21,C=t))),u(t,If,(t=>n(22,M=t))),u(t,Of,(t=>n(23,S=t))),u(t,Df,(t=>n(24,E=t))),t.$$.update=()=>{1&t.$$.dirty[0]&&n(2,r=!h),7680&t.$$.dirty[0]&&n(1,l=[{filter:pc,label:p.name,shortCuts:uf,fullRollup:[],rollup:[],info:null},{filter:hc,label:p.new_status,shortCuts:[],fullRollup:d,rollup:m,info:g.status}].map(((t,e)=>({...t,id:e})))),2093568&t.$$.dirty[0]&&n(5,a=[{filter:dc,label:p.use_case,shortCuts:[],fullRollup:v,rollup:y,info:g.use_case},{filter:gc,label:p.architecture,shortCuts:[],fullRollup:w,rollup:$,info:g.architecture},{filter:vc,label:p.infrastructure,shortCuts:[],fullRollup:_,rollup:b,info:g.infrastructure},{filter:yc,label:p.access,shortCuts:[],fullRollup:x,rollup:k,info:g.access}].map(((t,e)=>({...t,id:e})))),31461888&t.$$.dirty[0]&&n(6,s=[{filter:$c,label:p.crossborder_partnerships,shortCuts:[],fullRollup:C,rollup:M,info:g.crossborder_projets},{filter:wc,label:p.corporate_partnership,shortCuts:[],fullRollup:S,rollup:E,info:g.technology_partnerships}].map(((t,e)=>({...t,id:e})))),33550848&t.$$.dirty[0]&&n(7,c=[{filter:dc,label:p.use_case,shortCuts:[],fullRollup:v,rollup:y,info:g.use_case},{filter:gc,label:p.architecture,shortCuts:[],fullRollup:w,rollup:$,info:g.architecture},{filter:vc,label:p.infrastructure,shortCuts:[],fullRollup:_,rollup:b,info:g.infrastructure},{filter:yc,label:p.access,shortCuts:[],fullRollup:x,rollup:k,info:g.access},{filter:$c,label:p.crossborder_partnerships,shortCuts:[],fullRollup:C,rollup:M,info:g.crossborder_projets},{filter:wc,label:p.corporate_partnership,shortCuts:[],fullRollup:S,rollup:E,info:g.technology_partnerships}].map(((t,e)=>({...t,id:e})))),2&t.$$.dirty[0]&&n(8,f=Math.max(l.length,4))},n(3,o=!1),n(4,i=!1),[h,l,r,o,i,a,s,c,f,p,d,m,g,v,y,w,$,_,b,x,k,C,M,S,E,function(t){o=t,n(3,o)},function(t){i=t,n(4,i)}]}class Sp extends Bt{constructor(t){super(),Tt(this,t,Mp,Cp,a,{},[-1,-1])}}const Ep=(()=>{const{set:t,update:e,subscribe:n}=It([]);let r={};return{set:t,subscribe:n,add:t=>{e((e=>e.includes(t)?e:[...e,t])),clearTimeout(r[`id_${t}`])},remove:t=>{const n=setTimeout((()=>{e((e=>e.filter((e=>e!==t))))}),400);r={...r,[`id_${t}`]:n}}}})();function Ap(e){let n,r,o,l,a,s,u,c,f,h,p,d;return o=new bh({props:{data:Ch}}),s=new bh({props:{data:xh}}),f=new bh({props:{data:kh}}),{c(){n=S("div"),r=S("button"),Nt(o.$$.fragment),l=j(),a=S("button"),Nt(s.$$.fragment),u=j(),c=S("button"),Nt(f.$$.fragment),z(r,"class","svelte-ghepdl"),z(a,"class","svelte-ghepdl"),z(c,"class","svelte-ghepdl"),z(n,"class","navigation svelte-ghepdl")},m(t,i){k(t,n,i),x(n,r),Rt(o,r,null),x(n,l),x(n,a),Rt(s,a,null),x(n,u),x(n,c),Rt(f,c,null),h=!0,p||(d=[R(r,"click",e[0]),R(a,"click",e[1]),R(c,"click",e[2]),R(n,"mousedown",O(e[3]))],p=!0)},p:t,i(t){h||(wt(o.$$.fragment,t),wt(s.$$.fragment,t),wt(f.$$.fragment,t),h=!0)},o(t){$t(o.$$.fragment,t),$t(s.$$.fragment,t),$t(f.$$.fragment,t),h=!1},d(t){t&&C(n),Ot(o),Ot(s),Ot(f),p=!1,i(d)}}}function jp(t){const e=Q();return[function(){e("reset")},function(){e("plus")},function(){e("minus")},function(e){J.call(this,t,e)}]}class Np extends Bt{constructor(t){super(),Tt(this,t,jp,Ap,a,{})}}function Rp(e){let n,r,o,l,a,s;return{c(){n=S("div"),r=S("button"),r.textContent="Reset filters",z(r,"class","svelte-15xvum5"),z(n,"class","reset-filters svelte-15xvum5")},m(t,o){k(t,n,o),x(n,r),l=!0,a||(s=[R(r,"click",O(e[0])),R(n,"mousedown",O(e[1]))],a=!0)},p:t,i(t){l||(lt((()=>{o||(o=kt(n,Kf,{duration:200},!0)),o.run(1)})),l=!0)},o(t){o||(o=kt(n,Kf,{duration:200},!1)),o.run(0),l=!1},d(t){t&&C(n),t&&o&&o.end(),a=!1,i(s)}}}function Op(t){return[function(){bc()},function(e){J.call(this,t,e)}]}class zp extends Bt{constructor(t){super(),Tt(this,t,Op,Rp,a,{})}}function Tp(t,e,n){const r=t.slice();return r[13]=e[n].id,r[14]=e[n].name,r[15]=e[n].color,r[16]=e[n].n,r}function Bp(t,e){let n,r,o,i,l,a,s,u,c,f,h,p=(e[16]?e[16]:"")+"",d=e[14]+"";function m(){return e[12](e[13])}return{key:t,first:null,c(){n=S("li"),r=S("span"),o=j(),i=S("span"),l=A(p),a=j(),s=S("span"),u=A(d),c=j(),z(r,"class","color svelte-16pw9tn"),P(r,"background-color",e[15]),z(i,"class","number svelte-16pw9tn"),z(s,"class","name"),z(n,"class","svelte-16pw9tn"),D(n,"inactive",0===e[16]),this.first=n},m(t,e){k(t,n,e),x(n,r),x(n,o),x(n,i),x(i,l),x(n,a),x(n,s),x(s,u),x(n,c),f||(h=R(n,"click",O(m)),f=!0)},p(t,o){e=t,32&o&&P(r,"background-color",e[15]),32&o&&p!==(p=(e[16]?e[16]:"")+"")&&B(l,p),32&o&&d!==(d=e[14]+"")&&B(u,d),32&o&&D(n,"inactive",0===e[16])},d(t){t&&C(n),f=!1,h()}}}function Lp(t){let e,n,r,o,i,l,a,s,u,c,f,h,p,d,m,g,v,y,w,$,_=1===t[4]?"y":"ies",b=1===t[4]?"":"s",M=[],E=new Map;h=new fp({props:{filter:t[1],shortCuts:uf,hideColorBoxes:!0,showReset:!0,showClickHint:(t[6]?"Tap":"Click")+" to filter"}});let N=t[5];const T=t=>t[13];for(let e=0;e<N.length;e+=1){let n=Tp(t,N,e),r=T(n);E.set(r,M[e]=Bp(r,n))}return{c(){e=S("div"),n=S("div"),r=S("h5"),o=S("span"),i=A(t[4]),l=A(" Countr"),a=A(_),s=A(" / Currency Union"),u=A(b),c=A(" Tracked"),f=j(),Nt(h.$$.fragment),p=j(),d=S("div"),m=S("h5"),m.textContent="Status",g=j(),v=S("ul");for(let t=0;t<M.length;t+=1)M[t].c();z(o,"class","svelte-16pw9tn"),z(r,"class","total svelte-16pw9tn"),z(n,"class","countries svelte-16pw9tn"),z(m,"class","svelte-16pw9tn"),z(v,"class","svelte-16pw9tn"),z(d,"class","status svelte-16pw9tn"),z(e,"class","legend svelte-16pw9tn")},m(_,b){k(_,e,b),x(e,n),x(n,r),x(r,o),x(o,i),x(r,l),x(r,a),x(r,s),x(r,u),x(r,c),x(n,f),Rt(h,n,null),x(e,p),x(e,d),x(d,m),x(d,g),x(d,v);for(let t=0;t<M.length;t+=1)M[t].m(v,null);y=!0,w||($=R(e,"mousedown",O(t[11])),w=!0)},p(t,[e]){(!y||16&e)&&B(i,t[4]),(!y||16&e)&&_!==(_=1===t[4]?"y":"ies")&&B(a,_),(!y||16&e)&&b!==(b=1===t[4]?"":"s")&&B(u,b);const n={};2&e&&(n.filter=t[1]),64&e&&(n.showClickHint=(t[6]?"Tap":"Click")+" to filter"),h.$set(n),160&e&&(N=t[5],M=Et(M,e,T,1,t,N,E,v,Mt,Bp,null,Tp))},i(t){y||(wt(h.$$.fragment,t),y=!0)},o(t){$t(h.$$.fragment,t),y=!1},d(t){t&&C(e),Ot(h);for(let t=0;t<M.length;t+=1)M[t].d();w=!1,$()}}}function Pp(e,n,r){let o,i,l,a,c,f=t,h=()=>(f(),f=s(v,(t=>r(8,i=t))),v),p=t,d=()=>(p(),p=s(w,(t=>r(9,l=t))),w),m=t,g=()=>(m(),m=s($,(t=>r(10,a=t))),$);u(e,Ut,(t=>r(6,c=t))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>p())),e.$$.on_destroy.push((()=>m()));let{statusFilter:v}=n;h();let{countryFilter:y}=n,{fullStatusRollup:w}=n;d();let{statusRollup:$}=n;g();let{totalCountries:_=0}=n;function b(t){v.click(t)}return e.$$set=t=>{"statusFilter"in t&&h(r(0,v=t.statusFilter)),"countryFilter"in t&&r(1,y=t.countryFilter),"fullStatusRollup"in t&&d(r(2,w=t.fullStatusRollup)),"statusRollup"in t&&g(r(3,$=t.statusRollup)),"totalCountries"in t&&r(4,_=t.totalCountries)},e.$$.update=()=>{1792&e.$$.dirty&&r(5,o=i.map((t=>{const e=l.find((e=>e.name===t.name)),{n:n=0}=a.find((e=>e.name===t.name))||{};return{...t,...e,n:n}})))},[v,y,w,$,_,o,c,b,i,l,a,function(t){J.call(this,e,t)},t=>b(t)]}class Fp extends Bt{constructor(t){super(),Tt(this,t,Pp,Lp,a,{statusFilter:0,countryFilter:1,fullStatusRollup:2,statusRollup:3,totalCountries:4})}}function Hp(t){let e,n,r;const o=t[8].default,i=c(o,t,t[7],null);return{c(){e=S("canvas"),n=j(),i&&i.c(),z(e,"class","svelte-rooydn")},m(o,l){k(o,e,l),t[9](e),k(o,n,l),i&&i.m(o,l),r=!0},p(t,[e]){i&&i.p&&(!r||128&e)&&h(i,o,t,t[7],r?e:-1,null,null)},i(t){r||(wt(i,t),r=!0)},o(t){$t(i,t),r=!1},d(r){r&&C(e),t[9](null),r&&C(n),i&&i.d(r)}}}function Dp(t,e,n){let{$$slots:r={},$$scope:o}=e,{width:i=0}=e,{height:l=0}=e,{center:a=!1}=e,{contextName:s="canvas"}=e;const u=[];let c,f,h,p=!1;function d(){f&&(a?f.clearRect(-i/2,-l/2,i,l):f.clearRect(0,0,i,l),u.forEach((t=>{f.save(),t(f),f.restore()})),n(6,p=!1))}return K((()=>{n(5,f=c.getContext("2d"))})),Z((()=>{h&&cancelAnimationFrame(h)})),t.$$set=t=>{"width"in t&&n(1,i=t.width),"height"in t&&n(2,l=t.height),"center"in t&&n(3,a=t.center),"contextName"in t&&n(4,s=t.contextName),"$$scope"in t&&n(7,o=t.$$scope)},t.$$.update=()=>{var e,r;80&t.$$.dirty&&(e=s,r={register(t){u.push(t)},deregister(t){u.splice(u.indexOf(t),1)},invalidate(){p||(n(6,p=!0),h=requestAnimationFrame(d))}},V().$$.context.set(e,r)),47&t.$$.dirty&&c&&f&&((t,e,n,r,o=!0)=>{const i=window.devicePixelRatio||1,l=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,a=i/l;i!==l?(t.width=n*a,t.height=r*a,t.style.width=n+"px",t.style.height=r+"px"):(t.width=n,t.height=r,t.style.width="",t.style.height=""),e.scale(a,a),o&&e.translate(n/2,r/2)})(c,f,i,l,a)},[c,i,l,a,s,f,p,o,r,function(t){et[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class Ip extends Bt{constructor(t){super(),Tt(this,t,Dp,Hp,a,{width:1,height:2,center:3,contextName:4})}}function qp(t){return"[object Date]"===Object.prototype.toString.call(t)}function Up(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Up(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(qp(t)&&qp(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=Up(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Wp(t,r={}){const o=It(t);let i,l=t;function a(a,s){if(null==t)return o.set(t=a),Promise.resolve();l=a;let u=i,c=!1,{delay:f=0,duration:h=400,easing:p=e,interpolate:d=Up}=n(n({},r),s);if(0===h)return u&&(u.abort(),u=null),o.set(t=l),Promise.resolve();const g=m()+f;let v;return i=w((e=>{if(e<g)return!0;c||(v=d(t,a),"function"==typeof h&&(h=h(t,a)),c=!0),u&&(u.abort(),u=null);const n=e-g;return n>h?(o.set(t=a),!1):(o.set(t=v(p(n/h))),!0)})),i.promise}return{set:a,update:(e,n)=>a(e(l,t),n),subscribe:o.subscribe}}function Yp(t,e,n){let r,{path:o="M0 0"}=e,{color:i="#FFFFFF"}=e,{strokeColor:l="#000000"}=e,{fallbackFillColor:a="#FFFFFF"}=e,{fillOpacity:s=1}=e,{mode:c="area"}=e,{contextName:f="canvas"}=e;const{register:h,deregister:p,invalidate:d}=(m=f,V().$$.context.get(m));var m;const g=Wp(s,{duration:200});function v(t){t.fillStyle=i||a,t.strokeStyle="stroke"===c&&i?i:l,t.lineWidth="stroke"===c?5:1;const e=new Path2D(o);t.beginPath(),t.globalAlpha=r,"area"===c&&t.fill(e),t.globalAlpha="area"===c?1:r,t.stroke(e),"stroke"===c&&(t.strokeStyle=a,t.lineWidth=2,t.stroke(e))}var y;return u(t,g,(t=>n(8,r=t))),K((()=>(h(v),d(),()=>{p(v)}))),y=d,V().$$.after_update.push(y),Z(d),t.$$set=t=>{"path"in t&&n(1,o=t.path),"color"in t&&n(2,i=t.color),"strokeColor"in t&&n(3,l=t.strokeColor),"fallbackFillColor"in t&&n(4,a=t.fallbackFillColor),"fillOpacity"in t&&n(5,s=t.fillOpacity),"mode"in t&&n(6,c=t.mode),"contextName"in t&&n(7,f=t.contextName)},t.$$.update=()=>{32&t.$$.dirty&&g.set(s)},[g,o,i,l,a,s,c,f]}class Gp extends Bt{constructor(t){super(),Tt(this,t,Yp,null,a,{path:1,color:2,strokeColor:3,fallbackFillColor:4,fillOpacity:5,mode:6,contextName:7})}}function Xp(t){let e,n,r,o,i,l,a,s,u;return{c(){e=E("circle"),o=E("circle"),a=E("circle"),z(e,"class","foreground svelte-1i5ftdf"),z(e,"cx","0"),z(e,"cy","0"),z(e,"r",n=t[8]/1.2),z(e,"stroke-width",r=t[8]/15),z(o,"class","foreground svelte-1i5ftdf"),z(o,"cx","0"),z(o,"cy","0"),z(o,"r",i=t[8]/2),z(o,"stroke-width",l=t[8]/15),z(a,"class","foreground svelte-1i5ftdf"),z(a,"cx","0"),z(a,"cy","0"),z(a,"r",s=t[8]/2.5),z(a,"stroke-width",u=t[8]/15)},m(t,n){k(t,e,n),k(t,o,n),k(t,a,n)},p(t,c){256&c&&n!==(n=t[8]/1.2)&&z(e,"r",n),256&c&&r!==(r=t[8]/15)&&z(e,"stroke-width",r),256&c&&i!==(i=t[8]/2)&&z(o,"r",i),256&c&&l!==(l=t[8]/15)&&z(o,"stroke-width",l),256&c&&s!==(s=t[8]/2.5)&&z(a,"r",s),256&c&&u!==(u=t[8]/15)&&z(a,"stroke-width",u)},d(t){t&&C(e),t&&C(o),t&&C(a)}}}function Vp(t){let e,n,r;return{c(){e=E("circle"),z(e,"class","foreground svelte-1i5ftdf"),z(e,"cx","0"),z(e,"cy","0"),z(e,"r",n=t[8]/2.2),z(e,"stroke-width",r=t[8]/7)},m(t,n){k(t,e,n)},p(t,o){256&o&&n!==(n=t[8]/2.2)&&z(e,"r",n),256&o&&r!==(r=t[8]/7)&&z(e,"stroke-width",r)},d(t){t&&C(e)}}}function Kp(t){let e,n,r,o,a,s,u,c,f,h,d,m,g,v=t[3]&&Xp(t),y=t[5]&&Vp(t);return{c(){e=E("g"),n=E("circle"),r=E("circle"),v&&v.c(),s=N(),y&&y.c(),z(n,"class","background svelte-1i5ftdf"),z(n,"cx","0"),z(n,"cy","0"),z(n,"r",t[8]),z(r,"class","foreground svelte-1i5ftdf"),z(r,"cx","0"),z(r,"cy","0"),z(r,"r",o=t[8]/1.5),z(r,"stroke-width",a=t[8]/7),z(e,"class","centroid svelte-1i5ftdf"),z(e,"transform",u="translate("+(t[0].centroid[0]+t[7][0])+" "+(t[0].centroid[1]+t[7][1])+")"),D(e,"reactive",t[4]&&!t[6]),D(e,"deactivated",t[6]),D(e,"inverted",t[5])},m(o,i){k(o,e,i),x(e,n),x(e,r),v&&v.m(e,null),x(e,s),y&&y.m(e,null),d=!0,m||(g=[p(c=Ft.call(null,e,{opacity:t[2],color:t[1]})),R(e,"mouseenter",t[13]),R(e,"mouseleave",t[14]),R(e,"touchstart",O(t[15])),R(e,"touchend",O(t[16])),R(e,"click",O(t[17]))],m=!0)},p(i,[f]){t=i,(!d||256&f)&&z(n,"r",t[8]),(!d||256&f&&o!==(o=t[8]/1.5))&&z(r,"r",o),(!d||256&f&&a!==(a=t[8]/7))&&z(r,"stroke-width",a),t[3]?v?v.p(t,f):(v=Xp(t),v.c(),v.m(e,s)):v&&(v.d(1),v=null),t[5]?y?y.p(t,f):(y=Vp(t),y.c(),y.m(e,null)):y&&(y.d(1),y=null),(!d||129&f&&u!==(u="translate("+(t[0].centroid[0]+t[7][0])+" "+(t[0].centroid[1]+t[7][1])+")"))&&z(e,"transform",u),c&&l(c.update)&&6&f&&c.update.call(null,{opacity:t[2],color:t[1]}),80&f&&D(e,"reactive",t[4]&&!t[6]),64&f&&D(e,"deactivated",t[6]),32&f&&D(e,"inverted",t[5])},i(n){d||(lt((()=>{h&&h.end(1),f||(f=bt(e,Kf,{duration:t[3]?200:0,delay:t[3]?200:0})),f.start()})),d=!0)},o(t){f&&f.invalidate(),h=xt(e,Kf,{duration:0}),d=!1},d(t){t&&C(e),v&&v.d(),y&&y.d(),t&&h&&h.end(),m=!1,i(g)}}}function Zp(t,e,n){let r,o,{dataCountry:i={}}=e,{color:l="#000000"}=e,{radius:a=14}=e,{opacity:s=1}=e,{offset:c=[0,0]}=e,{isCluster:f=!1}=e,{isReactive:h=!0}=e,{inverted:p=!1}=e;const d=Wp(null,{duration:100});u(t,d,(t=>n(7,r=t)));const m=Wp(0,{duration:100});u(t,m,(t=>n(8,o=t)));let g=!1;return t.$$set=t=>{"dataCountry"in t&&n(0,i=t.dataCountry),"color"in t&&n(1,l=t.color),"radius"in t&&n(11,a=t.radius),"opacity"in t&&n(2,s=t.opacity),"offset"in t&&n(12,c=t.offset),"isCluster"in t&&n(3,f=t.isCluster),"isReactive"in t&&n(4,h=t.isReactive),"inverted"in t&&n(5,p=t.inverted)},t.$$.update=()=>{4096&t.$$.dirty&&n(6,g=0!==c[0]&&0!==c[1]),2120&t.$$.dirty&&m.set(a*(f||g?.8:1)),4160&t.$$.dirty&&d.set(c,{duration:g?0:200})},[i,l,s,f,h,p,g,r,o,d,m,a,c,function(e){J.call(this,t,e)},function(e){J.call(this,t,e)},function(e){J.call(this,t,e)},function(e){J.call(this,t,e)},function(e){J.call(this,t,e)}]}class Qp extends Bt{constructor(t){super(),Tt(this,t,Zp,Kp,a,{dataCountry:0,color:1,radius:11,opacity:2,offset:12,isCluster:3,isReactive:4,inverted:5})}}const Jp=(t,e,n,r)=>{const o=t+(n-t)/2;return`M${t} ${e}C${o} ${e} ${o} ${r} ${n} ${r}`},td=(t,e,n,r,o,i,l,a,s,u,c)=>{const f=t+(n-t)/2,h=s+(t-s)/2,p=u,d=h,m=e;return`\n    M${t} ${e}\n    C${f} ${e} ${f} ${r} ${n} ${r}\n    H${o-c}\n    Q${o} ${i} ${o} ${i+Math.abs(c)}\n    V${a-Math.abs(c)}\n    Q${l} ${a} ${l-c} ${a}\n    H${s}\n    C${h} ${p} ${d} ${m} ${t} ${e}\n  `};function ed(t,e,n){const r=t.slice();return r[25]=e[n],r}function nd(t,e,n){const r=t.slice();return r[25]=e[n],r[28]=e,r[29]=n,r}function rd(t,e){let n,r,o,i,l=e[25].title+"",a=e[29],s=e[25].name+"";const u=()=>e[21](n,a),c=()=>e[21](null,a),f=()=>e[22](o,a),h=()=>e[22](null,a);return{key:t,first:null,c(){n=E("text"),r=A(l),o=E("text"),i=A(s),z(n,"class","tag-text-category svelte-3y6i1"),z(o,"class","tag-text-name svelte-3y6i1"),this.first=n},m(t,e){k(t,n,e),x(n,r),u(),k(t,o,e),x(o,i),f()},p(t,n){e=t,8&n&&l!==(l=e[25].title+"")&&B(r,l),a!==e[29]&&(c(),a=e[29],u()),8&n&&s!==(s=e[25].name+"")&&B(i,s),a!==e[29]&&(h(),a=e[29],f())},d(t){t&&C(n),c(),t&&C(o),h()}}}function od(t){let e,n,r,o,i,l,a=t[25].title+"";return{c(){e=E("text"),n=A(a),z(e,"class","tag-text-category svelte-3y6i1"),z(e,"text-anchor",r=1===t[25].direction?"start":"end"),z(e,"dx",o=ad*t[25].direction),z(e,"dy",i=t[25].textCategoryYOffset),z(e,"fill",l="name"===t[25].category?"var(--darkgray)":t[0].categories.new_status.color)},m(t,r){k(t,e,r),x(e,n)},p(t,s){16&s&&a!==(a=t[25].title+"")&&B(n,a),16&s&&r!==(r=1===t[25].direction?"start":"end")&&z(e,"text-anchor",r),16&s&&o!==(o=ad*t[25].direction)&&z(e,"dx",o),16&s&&i!==(i=t[25].textCategoryYOffset)&&z(e,"dy",i),17&s&&l!==(l="name"===t[25].category?"var(--darkgray)":t[0].categories.new_status.color)&&z(e,"fill",l)},d(t){t&&C(e)}}}function id(t,e){let n,r,o,i,l,a,s,u,c,f,h,p,d,m,g,v,y,w,$,_,b,M,S,j,N,O=e[25].name+"";function T(){return e[23](e[25])}let L="name"!==e[25].category&&od(e);return{key:t,first:null,c(){n=E("path"),i=E("path"),u=E("g"),c=E("path"),h=E("path"),m=E("g"),L&&L.c(),g=E("text"),v=A(O),z(n,"class","tag-connector-path background svelte-3y6i1"),z(n,"d",r=Jp(e[25].x1,e[25].y1,e[25].x2,e[25].y2)),z(i,"class","tag-connector-path svelte-3y6i1"),z(i,"d",l=Jp(e[25].x1,e[25].y1,e[25].x2,e[25].y2)),z(i,"stroke",a=e[0].categories.new_status.color),z(c,"class","tag-label-path background svelte-3y6i1"),z(c,"d",f=td(e[25].x2,e[25].y2,e[25].x3,e[25].y3,e[25].x4,e[25].y4,e[25].x5,e[25].y5,e[25].x6,e[25].y6,e[25].direction*ud)),D(c,"country","country"===e[25].category),z(h,"class","tag-label-path svelte-3y6i1"),z(h,"d",p=td(e[25].x2,e[25].y2,e[25].x3,e[25].y3,e[25].x4,e[25].y4,e[25].x5,e[25].y5,e[25].x6,e[25].y6,e[25].direction*ud)),z(h,"fill",d="name"===e[25].category?e[0].categories.new_status.color:"var(--secWhite)"),D(h,"country","name"===e[25].category),z(g,"class","tag-text-name svelte-3y6i1"),z(g,"text-anchor",y=1===e[25].direction?"start":"end"),z(g,"dx",w=ad*e[25].direction),z(g,"dy",$=e[25].textNameYOffset),z(m,"class","tag-label-content svelte-3y6i1"),z(m,"transform",_="translate("+e[25].x2+" "+e[25].y2+")"),z(u,"class","tag-label svelte-3y6i1"),P(u,"--stroke",e[0].categories.new_status.color),D(u,"selectable",e[25].filterable),this.first=n},m(t,e){k(t,n,e),k(t,i,e),k(t,u,e),x(u,c),x(u,h),x(u,m),L&&L.m(m,null),x(m,g),x(g,v),S=!0,j||(N=R(h,"click",T),j=!0)},p(t,o){e=t,(!S||16&o&&r!==(r=Jp(e[25].x1,e[25].y1,e[25].x2,e[25].y2)))&&z(n,"d",r),(!S||16&o&&l!==(l=Jp(e[25].x1,e[25].y1,e[25].x2,e[25].y2)))&&z(i,"d",l),(!S||1&o&&a!==(a=e[0].categories.new_status.color))&&z(i,"stroke",a),(!S||16&o&&f!==(f=td(e[25].x2,e[25].y2,e[25].x3,e[25].y3,e[25].x4,e[25].y4,e[25].x5,e[25].y5,e[25].x6,e[25].y6,e[25].direction*ud)))&&z(c,"d",f),16&o&&D(c,"country","country"===e[25].category),(!S||16&o&&p!==(p=td(e[25].x2,e[25].y2,e[25].x3,e[25].y3,e[25].x4,e[25].y4,e[25].x5,e[25].y5,e[25].x6,e[25].y6,e[25].direction*ud)))&&z(h,"d",p),(!S||17&o&&d!==(d="name"===e[25].category?e[0].categories.new_status.color:"var(--secWhite)"))&&z(h,"fill",d),16&o&&D(h,"country","name"===e[25].category),"name"!==e[25].category?L?L.p(e,o):(L=od(e),L.c(),L.m(m,g)):L&&(L.d(1),L=null),(!S||16&o)&&O!==(O=e[25].name+"")&&B(v,O),(!S||16&o&&y!==(y=1===e[25].direction?"start":"end"))&&z(g,"text-anchor",y),(!S||16&o&&w!==(w=ad*e[25].direction))&&z(g,"dx",w),(!S||16&o&&$!==($=e[25].textNameYOffset))&&z(g,"dy",$),(!S||16&o&&_!==(_="translate("+e[25].x2+" "+e[25].y2+")"))&&z(m,"transform",_),(!S||1&o)&&P(u,"--stroke",e[0].categories.new_status.color),16&o&&D(u,"selectable",e[25].filterable)},i(t){S||(lt((()=>{o||(o=kt(n,Qf,{duration:sd},!0)),o.run(1)})),lt((()=>{s||(s=kt(i,Qf,{duration:sd},!0)),s.run(1)})),lt((()=>{M&&M.end(1),b||(b=bt(u,Kf,{delay:sd})),b.start()})),S=!0)},o(t){o||(o=kt(n,Qf,{duration:sd},!1)),o.run(0),s||(s=kt(i,Qf,{duration:sd},!1)),s.run(0),b&&b.invalidate(),M=xt(u,Kf,{delay:0}),S=!1},d(t){t&&C(n),t&&o&&o.end(),t&&C(i),t&&s&&s.end(),t&&C(u),L&&L.d(),t&&M&&M.end(),j=!1,N()}}}function ld(t){let e,n,r,o,l,a,s,u,c,f=[],h=new Map,p=[],d=new Map,m=t[3];const g=t=>t[25].id;for(let e=0;e<m.length;e+=1){let n=nd(t,m,e),r=g(n);h.set(r,f[e]=rd(r,n))}let v=t[4];const y=t=>t[25].id;for(let e=0;e<v.length;e+=1){let n=ed(t,v,e),r=y(n);d.set(r,p[e]=id(r,n))}return a=new Qp({props:{dataCountry:t[0],color:t[0].categories.new_status.color,isReactive:!1,inverted:"region"===t[0].status}}),{c(){e=E("g");for(let t=0;t<f.length;t+=1)f[t].c();n=j(),r=E("g");for(let t=0;t<p.length;t+=1)p[t].c();l=j(),Nt(a.$$.fragment),z(e,"class","shadow-hover-tag svelte-3y6i1"),z(r,"class","hover-tag svelte-3y6i1"),z(r,"transform",o="translate("+t[0].centroid[0]+" "+t[0].centroid[1]+")")},m(o,i){k(o,e,i);for(let t=0;t<f.length;t+=1)f[t].m(e,null);k(o,n,i),k(o,r,i);for(let t=0;t<p.length;t+=1)p[t].m(r,null);k(o,l,i),Rt(a,o,i),s=!0,u||(c=[R(r,"mouseenter",t[19]),R(r,"mouseleave",t[20])],u=!0)},p(t,[n]){14&n&&(m=t[3],f=Et(f,n,g,1,t,m,h,e,Mt,rd,null,nd)),49&n&&(v=t[4],vt(),p=Et(p,n,y,1,t,v,d,r,St,id,null,ed),yt()),(!s||1&n&&o!==(o="translate("+t[0].centroid[0]+" "+t[0].centroid[1]+")"))&&z(r,"transform",o);const i={};1&n&&(i.dataCountry=t[0]),1&n&&(i.color=t[0].categories.new_status.color),1&n&&(i.inverted="region"===t[0].status),a.$set(i)},i(t){if(!s){for(let t=0;t<v.length;t+=1)wt(p[t]);wt(a.$$.fragment,t),s=!0}},o(t){for(let t=0;t<p.length;t+=1)$t(p[t]);$t(a.$$.fragment,t),s=!1},d(t){t&&C(e);for(let t=0;t<f.length;t+=1)f[t].d();t&&C(n),t&&C(r);for(let t=0;t<p.length;t+=1)p[t].d();t&&C(l),Ot(a,t),u=!1,i(c)}}}const ad=30,sd=200,ud=5;function cd(t,e,n){let r,o,i,l,a,s,u,c,f,h,{data:p}=e,{tagHeight:d=35}=e,{tagGap:m=10}=e,{tagOffset:g=40}=e,{mapWidth:v=0}=e,{mapHeight:y=0}=e;const w=Q();let $=[],_=[];function b(t){if(!t.filterable)return;const{category:e,name:n}=t;w("tagclick",{category:e,name:n})}return t.$$set=t=>{"data"in t&&n(0,p=t.data),"tagHeight"in t&&n(6,d=t.tagHeight),"tagGap"in t&&n(7,m=t.tagGap),"tagOffset"in t&&n(8,g=t.tagOffset),"mapWidth"in t&&n(9,v=t.mapWidth),"mapHeight"in t&&n(10,y=t.mapHeight)},t.$$.update=()=>{1&t.$$.dirty&&n(11,r=[{category:"name",...{...p.name,name:"United States of America"===p.name.name?"United States":p.name.name}},...Object.keys(p.categories).map((t=>({category:t,...p.categories[t]}))).filter((t=>"Undecided"!==t.name))]),2240&t.$$.dirty&&n(12,o=Math.max(0,d*(r.length-0)+m*(r.length-1))),6&t.$$.dirty&&n(13,i=Math.max(0,...[...$.map((t=>t.getBBox())),_.map((t=>t.getBBox()))].map((t=>t.width)).filter((t=>t)))),4097&t.$$.dirty&&n(14,l=p.centroid[1]-o/2<20),8449&t.$$.dirty&&n(15,a=p.centroid[0]<i+20+g+2*ad),5121&t.$$.dirty&&n(16,s=p.centroid[1]+o/2>y-20),8961&t.$$.dirty&&n(17,u=p.centroid[0]>v-20-i-g-2*ad),87041&t.$$.dirty&&n(18,c=l?o/2-p.centroid[1]:s?y-(p.centroid[1]+o/1.8):0),432576&t.$$.dirty&&n(3,f=r.map(((t,e)=>{let n=u?-1:a?1:"name"===t.category?-1:1;const r="name"!==t.category||a||u?o:d,i=n*g,l=e*(d+m)-r/2+d/2+c,s=i+ad*n,f=l-d/2,h=s+.5*ad*n,p=f,v=h,y=p+d,w=s,$=y;return{...t,id:e,x1:0,y1:0,x2:i,y2:l,x3:s,y3:f,x4:h,y4:p,x5:v,y5:y,x6:w,y6:$,direction:n}}))),78&t.$$.dirty&&n(4,h=_.map(((t,e)=>{const n=f[e],{direction:r}=n,{width:o}=$[e].getBBox(),{width:i,height:l}=t.getBBox(),a=Math.max(o,i);return{...n,x4:n.x4+a*r,x5:n.x4+a*r,textCategoryYOffset:-d/6,textNameYOffset:"name"===n.category?l/4:d/3}})))},[p,$,_,f,h,b,d,m,g,v,y,r,o,i,l,a,s,u,c,function(e){J.call(this,t,e)},function(e){J.call(this,t,e)},function(t,e){et[t?"unshift":"push"]((()=>{$[e]=t,n(1,$),n(3,f),n(11,r),n(17,u),n(15,a),n(6,d),n(12,o),n(8,g),n(7,m),n(18,c),n(0,p),n(9,v),n(13,i),n(14,l),n(16,s),n(10,y),n(1,$),n(2,_)}))},function(t,e){et[t?"unshift":"push"]((()=>{_[e]=t,n(2,_),n(3,f),n(11,r),n(17,u),n(15,a),n(6,d),n(12,o),n(8,g),n(7,m),n(18,c),n(0,p),n(9,v),n(13,i),n(14,l),n(16,s),n(10,y),n(1,$),n(2,_)}))},t=>b(t)]}class fd extends Bt{constructor(t){super(),Tt(this,t,cd,ld,a,{data:0,tagHeight:6,tagGap:7,tagOffset:8,mapWidth:9,mapHeight:10})}}function hd(t,e,n){const r=t.slice();return r[23]=e[n],r}function pd(t,e,n){const r=t.slice();return r[23]=e[n],r[26]=e,r[27]=n,r}function dd(t,e){let n,r,o,i,l=e[23].title+"",a=e[27],s=e[23].name+"";const u=()=>e[20](n,a),c=()=>e[20](null,a),f=()=>e[21](o,a),h=()=>e[21](null,a);return{key:t,first:null,c(){n=E("text"),r=A(l),o=E("text"),i=A(s),z(n,"class","tag-text-category svelte-1ftu5h3"),z(o,"class","tag-text-name-cluster svelte-1ftu5h3"),this.first=n},m(t,e){k(t,n,e),x(n,r),u(),k(t,o,e),x(o,i),f()},p(t,n){e=t,8&n&&l!==(l=e[23].title+"")&&B(r,l),a!==e[27]&&(c(),a=e[27],u()),8&n&&s!==(s=e[23].name+"")&&B(i,s),a!==e[27]&&(h(),a=e[27],f())},d(t){t&&C(n),c(),t&&C(o),h()}}}function md(t){let e,n,r,o,i,l=t[23].name+"";return{c(){e=E("text"),n=A(l),z(e,"class","tag-text-name-cluster svelte-1ftu5h3"),z(e,"text-anchor",r=1===t[23].direction?"start":"end"),z(e,"dx",o=wd*t[23].direction),z(e,"dy",i=t[23].textNameYOffset)},m(t,r){k(t,e,r),x(e,n)},p(t,a){16&a&&l!==(l=t[23].name+"")&&B(n,l),16&a&&r!==(r=1===t[23].direction?"start":"end")&&z(e,"text-anchor",r),16&a&&o!==(o=wd*t[23].direction)&&z(e,"dx",o),16&a&&i!==(i=t[23].textNameYOffset)&&z(e,"dy",i)},d(t){t&&C(e)}}}function gd(t){let e,n,r,o,i,l,a,s,u,c,f,h=t[23].name+"",p=t[23].countries+"";return{c(){e=E("text"),n=A(h),l=E("text"),a=A(p),s=A(" Countries\n          "),z(e,"class","tag-text-name-cluster svelte-1ftu5h3"),z(e,"text-anchor",r=1===t[23].direction?"start":"end"),z(e,"dx",o=wd*t[23].direction),z(e,"dy",i=t[23].textNameYOffset-8),z(l,"class","tag-text-name-cluster-countries svelte-1ftu5h3"),z(l,"text-anchor",u=1===t[23].direction?"start":"end"),z(l,"dx",c=wd*t[23].direction),z(l,"dy",f=t[23].textNameYOffset+8)},m(t,r){k(t,e,r),x(e,n),k(t,l,r),x(l,a),x(l,s)},p(t,s){16&s&&h!==(h=t[23].name+"")&&B(n,h),16&s&&r!==(r=1===t[23].direction?"start":"end")&&z(e,"text-anchor",r),16&s&&o!==(o=wd*t[23].direction)&&z(e,"dx",o),16&s&&i!==(i=t[23].textNameYOffset-8)&&z(e,"dy",i),16&s&&p!==(p=t[23].countries+"")&&B(a,p),16&s&&u!==(u=1===t[23].direction?"start":"end")&&z(l,"text-anchor",u),16&s&&c!==(c=wd*t[23].direction)&&z(l,"dx",c),16&s&&f!==(f=t[23].textNameYOffset+8)&&z(l,"dy",f)},d(t){t&&C(e),t&&C(l)}}}function vd(t,e){let n,r,o,i,l,a,s,u,c,f,h,p,d,m,g,v,y,w;function $(t,e){return"Europe"!=t[23].name?gd:md}let _=$(e),b=_(e);return{key:t,first:null,c(){n=E("path"),i=E("path"),u=E("g"),c=E("path"),h=E("path"),m=E("g"),b.c(),z(n,"class","tag-connector-path background svelte-1ftu5h3"),z(n,"d",r=Jp(e[23].x1,e[23].y1,e[23].x2,e[23].y2)),z(i,"class","tag-connector-path svelte-1ftu5h3"),z(i,"d",l=Jp(e[23].x1,e[23].y1,e[23].x2,e[23].y2)),z(i,"stroke",a=e[0].color),z(c,"class","tag-label-path background svelte-1ftu5h3"),z(c,"d",f=td(e[23].x2,e[23].y2,e[23].x3,e[23].y3,e[23].x4,e[23].y4,e[23].x5,e[23].y5,e[23].x6,e[23].y6,e[23].direction*_d)),D(c,"country","country"===e[23].category),z(h,"class","tag-label-path svelte-1ftu5h3"),z(h,"d",p=td(e[23].x2,e[23].y2,e[23].x3,e[23].y3,e[23].x4,e[23].y4,e[23].x5,e[23].y5,e[23].x6,e[23].y6,e[23].direction*_d)),z(h,"fill",d=e[0].color),D(h,"country","name"===e[23].category),z(m,"class","tag-label-content svelte-1ftu5h3"),z(m,"transform",g="translate("+e[23].x2+" "+e[23].y2+")"),z(u,"class","tag-label svelte-1ftu5h3"),P(u,"--stroke",e[0].color),D(u,"selectable",e[23].filterable),this.first=n},m(t,e){k(t,n,e),k(t,i,e),k(t,u,e),x(u,c),x(u,h),x(u,m),b.m(m,null),w=!0},p(t,o){e=t,(!w||16&o&&r!==(r=Jp(e[23].x1,e[23].y1,e[23].x2,e[23].y2)))&&z(n,"d",r),(!w||16&o&&l!==(l=Jp(e[23].x1,e[23].y1,e[23].x2,e[23].y2)))&&z(i,"d",l),(!w||1&o&&a!==(a=e[0].color))&&z(i,"stroke",a),(!w||16&o&&f!==(f=td(e[23].x2,e[23].y2,e[23].x3,e[23].y3,e[23].x4,e[23].y4,e[23].x5,e[23].y5,e[23].x6,e[23].y6,e[23].direction*_d)))&&z(c,"d",f),16&o&&D(c,"country","country"===e[23].category),(!w||16&o&&p!==(p=td(e[23].x2,e[23].y2,e[23].x3,e[23].y3,e[23].x4,e[23].y4,e[23].x5,e[23].y5,e[23].x6,e[23].y6,e[23].direction*_d)))&&z(h,"d",p),(!w||1&o&&d!==(d=e[0].color))&&z(h,"fill",d),16&o&&D(h,"country","name"===e[23].category),_===(_=$(e))&&b?b.p(e,o):(b.d(1),b=_(e),b&&(b.c(),b.m(m,null))),(!w||16&o&&g!==(g="translate("+e[23].x2+" "+e[23].y2+")"))&&z(m,"transform",g),(!w||1&o)&&P(u,"--stroke",e[0].color),16&o&&D(u,"selectable",e[23].filterable)},i(t){w||(lt((()=>{o||(o=kt(n,Qf,{duration:$d},!0)),o.run(1)})),lt((()=>{s||(s=kt(i,Qf,{duration:$d},!0)),s.run(1)})),lt((()=>{y&&y.end(1),v||(v=bt(u,Kf,{delay:$d})),v.start()})),w=!0)},o(t){o||(o=kt(n,Qf,{duration:$d},!1)),o.run(0),s||(s=kt(i,Qf,{duration:$d},!1)),s.run(0),v&&v.invalidate(),y=xt(u,Kf,{delay:0}),w=!1},d(t){t&&C(n),t&&o&&o.end(),t&&C(i),t&&s&&s.end(),t&&C(u),b.d(),t&&y&&y.end()}}}function yd(t){let e,n,r,o,l,a,s,u,c,f=[],h=new Map,p=[],d=new Map,m=t[3];const g=t=>t[23].id;for(let e=0;e<m.length;e+=1){let n=pd(t,m,e),r=g(n);h.set(r,f[e]=dd(r,n))}let v=t[4];const y=t=>t[23].id;for(let e=0;e<v.length;e+=1){let n=hd(t,v,e),r=y(n);d.set(r,p[e]=vd(r,n))}return a=new Qp({props:{dataCountry:t[0],color:t[0].color,isReactive:!1}}),{c(){e=E("g");for(let t=0;t<f.length;t+=1)f[t].c();n=j(),r=E("g");for(let t=0;t<p.length;t+=1)p[t].c();l=j(),Nt(a.$$.fragment),z(e,"class","shadow-hover-tag svelte-1ftu5h3"),z(r,"class","hover-tag svelte-1ftu5h3"),z(r,"transform",o="translate("+t[0].centroid[0]+" "+t[0].centroid[1]+")")},m(o,i){k(o,e,i);for(let t=0;t<f.length;t+=1)f[t].m(e,null);k(o,n,i),k(o,r,i);for(let t=0;t<p.length;t+=1)p[t].m(r,null);k(o,l,i),Rt(a,o,i),s=!0,u||(c=[R(r,"mouseenter",t[18]),R(r,"mouseleave",t[19])],u=!0)},p(t,[n]){14&n&&(m=t[3],f=Et(f,n,g,1,t,m,h,e,Mt,dd,null,pd)),17&n&&(v=t[4],vt(),p=Et(p,n,y,1,t,v,d,r,St,vd,null,hd),yt()),(!s||1&n&&o!==(o="translate("+t[0].centroid[0]+" "+t[0].centroid[1]+")"))&&z(r,"transform",o);const i={};1&n&&(i.dataCountry=t[0]),1&n&&(i.color=t[0].color),a.$set(i)},i(t){if(!s){for(let t=0;t<v.length;t+=1)wt(p[t]);wt(a.$$.fragment,t),s=!0}},o(t){for(let t=0;t<p.length;t+=1)$t(p[t]);$t(a.$$.fragment,t),s=!1},d(t){t&&C(e);for(let t=0;t<f.length;t+=1)f[t].d();t&&C(n),t&&C(r);for(let t=0;t<p.length;t+=1)p[t].d();t&&C(l),Ot(a,t),u=!1,i(c)}}}const wd=30,$d=200,_d=5;function bd(t,e,n){let r,o,i,l,a,s,u,c,f,h,{data:p}=e,{tagHeight:d=55}=e,{tagGap:m=10}=e,{tagOffset:g=40}=e,{mapWidth:v=0}=e,{mapHeight:y=0}=e;Q();let w=[],$=[];return t.$$set=t=>{"data"in t&&n(0,p=t.data),"tagHeight"in t&&n(5,d=t.tagHeight),"tagGap"in t&&n(6,m=t.tagGap),"tagOffset"in t&&n(7,g=t.tagOffset),"mapWidth"in t&&n(8,v=t.mapWidth),"mapHeight"in t&&n(9,y=t.mapHeight)},t.$$.update=()=>{1&t.$$.dirty&&n(10,r=[{category:"name",name:p.name,countries:p.countries.length,title:"",color:"#000",filterable:!0}]),1120&t.$$.dirty&&n(11,o=Math.max(0,d*(r.length-0)+m*(r.length-1))),6&t.$$.dirty&&n(12,i=Math.max(0,...[...w.map((t=>t.getBBox())),$.map((t=>t.getBBox()))].map((t=>t.width)).filter((t=>t)))),2049&t.$$.dirty&&n(13,l=p.centroid[1]-o/2<20),4225&t.$$.dirty&&n(14,a=p.centroid[0]<i+20+g+2*wd),2561&t.$$.dirty&&n(15,s=p.centroid[1]+o/2>y-20),4481&t.$$.dirty&&n(16,u=p.centroid[0]>v-20-i-g-2*wd),43521&t.$$.dirty&&n(17,c=l?o/2-p.centroid[1]:s?y-(p.centroid[1]+o/1.8):0),216288&t.$$.dirty&&n(3,f=r.map(((t,e)=>{let n=u?-1:a?1:"name"===t.category?-1:1;const r="name"!==t.category||a||u?o:d,i=n*g,l=e*(d+m)-r/2+d/2+c,s=i+wd*n,f=l-d/2,h=s+.5*wd*n,p=f,v=h,y=p+d,w=s,$=y;return{...t,id:e,x1:0,y1:0,x2:i,y2:l,x3:s,y3:f,x4:h,y4:p,x5:v,y5:y,x6:w,y6:$,direction:n}}))),46&t.$$.dirty&&n(4,h=$.map(((t,e)=>{const n=f[e],{direction:r}=n,{width:o}=w[e].getBBox(),{width:i,height:l}=t.getBBox(),a=Math.max(o,i);return{...n,x4:n.x4+a*r,x5:n.x4+a*r,textCategoryYOffset:-d/6,textNameYOffset:"name"===n.category?l/4:d/3}})))},[p,w,$,f,h,d,m,g,v,y,r,o,i,l,a,s,u,c,function(e){J.call(this,t,e)},function(e){J.call(this,t,e)},function(t,e){et[t?"unshift":"push"]((()=>{w[e]=t,n(1,w),n(3,f),n(10,r),n(16,u),n(14,a),n(5,d),n(11,o),n(7,g),n(6,m),n(17,c),n(0,p),n(8,v),n(12,i),n(13,l),n(15,s),n(9,y),n(1,w),n(2,$)}))},function(t,e){et[t?"unshift":"push"]((()=>{$[e]=t,n(2,$),n(3,f),n(10,r),n(16,u),n(14,a),n(5,d),n(11,o),n(7,g),n(6,m),n(17,c),n(0,p),n(8,v),n(12,i),n(13,l),n(15,s),n(9,y),n(1,w),n(2,$)}))}]}class xd extends Bt{constructor(t){super(),Tt(this,t,bd,yd,a,{data:0,tagHeight:5,tagGap:6,tagOffset:7,mapWidth:8,mapHeight:9})}}function kd(e){let n,r,o,i;return n=new bh({props:{data:Sh}}),o=new bh({props:{data:Sh}}),{c(){Nt(n.$$.fragment),r=A(" Press Shift to pan and zoom the map. "),Nt(o.$$.fragment)},m(t,e){Rt(n,t,e),k(t,r,e),Rt(o,t,e),i=!0},p:t,i(t){i||(wt(n.$$.fragment,t),wt(o.$$.fragment,t),i=!0)},o(t){$t(n.$$.fragment,t),$t(o.$$.fragment,t),i=!1},d(t){Ot(n,t),t&&C(r),Ot(o,t)}}}function Cd(e){let n;return{c(){n=A("Use two fingers to pan and zoom the map.")},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&C(n)}}}function Md(t){let e,n,r,o,i,l;const a=[Cd,kd],s=[];function u(t,e){return"mobile"===t[0]?0:"desktop"===t[0]?1:-1}return~(r=u(t))&&(o=s[r]=a[r](t)),{c(){e=S("div"),n=S("div"),o&&o.c(),z(n,"class","content svelte-veoim2"),z(e,"class","gesture-note svelte-veoim2")},m(t,o){k(t,e,o),x(e,n),~r&&s[r].m(n,null),l=!0},p(t,[e]){let i=r;r=u(t),r===i?~r&&s[r].p(t,e):(o&&(vt(),$t(s[i],1,1,(()=>{s[i]=null})),yt()),~r?(o=s[r],o?o.p(t,e):(o=s[r]=a[r](t),o.c()),wt(o,1),o.m(n,null)):o=null)},i(t){l||(wt(o),lt((()=>{i||(i=kt(e,Kf,{},!0)),i.run(1)})),l=!0)},o(t){$t(o),i||(i=kt(e,Kf,{},!1)),i.run(0),l=!1},d(t){t&&C(e),~r&&s[r].d(),t&&i&&i.end()}}}function Sd(t,e,n){let{mode:r="mobile"}=e;return t.$$set=t=>{"mode"in t&&n(0,r=t.mode)},[r]}class Ed extends Bt{constructor(t){super(),Tt(this,t,Sd,Md,a,{mode:0})}}const{Map:Ad}=Ct;function jd(t,e,n){const r=t.slice();return r[56]=e[n],r}function Nd(t,e,n){const r=t.slice();return r[59]=e[n],r}function Rd(t,e,n){const r=t.slice();return r[62]=e[n],r}function Od(t,e,n){const r=t.slice();return r[65]=e[n],r}function zd(t,e,n){const r=t.slice();return r[65]=e[n],r}function Td(t){let e,n;return e=new Ed({props:{mode:t[0]?"mobile":"desktop"}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.mode=t[0]?"mobile":"desktop"),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Bd(t){let e,n;return e=new zp({}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Ld(t){let e,n;return e=new Fp({props:{statusFilter:hc,countryFilter:pc,fullStatusRollup:Ef,statusRollup:Bf,totalCountries:t[9]}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};512&n[0]&&(r.totalCountries=t[9]),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Pd(t){let e,n;function r(...e){return t[32](t[65],...e)}function o(...e){return t[33](t[65],...e)}return e=new Gp({props:{path:t[65].path,color:t[1].find(r)?.categories[t[11]].color,strokeColor:Lt.gray,fallbackFillColor:Lt.lightgray,fillOpacity:t[1].find(o)?.show?1:.1,mode:"country"===t[65].status?"area":"stroke"}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(n,i){t=n;const l={};1024&i[0]&&(l.path=t[65].path),3074&i[0]&&(l.color=t[1].find(r)?.categories[t[11]].color),1026&i[0]&&(l.fillOpacity=t[1].find(o)?.show?1:.1),1024&i[0]&&(l.mode="country"===t[65].status?"area":"stroke"),e.$set(l)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Fd(t){let e,n,r=t[10],o=[];for(let e=0;e<r.length;e+=1)o[e]=Pd(zd(t,r,e));const i=t=>$t(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=N()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);k(t,e,r),n=!0},p(t,n){if(3074&n[0]){let l;for(r=t[10],l=0;l<r.length;l+=1){const i=zd(t,r,l);o[l]?(o[l].p(i,n),wt(o[l],1)):(o[l]=Pd(i),o[l].c(),wt(o[l],1),o[l].m(e.parentNode,e))}for(vt(),l=r.length;l<o.length;l+=1)i(l);yt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)wt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)$t(o[t]);n=!1},d(t){M(o,t),t&&C(e)}}}function Hd(t,e){let n,r,o;return r=new Qp({props:{dataCountry:e[65],radius:e[7],color:e[65].categories[e[11]].color,opacity:e[65].show?1:0,isReactive:e[65].show,inverted:"region"===e[65].status,offset:e[13].k>e[6].k*Yd?[0,0]:e[65].offset}}),r.$on("mouseenter",(function(...t){return e[34](e[65],...t)})),r.$on("mouseleave",(function(...t){return e[35](e[65],...t)})),r.$on("touchstart",(function(...t){return e[36](e[65],...t)})),r.$on("click",(function(...t){return e[37](e[65],...t)})),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};4096&n[0]&&(o.dataCountry=e[65]),128&n[0]&&(o.radius=e[7]),6144&n[0]&&(o.color=e[65].categories[e[11]].color),4096&n[0]&&(o.opacity=e[65].show?1:0),4096&n[0]&&(o.isReactive=e[65].show),4096&n[0]&&(o.inverted="region"===e[65].status),12352&n[0]&&(o.offset=e[13].k>e[6].k*Yd?[0,0]:e[65].offset),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function Dd(t){let e,n;return e=new Qp({props:{dataCountry:t[62],radius:t[7],color:t[62].color,opacity:t[62].show?1:0,isReactive:t[62].show,isCluster:!0}}),e.$on("mouseenter",(function(...e){return t[38](t[62],...e)})),e.$on("mouseleave",(function(...e){return t[39](t[62],...e)})),e.$on("click",(function(){return t[40](t[62])})),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(n,r){t=n;const o={};16384&r[0]&&(o.dataCountry=t[62]),128&r[0]&&(o.radius=t[7]),16384&r[0]&&(o.color=t[62].color),16384&r[0]&&(o.opacity=t[62].show?1:0),16384&r[0]&&(o.isReactive=t[62].show),e.$set(o)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Id(t,e){let n,r,o,i=e[13].k<e[6].k*Yd&&Dd(e);return{key:t,first:null,c(){n=N(),i&&i.c(),r=N(),this.first=n},m(t,e){k(t,n,e),i&&i.m(t,e),k(t,r,e),o=!0},p(t,n){(e=t)[13].k<e[6].k*Yd?i?(i.p(e,n),8256&n[0]&&wt(i,1)):(i=Dd(e),i.c(),wt(i,1),i.m(r.parentNode,r)):i&&(vt(),$t(i,1,1,(()=>{i=null})),yt())},i(t){o||(wt(i),o=!0)},o(t){$t(i),o=!1},d(t){t&&C(n),i&&i.d(t),t&&C(r)}}}function qd(t,e){let n,r,o;function i(...t){return e[42](e[59],...t)}return r=new fd({props:{data:e[12].find(i),mapWidth:e[2],mapHeight:e[3]}}),r.$on("mouseenter",(function(...t){return e[43](e[59],...t)})),r.$on("mouseleave",(function(...t){return e[44](e[59],...t)})),r.$on("tagclick",e[26]),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};36864&n[0]&&(o.data=e[12].find(i)),4&n[0]&&(o.mapWidth=e[2]),8&n[0]&&(o.mapHeight=e[3]),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function Ud(t,e){let n,r,o;function i(...t){return e[45](e[56],...t)}return r=new xd({props:{data:e[14].find(i),mapWidth:e[2],mapHeight:e[3]}}),r.$on("mouseenter",(function(...t){return e[46](e[56],...t)})),r.$on("mouseleave",(function(...t){return e[47](e[56],...t)})),{key:t,first:null,c(){n=N(),Nt(r.$$.fragment),this.first=n},m(t,e){k(t,n,e),Rt(r,t,e),o=!0},p(t,n){e=t;const o={};81920&n[0]&&(o.data=e[14].find(i)),4&n[0]&&(o.mapWidth=e[2]),8&n[0]&&(o.mapHeight=e[3]),r.$set(o)},i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r,t)}}}function Wd(t){let e,n,r,o,l,a,s,u,c,f,h,p,d,m,g,v,y,w,$,_,b=[],M=new Ad,A=[],O=new Ad,T=[],B=new Ad,L=[],F=new Ad,D=t[5]&&Td(t);r=new Np({}),r.$on("reset",t[18]),r.$on("plus",t[19]),r.$on("minus",t[20]);let I=t[8]&&Bd(),q=!t[0]&&Ld(t);s=new Ip({props:{width:t[2],height:t[3],center:!1,$$slots:{default:[Fd]},$$scope:{ctx:t}}});let U=t[12];const W=t=>t[65].orderId;for(let e=0;e<U.length;e+=1){let n=Od(t,U,e),r=W(n);M.set(r,b[e]=Hd(r,n))}let Y=t[14];const G=t=>t[62].id;for(let e=0;e<Y.length;e+=1){let n=Rd(t,Y,e),r=G(n);O.set(r,A[e]=Id(r,n))}let X=t[15];const V=t=>t[59];for(let e=0;e<X.length;e+=1){let n=Nd(t,X,e),r=V(n);B.set(r,T[e]=qd(r,n))}let K=t[16];const Z=t=>t[56];for(let e=0;e<K.length;e+=1){let n=jd(t,K,e),r=Z(n);F.set(r,L[e]=Ud(r,n))}return{c(){e=S("div"),D&&D.c(),n=j(),Nt(r.$$.fragment),o=j(),I&&I.c(),l=j(),q&&q.c(),a=j(),u=S("div"),Nt(s.$$.fragment),c=j(),f=E("svg");for(let t=0;t<b.length;t+=1)b[t].c();h=N();for(let t=0;t<A.length;t+=1)A[t].c();d=j(),m=E("svg");for(let t=0;t<T.length;t+=1)T[t].c();g=N();for(let t=0;t<L.length;t+=1)L[t].c();P(u,"display","contents"),P(u,"--position","absolute"),P(u,"--z-index","0"),z(f,"width",t[2]),z(f,"height",t[3]),z(f,"viewBox",p="0 0 "+t[2]+" "+t[3]),z(f,"class","svelte-1r1jv7l"),z(m,"class","top svelte-1r1jv7l"),z(m,"width",t[2]),z(m,"height",t[3]),z(m,"viewBox",v="0 0 "+t[2]+" "+t[3]),z(e,"class","map svelte-1r1jv7l"),lt((()=>t[48].call(e)))},m(i,p){k(i,e,p),D&&D.m(e,null),x(e,n),Rt(r,e,null),x(e,o),I&&I.m(e,null),x(e,l),q&&q.m(e,null),x(e,a),x(e,u),Rt(s,u,null),x(e,c),x(e,f);for(let t=0;t<b.length;t+=1)b[t].m(f,null);x(f,h);for(let t=0;t<A.length;t+=1)A[t].m(f,null);t[41](f),x(e,d),x(e,m);for(let t=0;t<T.length;t+=1)T[t].m(m,null);x(m,g);for(let t=0;t<L.length;t+=1)L[t].m(m,null);y=H(e,t[48].bind(e)),w=!0,$||(_=[R(window,"keydown",t[28]),R(window,"keyup",t[29]),R(window,"mousewheel",t[30]),R(e,"touchend",t[17]),R(e,"mousedown",t[31])],$=!0)},p(t,r){t[5]?D?(D.p(t,r),32&r[0]&&wt(D,1)):(D=Td(t),D.c(),wt(D,1),D.m(e,n)):D&&(vt(),$t(D,1,1,(()=>{D=null})),yt()),t[8]?I?256&r[0]&&wt(I,1):(I=Bd(),I.c(),wt(I,1),I.m(e,l)):I&&(vt(),$t(I,1,1,(()=>{I=null})),yt()),t[0]?q&&(vt(),$t(q,1,1,(()=>{q=null})),yt()):q?(q.p(t,r),1&r[0]&&wt(q,1)):(q=Ld(t),q.c(),wt(q,1),q.m(e,a));const o={};4&r[0]&&(o.width=t[2]),8&r[0]&&(o.height=t[3]),3074&r[0]|256&r[2]&&(o.$$scope={dirty:r,ctx:t}),s.$set(o),14694592&r[0]&&(U=t[12],vt(),b=Et(b,r,W,1,t,U,M,f,St,Hd,h,Od),yt()),184574156&r[0]&&(Y=t[14],vt(),A=Et(A,r,G,1,t,Y,O,f,St,Id,null,Rd),yt()),(!w||4&r[0])&&z(f,"width",t[2]),(!w||8&r[0])&&z(f,"height",t[3]),(!w||12&r[0]&&p!==(p="0 0 "+t[2]+" "+t[3]))&&z(f,"viewBox",p),73437196&r[0]&&(X=t[15],vt(),T=Et(T,r,V,1,t,X,B,m,St,qd,g,Nd),yt()),50413580&r[0]&&(K=t[16],vt(),L=Et(L,r,Z,1,t,K,F,m,St,Ud,null,jd),yt()),(!w||4&r[0])&&z(m,"width",t[2]),(!w||8&r[0])&&z(m,"height",t[3]),(!w||12&r[0]&&v!==(v="0 0 "+t[2]+" "+t[3]))&&z(m,"viewBox",v)},i(t){if(!w){wt(D),wt(r.$$.fragment,t),wt(I),wt(q),wt(s.$$.fragment,t);for(let t=0;t<U.length;t+=1)wt(b[t]);for(let t=0;t<Y.length;t+=1)wt(A[t]);for(let t=0;t<X.length;t+=1)wt(T[t]);for(let t=0;t<K.length;t+=1)wt(L[t]);w=!0}},o(t){$t(D),$t(r.$$.fragment,t),$t(I),$t(q),$t(s.$$.fragment,t);for(let t=0;t<b.length;t+=1)$t(b[t]);for(let t=0;t<A.length;t+=1)$t(A[t]);for(let t=0;t<T.length;t+=1)$t(T[t]);for(let t=0;t<L.length;t+=1)$t(L[t]);w=!1},d(n){n&&C(e),D&&D.d(),Ot(r),I&&I.d(),q&&q.d(),Ot(s);for(let t=0;t<b.length;t+=1)b[t].d();for(let t=0;t<A.length;t+=1)A[t].d();t[41](null);for(let t=0;t<T.length;t+=1)T[t].d();for(let t=0;t<L.length;t+=1)L[t].d();y(),$=!1,i(_)}}}const Yd=4;function Gd(t,e,n){let r,o,i,l,a,s,c,f,h,p,d,m,g,v,y;u(t,Ut,(t=>n(0,o=t))),u(t,mf,(t=>n(6,i=t))),u(t,Hc,(t=>n(1,l=t))),u(t,hf,(t=>n(2,a=t))),u(t,pf,(t=>n(3,s=t))),u(t,xc,(t=>n(8,c=t))),u(t,qf,(t=>n(9,f=t))),u(t,wf,(t=>n(10,h=t))),u(t,_f,(t=>n(11,p=t))),u(t,bf,(t=>n(12,d=t))),u(t,gf,(t=>n(13,m=t))),u(t,xf,(t=>n(14,g=t))),u(t,kf,(t=>n(15,v=t))),u(t,Ep,(t=>n(16,y=t)));let w=!1;const $=function(){var t,e,n,r=ca,o=fa,i=ma,l=pa,a=da,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=zr,h=Qt("start","zoom","end"),p=500,d=0,m=10;function g(t){t.property("__zoom",ha).on("wheel.zoom",x).on("mousedown.zoom",k).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new la(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new la(t.k,r,o)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function $(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,i=arguments,l=_(t,i).event(r),a=o.apply(t,i),s=null==n?w(a):"function"==typeof n?n.apply(t,i):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,i):e,p=f(c.invert(s).concat(u/c.k),h.invert(s).concat(u/h.k));return function(t){if(1===t)t=h;else{var e=p(t),n=u/e[2];t=new la(n,s[0]-e[0]*n,s[1]-e[1]*n)}l.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=o.apply(t,e),this.taps=0}function x(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),o=this.__zoom,a=Math.max(s[0],Math.min(s[1],o.k*Math.pow(2,l.apply(this,arguments)))),c=yn(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=o.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(o.k===a)return;n.mouse=[c,o.invert(c)],ro(this),n.start()}ua(t),n.wheel=setTimeout(f,150),n.zoom("mouse",i(y(v(o,a),n.mouse[0],n.mouse[1]),n.extent,u))}function f(){n.wheel=null,n.end()}}function k(t,...e){if(!n&&r.apply(this,arguments)){var o=_(this,e,!0).event(t),l=vn(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),a=yn(t,s),s=t.currentTarget,c=t.clientX,f=t.clientY;$n(t.view),sa(t),o.mouse=[a,this.__zoom.invert(a)],ro(this),o.start()}function h(t){if(ua(t),!o.moved){var e=t.clientX-c,n=t.clientY-f;o.moved=e*e+n*n>d}o.event(t).zoom("mouse",i(y(o.that.__zoom,o.mouse[0]=yn(t,s),o.mouse[1]),o.extent,u))}function p(t){l.on("mousemove.zoom mouseup.zoom",null),_n(t.view,o.moved),ua(t),o.event(t).end()}}function C(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,l=yn(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(l),s=n.k*(t.shiftKey?.5:2),f=i(y(v(n,s),l,a),o.apply(this,e),u);ua(t),c>0?vn(this).transition().duration(c).call($,f,l,t):vn(this).call(g.transform,f,l,t)}}function M(n,...o){if(r.apply(this,arguments)){var i,l,a,s,u=n.touches,c=u.length,f=_(this,o,n.changedTouches.length===c).event(n);for(sa(n),l=0;l<c;++l)s=[s=yn(a=u[l],this),this.__zoom.invert(s),a.identifier],f.touch0?f.touch1||f.touch0[2]===s[2]||(f.touch1=s,f.taps=0):(f.touch0=s,i=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(f.taps<2&&(e=s[0],t=setTimeout((function(){t=null}),p)),ro(this),f.start())}}function S(t,...e){if(this.__zooming){var n,r,o,l,a=_(this,e).event(t),s=t.changedTouches,c=s.length;for(ua(t),n=0;n<c;++n)o=yn(r=s[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=o:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=o);if(r=a.that.__zoom,a.touch1){var f=a.touch0[0],h=a.touch0[1],p=a.touch1[0],d=a.touch1[1],m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m,g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g;r=v(r,Math.sqrt(m/g)),o=[(f[0]+p[0])/2,(f[1]+p[1])/2],l=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;o=a.touch0[0],l=a.touch0[1]}a.zoom("touch",i(y(r,o,l),a.extent,u))}}function E(t,...r){if(this.__zooming){var o,i,l=_(this,r).event(t),a=t.changedTouches,s=a.length;for(sa(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),o=0;o<s;++o)i=a[o],l.touch0&&l.touch0[2]===i.identifier?delete l.touch0:l.touch1&&l.touch1[2]===i.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(i=yn(i,this),Math.hypot(e[0]-i[0],e[1]-i[1])<m)){var u=vn(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var o=t.selection?t.selection():t;o.property("__zoom",ha),t!==o?$(t,e,n,r):o.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=o.apply(this,arguments),r=this.__zoom,l=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(l),s="function"==typeof e?e.apply(this,arguments):e;return i(y(v(r,s),l,a),t,u)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),u)}),null,r)},g.translateTo=function(t,e,n,r,l){g.transform(t,(function(){var t=o.apply(this,arguments),l=this.__zoom,a=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return i(aa.translate(a[0],a[1]).scale(l.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,l)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=vn(this.that).datum();h.call(t,this.that,new ia(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),e)}},g.wheelDelta=function(t){return arguments.length?(l="function"==typeof t?t:oa(+t),g):l},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:oa(!!t),g):r},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:oa(!!t),g):a},g.extent=function(t){return arguments.length?(o="function"==typeof t?t:oa([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):o},g.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],g):[s[0],s[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(c=+t,g):c},g.interpolate=function(t){return arguments.length?(f=t,g):f},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,g):Math.sqrt(d)},g.tapDistance=function(t){return arguments.length?(m=+t,g):m},g}().filter((t=>!(t.touches&&t.touches.length<=1)&&!(!o&&!w))).on("start",(()=>!0)).on("zoom",(t=>{gf.set(t.transform)})).on("end",(()=>!1));let _,b,x,k=!1,C=0;const M=(t=2e3)=>{n(5,k=!0),C++,clearTimeout(x),setTimeout((()=>n(5,k=!1)),t)};function S({animation:t=!0}={}){b&&(t?b.transition().duration(400).call($.transform,i):b.call($.transform,i))}function E(t,e){t.touches||(t.preventDefault(),t.stopPropagation(),kf.add(e))}function A(t,e){t.touches||(t.preventDefault(),t.stopPropagation(),kf.remove(e))}function j(t,e){t.touches&&t.touches.length>1||(t.preventDefault(),t.stopPropagation(),Cf.set(e))}function N(t,e){t.touches||(t.preventDefault(),t.stopPropagation(),Ep.add(e))}function R(t,e){t.touches||(t.preventDefault(),t.stopPropagation(),Ep.remove(e))}function O(t,e,n,r,o,i){const l=e/n.k,a=(n.x-t[0])*l+o/2,s=(n.y-t[1])*l+i/2,u=aa.translate(a,s).scale(e);b.transition().duration(400).call($.transform,u)}K((()=>{b=vn(_),b.call($),S({animation:!1})})),Z((()=>clearTimeout(x)));return t.$$.update=()=>{15&t.$$.dirty[0]&&l&&!o&&a&&s&&S({animation:l.length}),12&t.$$.dirty[0]&&n(7,r=Math.max(8,Math.min(14,.008*Math.max(a,s))))},[o,l,a,s,_,k,i,r,c,f,h,p,d,m,g,v,y,function(t){C<2&&t.touches&&t.touches.length<=1?M():n(5,k=!1)},S,function(){b&&b.transition().duration(400).call($.scaleBy,2)},function(){b&&b.transition().duration(400).call($.scaleBy,.5)},E,A,j,N,R,function(t){const{detail:{category:e,name:n}}=t;bc(),_c(e,n)},O,function(t){["Shift","Meta","Control"].includes(t.key)&&(w=!0)},function(t){["Shift","Meta","Control"].includes(t.key)&&(w=!1)},function(){!w&&C<1e3&&M()},function(){!w&&C<10&&M()},(t,e)=>e.name.name===t.name,(t,e)=>e.name.name===t.name,(t,e)=>E(e,t.id),(t,e)=>A(e,t.id),(t,e)=>j(e,t.id),(t,e)=>j(e,t.id),(t,e)=>N(e,t.id),(t,e)=>R(e,t.id),t=>O(t.centroid,i.k*(Yd+.1),m,0,a,s),function(t){et[t?"unshift":"push"]((()=>{_=t,n(4,_)}))},(t,e)=>e.id===t,(t,e)=>E(e,t),(t,e)=>A(e,t),(t,e)=>e.id===t,(t,e)=>N(e,t),(t,e)=>R(e,t),function(){a=this.clientWidth,hf.set(a),s=this.clientHeight,pf.set(s)}]}class Xd extends Bt{constructor(t){super(),Tt(this,t,Gd,Wd,a,{},[-1,-1,-1])}}function Vd(t,e,n){const r=t.slice();return r[8]=e[n],r}function Kd(t){let e,n,r=t[4].title+"";return{c(){e=S("div"),n=A(r),z(e,"class","title svelte-11mrfo3")},m(t,r){k(t,e,r),x(e,n)},p(t,e){16&e&&r!==(r=t[4].title+"")&&B(n,r)},d(t){t&&C(e)}}}function Zd(t){let e,n=t[4].categories,r=[];for(let e=0;e<n.length;e+=1)r[e]=Qd(Vd(t,n,e));return{c(){e=S("table");for(let t=0;t<r.length;t+=1)r[t].c();z(e,"class","svelte-11mrfo3")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(16&o){let i;for(n=t[4].categories,i=0;i<n.length;i+=1){const l=Vd(t,n,i);r[i]?r[i].p(l,o):(r[i]=Qd(l),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&C(e),M(r,t)}}}function Qd(t){let e,n,r,o,i,l,a,s=t[8].name+"",u=t[8].definition+"";return{c(){e=S("tr"),n=S("td"),r=A(s),o=j(),i=S("td"),l=A(u),a=j(),z(n,"class","svelte-11mrfo3"),z(i,"class","svelte-11mrfo3")},m(t,s){k(t,e,s),x(e,n),x(n,r),x(e,o),x(e,i),x(i,l),x(e,a)},p(t,e){16&e&&s!==(s=t[8].name+"")&&B(r,s),16&e&&u!==(u=t[8].definition+"")&&B(l,u)},d(t){t&&C(e)}}}function Jd(t){let e,n,r=t[4].chart_note+"";return{c(){e=S("div"),n=A(r),z(e,"class","chart-note svelte-11mrfo3")},m(t,r){k(t,e,r),x(e,n)},p(t,e){16&e&&r!==(r=t[4].chart_note+"")&&B(n,r)},d(t){t&&C(e)}}}function tm(t){let e,n,r,o,i,a,s,u,c,f,h,d,m,g,v,y,w=t[4].name+"",$=t[4].title&&Kd(t),_=t[4].categories&&Zd(t),b=t[4].chart_note&&Jd(t);return{c(){e=S("div"),n=S("div"),r=j(),o=S("div"),i=S("div"),a=S("h3"),s=A(w),u=j(),$&&$.c(),c=j(),_&&_.c(),f=j(),b&&b.c(),z(n,"class","background svelte-11mrfo3"),z(a,"class","svelte-11mrfo3"),z(i,"class","header svelte-11mrfo3"),z(o,"class","content svelte-11mrfo3"),lt((()=>t[7].call(o))),z(e,"class","tooltip svelte-11mrfo3")},m(l,m){k(l,e,m),x(e,n),x(e,r),x(e,o),x(o,i),x(i,a),x(a,s),x(o,u),$&&$.m(o,null),x(o,c),_&&_.m(o,null),x(o,f),b&&b.m(o,null),h=H(o,t[7].bind(o)),g=!0,v||(y=p(d=Ft.call(null,e,{x:t[2]+"px",y:t[3]+"px",width:t[0]+"px",height:t[1]+"px"})),v=!0)},p(t,[e]){(!g||16&e)&&w!==(w=t[4].name+"")&&B(s,w),t[4].title?$?$.p(t,e):($=Kd(t),$.c(),$.m(o,c)):$&&($.d(1),$=null),t[4].categories?_?_.p(t,e):(_=Zd(t),_.c(),_.m(o,f)):_&&(_.d(1),_=null),t[4].chart_note?b?b.p(t,e):(b=Jd(t),b.c(),b.m(o,null)):b&&(b.d(1),b=null),d&&l(d.update)&&15&e&&d.update.call(null,{x:t[2]+"px",y:t[3]+"px",width:t[0]+"px",height:t[1]+"px"})},i(t){g||(lt((()=>{m||(m=kt(e,Kf,{duration:200},!0)),m.run(1)})),g=!0)},o(t){m||(m=kt(e,Kf,{duration:200},!1)),m.run(0),g=!1},d(t){t&&C(e),$&&$.d(),_&&_.d(),b&&b.d(),h(),t&&m&&m.end(),v=!1,y()}}}function em(t,e,n){let r,o,i,l,{tooltip:a={}}=e,{maxWidth:s=0}=e,u=0;return t.$$set=t=>{"tooltip"in t&&n(5,a=t.tooltip),"maxWidth"in t&&n(6,s=t.maxWidth)},t.$$.update=()=>{64&t.$$.dirty&&n(0,r=Math.min(300,s-20)),97&t.$$.dirty&&n(2,o=a.x-r/2<10?r/2+10:a.x+r/2>s-10?s-10-r/2:a.x),32&t.$$.dirty&&n(3,i=a.y+20),32&t.$$.dirty&&n(4,l=a.info)},[r,u,o,i,l,a,s,function(){u=this.clientHeight,n(1,u)}]}class nm extends Bt{constructor(t){super(),Tt(this,t,em,tm,a,{tooltip:5,maxWidth:6})}}function rm(t){let e,n,r,o,i,l,a,s,u,f,p,d,m;const g=t[3].default,v=c(g,t,t[2],null);return l=new bh({props:{data:Eh}}),f=new bh({props:{data:Ah}}),{c(){e=S("div"),n=S("div"),v&&v.c(),r=j(),o=S("div"),i=S("a"),Nt(l.$$.fragment),s=j(),u=S("a"),Nt(f.$$.fragment),z(n,"class","label svelte-6ko2kc"),z(i,"class","twitter svelte-6ko2kc"),z(i,"href",a="https://twitter.com/intent/tweet?url="+encodeURIComponent(t[1])),z(i,"target","_blank"),z(i,"title","Share this view via Twitter"),z(u,"class","copy svelte-6ko2kc"),z(u,"href","javascript:void(0)"),z(u,"title","Copy this view to clipboard"),z(o,"class","buttons svelte-6ko2kc"),z(e,"class","share svelte-6ko2kc"),D(e,"inverted",t[0])},m(a,c){k(a,e,c),x(e,n),v&&v.m(n,null),x(e,r),x(e,o),x(o,i),Rt(l,i,null),x(o,s),x(o,u),Rt(f,u,null),p=!0,d||(m=R(u,"click",t[4]),d=!0)},p(t,[n]){v&&v.p&&(!p||4&n)&&h(v,g,t,t[2],p?n:-1,null,null),(!p||2&n&&a!==(a="https://twitter.com/intent/tweet?url="+encodeURIComponent(t[1])))&&z(i,"href",a),1&n&&D(e,"inverted",t[0])},i(t){p||(wt(v,t),wt(l.$$.fragment,t),wt(f.$$.fragment,t),p=!0)},o(t){$t(v,t),$t(l.$$.fragment,t),$t(f.$$.fragment,t),p=!1},d(t){t&&C(e),v&&v.d(t),Ot(l),Ot(f),d=!1,m()}}}function om(t,e,n){let r;u(t,Gf,(t=>n(1,r=t)));let{$$slots:o={},$$scope:i}=e,{inverted:l=!1}=e;return t.$$set=t=>{"inverted"in t&&n(0,l=t.inverted),"$$scope"in t&&n(2,i=t.$$scope)},[l,r,i,o,()=>async function(t){await navigator.clipboard.writeText(t)}(r)]}class im extends Bt{constructor(t){super(),Tt(this,t,om,rm,a,{inverted:0})}}function lm(t,e,n){const r=t.slice();return r[10]=e[n],r}function am(t,e,n){const r=t.slice();return r[13]=e[n],r}function sm(e){let n,r,o,i,l;return{c(){n=S("button"),n.innerHTML='<span class="svelte-1xg4kuc">+</span>',z(n,"class","close-button overlay svelte-1xg4kuc")},m(t,r){k(t,n,r),o=!0,i||(l=R(n,"click",e[4]),i=!0)},p:t,i(t){o||(lt((()=>{r||(r=kt(n,Kf,{},!0)),r.run(1)})),o=!0)},o(t){r||(r=kt(n,Kf,{},!1)),r.run(0),o=!1},d(t){t&&C(n),t&&r&&r.end(),i=!1,l()}}}function um(t){let e,n,r,o=t[0].currency_name+"";return{c(){e=S("h2"),n=A("Project Name  "),r=A(o),z(e,"class","svelte-1xg4kuc")},m(t,o){k(t,e,o),x(e,n),x(e,r)},p(t,e){1&e&&o!==(o=t[0].currency_name+"")&&B(r,o)},d(t){t&&C(e)}}}function cm(t){let e,n,r=t[13].name+"";return{c(){e=S("span"),n=A(r),z(e,"class","svelte-1xg4kuc")},m(t,r){k(t,e,r),x(e,n)},p(t,e){4&e&&r!==(r=t[13].name+"")&&B(n,r)},d(t){t&&C(e)}}}function fm(t){let e,n,r,o,i=t[13].name+"";function l(){return t[8](t[13])}return{c(){e=S("button"),n=A(i),z(e,"class","chip svelte-1xg4kuc")},m(t,i){k(t,e,i),x(e,n),r||(o=R(e,"click",l),r=!0)},p(e,r){t=e,4&r&&i!==(i=t[13].name+"")&&B(n,i)},d(t){t&&C(e),r=!1,o()}}}function hm(t,e){let n,r,o,i,a,s,u,c,f=e[13].title+"";function h(t,e){return t[13].filterable?fm:cm}let d=h(e),m=d(e);return{key:t,first:null,c(){n=S("div"),r=S("h3"),o=A(f),i=j(),m.c(),a=j(),z(r,"class","svelte-1xg4kuc"),z(n,"class","category svelte-1xg4kuc"),this.first=n},m(t,l){k(t,n,l),x(n,r),x(r,o),x(n,i),m.m(n,null),x(n,a),u||(c=p(s=Ft.call(null,n,{chipColor:e[13].color})),u=!0)},p(t,r){e=t,4&r&&f!==(f=e[13].title+"")&&B(o,f),d===(d=h(e))&&m?m.p(e,r):(m.d(1),m=d(e),m&&(m.c(),m.m(n,a))),s&&l(s.update)&&4&r&&s.update.call(null,{chipColor:e[13].color})},d(t){t&&C(n),m.d(),u=!1,c()}}}function pm(t){let e,n,r,o=t[0].sources.central_bank_name+"";return{c(){e=S("a"),n=A(o),z(e,"href",r=t[0].sources.central_bank_url),z(e,"target","_blank"),z(e,"class","svelte-1xg4kuc")},m(t,r){k(t,e,r),x(e,n)},p(t,i){1&i&&o!==(o=t[0].sources.central_bank_name+"")&&B(n,o),1&i&&r!==(r=t[0].sources.central_bank_url)&&z(e,"href",r)},d(t){t&&C(e)}}}function dm(t){let e,n=t[0].sources.media_urls,r=[];for(let e=0;e<n.length;e+=1)r[e]=mm(lm(t,n,e));return{c(){e=S("ul");for(let t=0;t<r.length;t+=1)r[t].c();z(e,"class","media-sources svelte-1xg4kuc")},m(t,n){k(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,o){if(1&o){let i;for(n=t[0].sources.media_urls,i=0;i<n.length;i+=1){const l=lm(t,n,i);r[i]?r[i].p(l,o):(r[i]=mm(l),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){t&&C(e),M(r,t)}}}function mm(t){let e,n,r,o,i=cc(t[10])+"";return{c(){e=S("li"),n=S("a"),r=A(i),z(n,"href",o=t[10]),z(n,"target","_blank"),z(n,"class","svelte-1xg4kuc"),z(e,"class","svelte-1xg4kuc")},m(t,o){k(t,e,o),x(e,n),x(n,r)},p(t,e){1&e&&i!==(i=cc(t[10])+"")&&B(r,i),1&e&&o!==(o=t[10])&&z(n,"href",o)},d(t){t&&C(e)}}}function gm(t){let e,n,r,o,a,s,u,c,f,h,d,m,g,v,y,w,$,_,b,M,E,N,O,T,L,P,F,H,D,I,q,U,W,Y,G,X,V,K,Z,Q,J,tt,et,nt,rt=("United States of America"===t[0].name.name?"United States":t[0].name.name)+"",ot=t[0].overview+"",it=[],at=new Map,st=t[0].key_developments+"",ut=t[3]&&t[1]&&sm(t),ct=t[0].currency_name&&um(t),ft=t[2];const ht=t=>t[13].title;for(let e=0;e<ft.length;e+=1){let n=am(t,ft,e),r=ht(n);at.set(r,it[e]=hm(r,n))}let pt=t[0].sources.central_bank_name&&pm(t),dt=t[0].sources.media_urls.length&&dm(t);return Z=new im({}),{c(){e=S("div"),n=S("div"),r=j(),o=S("div"),ut&&ut.c(),a=j(),s=S("div"),u=S("div"),c=S("button"),c.innerHTML='<span class="svelte-1xg4kuc">+</span>',f=j(),h=S("div"),d=S("h1"),m=A(rt),g=j(),ct&&ct.c(),v=j(),y=S("p"),w=A(ot),$=j(),_=S("div"),b=S("div"),M=S("h2"),M.innerHTML='Properties<span class="small svelte-1xg4kuc">(Click to filter)</span>',E=j(),N=S("div");for(let t=0;t<it.length;t+=1)it[t].c();O=j(),T=S("main"),L=S("h2"),L.textContent="Key developments",P=j(),F=S("p"),H=j(),D=S("h4"),D.textContent="Sources",I=j(),q=S("div"),pt&&pt.c(),U=j(),W=S("p"),W.textContent="Atlantic Council Research",Y=j(),dt&&dt.c(),G=j(),X=S("h4"),X.textContent="Share",V=j(),K=S("div"),Nt(Z.$$.fragment),z(n,"class","modal-outer svelte-1xg4kuc"),z(c,"class","close-button svelte-1xg4kuc"),z(u,"class","header-top-line svelte-1xg4kuc"),z(d,"class","svelte-1xg4kuc"),z(y,"class","svelte-1xg4kuc"),z(h,"class","header-content svelte-1xg4kuc"),z(s,"class","header svelte-1xg4kuc"),z(M,"class","svelte-1xg4kuc"),z(N,"class","categories svelte-1xg4kuc"),z(b,"class","categories-wrapper svelte-1xg4kuc"),z(L,"class","svelte-1xg4kuc"),z(F,"class","svelte-1xg4kuc"),z(D,"class","svelte-1xg4kuc"),z(W,"class","svelte-1xg4kuc"),z(q,"class","sources svelte-1xg4kuc"),z(X,"class","svelte-1xg4kuc"),z(K,"class","share-panel svelte-1xg4kuc"),z(T,"class","svelte-1xg4kuc"),z(_,"class","body svelte-1xg4kuc"),z(o,"class","modal-inner svelte-1xg4kuc"),z(e,"class","modal svelte-1xg4kuc")},m(i,l){k(i,e,l),x(e,n),x(e,r),x(e,o),ut&&ut.m(o,null),x(o,a),x(o,s),x(s,u),x(u,c),x(s,f),x(s,h),x(h,d),x(d,m),x(h,g),ct&&ct.m(h,null),x(h,v),x(h,y),x(y,w),x(o,$),x(o,_),x(_,b),x(b,M),x(b,E),x(b,N);for(let t=0;t<it.length;t+=1)it[t].m(N,null);x(_,O),x(_,T),x(T,L),x(T,P),x(T,F),F.innerHTML=st,x(T,H),x(T,D),x(T,I),x(T,q),pt&&pt.m(q,null),x(q,U),x(q,W),x(q,Y),dt&&dt.m(q,null),x(T,G),x(T,X),x(T,V),x(T,K),Rt(Z,K,null),tt=!0,et||(nt=[R(window,"keydown",t[5]),R(n,"click",t[4]),R(c,"click",t[4]),R(o,"scroll",t[6]),p(Q=Ft.call(null,e,{statusColor:t[0].categories.new_status.color}))],et=!0)},p(t,[e]){t[3]&&t[1]?ut?(ut.p(t,e),10&e&&wt(ut,1)):(ut=sm(t),ut.c(),wt(ut,1),ut.m(o,a)):ut&&(vt(),$t(ut,1,1,(()=>{ut=null})),yt()),(!tt||1&e)&&rt!==(rt=("United States of America"===t[0].name.name?"United States":t[0].name.name)+"")&&B(m,rt),t[0].currency_name?ct?ct.p(t,e):(ct=um(t),ct.c(),ct.m(h,v)):ct&&(ct.d(1),ct=null),(!tt||1&e)&&ot!==(ot=t[0].overview+"")&&B(w,ot),132&e&&(ft=t[2],it=Et(it,e,ht,1,t,ft,at,N,Mt,hm,null,am)),(!tt||1&e)&&st!==(st=t[0].key_developments+"")&&(F.innerHTML=st),t[0].sources.central_bank_name?pt?pt.p(t,e):(pt=pm(t),pt.c(),pt.m(q,U)):pt&&(pt.d(1),pt=null),t[0].sources.media_urls.length?dt?dt.p(t,e):(dt=dm(t),dt.c(),dt.m(q,null)):dt&&(dt.d(1),dt=null),Q&&l(Q.update)&&1&e&&Q.update.call(null,{statusColor:t[0].categories.new_status.color})},i(t){tt||(wt(ut),wt(Z.$$.fragment,t),lt((()=>{J||(J=kt(e,Kf,{duration:200},!0)),J.run(1)})),tt=!0)},o(t){$t(ut),$t(Z.$$.fragment,t),J||(J=kt(e,Kf,{duration:200},!1)),J.run(0),tt=!1},d(t){t&&C(e),ut&&ut.d(),ct&&ct.d();for(let t=0;t<it.length;t+=1)it[t].d();pt&&pt.d(),dt&&dt.d(),Ot(Z),t&&J&&J.end(),et=!1,i(nt)}}}function vm(t,e,n){let r,o;u(t,Ut,(t=>n(3,o=t)));let{datum:i}=e;const l=Q();let a=!1;function s(){l("close")}function c(t,e){l("categoryclick",{category:t,name:e}),s()}return t.$$set=t=>{"datum"in t&&n(0,i=t.datum)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=Ju(Object.keys(i.categories).map((t=>({category:t,...i.categories[t]}))),"filterable","desc"))},[i,a,r,o,s,function(t){27===t.keyCode&&s()},function(){n(1,a=!0)},c,t=>c(t.category,t.name)]}class ym extends Bt{constructor(t){super(),Tt(this,t,vm,gm,a,{datum:0})}}function wm(t,e,n){const r=t.slice();return r[2]=e[n],r}function $m(t,e){let n,r,o,a,s,u,c,f,h,d,m,g,v=e[2].title+"",y=e[2].name+"";return{key:t,first:null,c(){n=S("div"),r=S("div"),o=S("span"),a=A(v),s=j(),u=S("span"),c=A(y),h=j(),z(o,"class","card-cat-title svelte-pnq7l3"),z(u,"class","chip svelte-pnq7l3"),z(r,"class","card-local-tag svelte-pnq7l3"),z(n,"class","card-global-tag svelte-pnq7l3"),this.first=n},m(t,i){k(t,n,i),x(n,r),x(r,o),x(o,a),x(r,s),x(r,u),x(u,c),x(n,h),m||(g=[p(f=Ft.call(null,r,{chipColor:e[2].color})),p(d=Ft.call(null,n,{chipColor:e[2].color}))],m=!0)},p(t,n){e=t,2&n&&v!==(v=e[2].title+"")&&B(a,v),2&n&&y!==(y=e[2].name+"")&&B(c,y),f&&l(f.update)&&2&n&&f.update.call(null,{chipColor:e[2].color}),d&&l(d.update)&&2&n&&d.update.call(null,{chipColor:e[2].color})},d(t){t&&C(n),m=!1,i(g)}}}function _m(e){let n,r,o,i,l,a,s,u,c,f,h,p,d,m,g,v,y,w,$=e[0].name+"",_=e[0].currency_name+"",b=e[0].overview_spotlight+"",M=e[0].key_developments_spotlight+"",E=[],N=new Map,R=e[1];const O=t=>t[2].title;for(let t=0;t<R.length;t+=1){let n=wm(e,R,t),r=O(n);N.set(r,E[t]=$m(r,n))}return{c(){n=S("div"),r=S("div"),o=S("div"),i=S("div"),l=A($),a=j(),s=S("div"),u=A(_),c=j(),f=S("div"),h=S("p"),p=A(b),d=j(),m=S("div"),g=S("p"),v=A(M),y=j(),w=S("div");for(let t=0;t<E.length;t+=1)E[t].c();z(i,"class","card-country svelte-pnq7l3"),z(s,"class","card-project svelte-pnq7l3"),z(o,"class","card-country-currency"),z(f,"class","card-overview svelte-pnq7l3"),z(r,"class","card-header svelte-pnq7l3"),z(g,"class","text-md svelte-pnq7l3"),z(m,"class","card-key-developments svelte-pnq7l3"),z(w,"class","card-tag-list svelte-pnq7l3"),z(n,"class","spotlight-card svelte-pnq7l3")},m(t,e){k(t,n,e),x(n,r),x(r,o),x(o,i),x(i,l),x(o,a),x(o,s),x(s,u),x(r,c),x(r,f),x(f,h),x(h,p),x(n,d),x(n,m),x(m,g),x(g,v),x(n,y),x(n,w);for(let t=0;t<E.length;t+=1)E[t].m(w,null)},p(t,[e]){1&e&&$!==($=t[0].name+"")&&B(l,$),1&e&&_!==(_=t[0].currency_name+"")&&B(u,_),1&e&&b!==(b=t[0].overview_spotlight+"")&&B(p,b),1&e&&M!==(M=t[0].key_developments_spotlight+"")&&B(v,M),2&e&&(R=t[1],E=Et(E,e,O,1,t,R,N,w,Mt,$m,null,wm))},i:t,o:t,d(t){t&&C(n);for(let t=0;t<E.length;t+=1)E[t].d()}}}function bm(t,e,n){let r,{datum:o}=e;return t.$$set=t=>{"datum"in t&&n(0,o=t.datum)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=Ju(Object.keys(o.categories).map((t=>({category:t,...o.categories[t]}))),"filterable","desc"))},[o,r]}class xm extends Bt{constructor(t){super(),Tt(this,t,bm,_m,a,{datum:0})}}const km=qt([Hc],(([t])=>t.filter((t=>""!==t.overview_spotlight&&""!==t.key_developments_spotlight)).map((t=>({...t,...t.name,...t.currency_name,...t.overview_spotlight,...t.key_developments_spotlight})))),[]);function Cm(t,e,n){const r=t.slice();return r[1]=e[n],r}function Mm(t){let e,n;return e=new xm({props:{datum:t[1]}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.datum=t[1]),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Sm(t){let e,n,r,o,i,l=t[0],a=[];for(let e=0;e<l.length;e+=1)a[e]=Mm(Cm(t,l,e));const s=t=>$t(a[t],1,1,(()=>{a[t]=null}));return{c(){e=S("div"),n=S("h1"),n.textContent="Country Spotlight",r=j(),o=S("div");for(let t=0;t<a.length;t+=1)a[t].c();z(n,"class","svelte-1quaows"),z(o,"class","spotlight-container svelte-1quaows"),z(e,"class","spotlight-section svelte-1quaows")},m(t,l){k(t,e,l),x(e,n),x(e,r),x(e,o);for(let t=0;t<a.length;t+=1)a[t].m(o,null);i=!0},p(t,[e]){if(1&e){let n;for(l=t[0],n=0;n<l.length;n+=1){const r=Cm(t,l,n);a[n]?(a[n].p(r,e),wt(a[n],1)):(a[n]=Mm(r),a[n].c(),wt(a[n],1),a[n].m(o,null))}for(vt(),n=l.length;n<a.length;n+=1)s(n);yt()}},i(t){if(!i){for(let t=0;t<l.length;t+=1)wt(a[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)$t(a[t]);i=!1},d(t){t&&C(e),M(a,t)}}}function Em(t,e,n){let r;return u(t,km,(t=>n(0,r=t))),K((()=>{})),[r]}class Am extends Bt{constructor(t){super(),Tt(this,t,Em,Sm,a,{})}}function jm(t){let e;return{c(){e=A("Share this view")},m(t,n){k(t,e,n)},d(t){t&&C(e)}}}function Nm(t){let e,n,r,o,i;return o=new im({props:{$$slots:{default:[jm]},$$scope:{ctx:t}}}),{c(){e=S("footer"),n=S("p"),n.textContent="Sources: Atlantic Council Research, Bank of International Settlements, International Monetary Fund, John Kiff Database",r=j(),Nt(o.$$.fragment),z(n,"class","sources svelte-1mi9zpl"),z(e,"class","svelte-1mi9zpl")},m(t,l){k(t,e,l),x(e,n),x(e,r),Rt(o,e,null),i=!0},p(t,[e]){const n={};1&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(t){i||(wt(o.$$.fragment,t),i=!0)},o(t){$t(o.$$.fragment,t),i=!1},d(t){t&&C(e),Ot(o)}}}class Rm extends Bt{constructor(t){super(),Tt(this,t,null,Nm,a,{})}}function Om(t){let e,n;return e=new nm({props:{tooltip:t[3],maxWidth:t[0]}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.tooltip=t[3]),1&n&&(r.maxWidth=t[0]),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function zm(t){let e,n;return e=new ym({props:{datum:t[2]}}),e.$on("categoryclick",t[7]),e.$on("close",t[10]),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.datum=t[2]),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Tm(t){let e,n;return e=new Fp({props:{statusFilter:hc,countryFilter:pc,fullStatusRollup:Ef,statusRollup:Bf,totalCountries:t[6]}}),{c(){Nt(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};64&n&&(r.totalCountries=t[6]),e.$set(r)},i(t){n||(wt(e.$$.fragment,t),n=!0)},o(t){$t(e.$$.fragment,t),n=!1},d(t){Ot(e,t)}}}function Bm(t){let e,n,r,o,i,l,a,s,u,c,f,h,d,m,g;n=new Sp({}),o=new Xd({});let v=t[3]&&Om(t),y=t[2]&&zm(t),w=t[5]&&Tm(t);return u=new Rm({}),f=new Am({}),{c(){e=S("div"),Nt(n.$$.fragment),r=j(),Nt(o.$$.fragment),i=j(),v&&v.c(),l=j(),y&&y.c(),a=j(),w&&w.c(),s=j(),Nt(u.$$.fragment),c=j(),Nt(f.$$.fragment),z(e,"class","component-wrapper svelte-ojv7nn"),lt((()=>t[11].call(e)))},m($,_){k($,e,_),Rt(n,e,null),x(e,r),Rt(o,e,null),x(e,i),v&&v.m(e,null),x(e,l),y&&y.m(e,null),x(e,a),w&&w.m(e,null),x(e,s),Rt(u,e,null),x(e,c),Rt(f,e,null),h=H(e,t[11].bind(e)),d=!0,m||(g=p(Ft.call(null,e,Lt)),m=!0)},p(t,[n]){t[3]?v?(v.p(t,n),8&n&&wt(v,1)):(v=Om(t),v.c(),wt(v,1),v.m(e,l)):v&&(vt(),$t(v,1,1,(()=>{v=null})),yt()),t[2]?y?(y.p(t,n),4&n&&wt(y,1)):(y=zm(t),y.c(),wt(y,1),y.m(e,a)):y&&(vt(),$t(y,1,1,(()=>{y=null})),yt()),t[5]?w?(w.p(t,n),32&n&&wt(w,1)):(w=Tm(t),w.c(),wt(w,1),w.m(e,s)):w&&(vt(),$t(w,1,1,(()=>{w=null})),yt())},i(t){d||(wt(n.$$.fragment,t),wt(o.$$.fragment,t),wt(v),wt(y),wt(w),wt(u.$$.fragment,t),wt(f.$$.fragment,t),d=!0)},o(t){$t(n.$$.fragment,t),$t(o.$$.fragment,t),$t(v),$t(y),$t(w),$t(u.$$.fragment,t),$t(f.$$.fragment,t),d=!1},d(t){t&&C(e),Ot(n),Ot(o),v&&v.d(),y&&y.d(),w&&w.d(),Ot(u),Ot(f),h(),m=!1,g()}}}function Lm(t,e,n){let r,o,i,l,a,s;u(t,Mf,(t=>n(2,r=t))),u(t,Hc,(t=>n(9,o=t))),u(t,Ec,(t=>n(3,i=t))),u(t,Cf,(t=>n(4,l=t))),u(t,Ut,(t=>n(5,a=t))),u(t,qf,(t=>n(6,s=t)));let c,f=0,h=0;K((()=>{n(8,c=new URLSearchParams(window.location.search.replace(/^\?params=/,"")))}));return t.$$.update=()=>{1&t.$$.dirty&&Ut.set(f<600),4&t.$$.dirty&&r&&Ec.set(null),3&t.$$.dirty&&function(t,e){const n={height:e,width:t};console.log("dimensions",n),window.top.postMessage(n,"*")}(f,h),768&t.$$.dirty&&o.length&&((t=>{if(!t||0===Object.keys(t).length)return;const{status:e,useCase:n,architecture:r,infrastructure:o,access:i,country:l,corporatePartnership:a,crossborderPartnerships:s}=t;hc.applyBoolArray(e),dc.applyBoolArray(n),gc.applyBoolArray(r),vc.applyBoolArray(o),yc.applyBoolArray(i),l&&(pc.unselectAll(),l.forEach((t=>{pc.select(t)})))})((t=>{let e={};if(!t)return e;const n=t.get("params")||"",r=t.get("country")||"";if(n){const[t,r,o,i,l]=n.split(";");e={...e,status:Yf(Wf(t)),useCase:Yf(Wf(r)),architecture:Yf(Wf(o)),infrastructure:Yf(Wf(i)),access:Yf(Wf(l))}}return r&&(e={...e,country:r.split(";")}),e})(c)),(t=>{if(!t)return;const e=t.get("selected");e&&Cf.set(+e)})(c),n(8,c=null))},[f,h,r,i,l,a,s,function(t){const{detail:{category:e,name:n}}=t;bc(),_c(e,n)},c,o,()=>function(t,e,n=e){return t.set(n),e}(Cf,l=null,l),function(){f=this.clientWidth,h=this.clientHeight,n(0,f),n(1,h)}]}class Pm extends Bt{constructor(t){super(),Tt(this,t,Lm,Bm,a,{})}}function Fm(e){let n,r,o;return r=new Pm({}),{c(){n=S("div"),Nt(r.$$.fragment),z(n,"class","app-wrapper svelte-17b3kz4")},m(t,e){k(t,n,e),Rt(r,n,null),o=!0},p:t,i(t){o||(wt(r.$$.fragment,t),o=!0)},o(t){$t(r.$$.fragment,t),o=!1},d(t){t&&C(n),Ot(r)}}}return new class extends Bt{constructor(t){super(),Tt(this,t,null,Fm,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
